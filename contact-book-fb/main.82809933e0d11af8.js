"use strict";(self.webpackChunkcontact_book_fb=self.webpackChunkcontact_book_fb||[]).push([[792],{28:()=>{function Tc(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function L(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){Tc(o,r,i,s,a,"next",u)}function a(u){Tc(o,r,i,s,a,"throw",u)}s(void 0)})}}function $h(t,e){return Object.is(t,e)}let It=null,Sc=!1,Ly=1;const Gt=Symbol("SIGNAL");function ge(t){const e=It;return It=t,e}const aa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ac(t){if(Sc)throw new Error("");if(null===It)return;It.consumerOnSignalRead(t);const e=It.nextProducerIndex++;Wh(It),e<It.producerNode.length&&It.producerNode[e]!==t&&Nc(It)&&Gh(It.producerNode[e],It.producerIndexOfThis[e]),It.producerNode[e]!==t&&(It.producerNode[e]=t,It.producerIndexOfThis[e]=Nc(It)?QT(t,It,e):0),It.producerLastReadVersion[e]=t.version}function Rc(t){if((!Nc(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ly)){if(!t.producerMustRecompute(t)&&!zh(t))return void Hh(t);t.producerRecomputeValue(t),Hh(t)}}function GT(t){if(void 0===t.liveConsumerNode)return;const e=Sc;Sc=!0;try{for(const n of t.liveConsumerNode)n.dirty||e$(n)}finally{Sc=e}}function WT(){return!1!==It?.consumerAllowSignalWrites}function e$(t){t.dirty=!0,GT(t),t.consumerMarkedDirty?.(t)}function Hh(t){t.dirty=!1,t.lastCleanEpoch=Ly}function ua(t){return t&&(t.nextProducerIndex=0),ge(t)}function Mc(t,e){if(ge(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Nc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zh(t){Wh(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Rc(n),r!==n.version))return!0}return!1}function qh(t){if(Wh(t),Nc(t))for(let e=0;e<t.producerNode.length;e++)Gh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function QT(t,e,n){if(KT(t),0===t.liveConsumerNode.length&&ZT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=QT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Gh(t,e){if(KT(t),1===t.liveConsumerNode.length&&ZT(t))for(let r=0;r<t.producerNode.length;r++)Gh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wh(i),i.producerIndexOfThis[r]=e}}function Nc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function KT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ZT(t){return void 0!==t.producerNode}const Oo=Symbol("UNSET"),ca=Symbol("COMPUTING"),Li=Symbol("ERRORED"),n$={...aa,value:Oo,dirty:!0,error:null,equal:$h,kind:"computed",producerMustRecompute:t=>t.value===Oo||t.value===ca,producerRecomputeValue(t){if(t.value===ca)throw new Error("Detected cycle in computations.");const e=t.value;t.value=ca;const n=ua(t);let r,i=!1;try{r=t.computation(),ge(null),i=e!==Oo&&e!==Li&&r!==Li&&t.equal(e,r)}catch(o){r=Li,t.error=o}finally{Mc(t,n)}i?t.value=e:(t.value=r,t.version++)}};let YT=function r$(){throw new Error};function JT(t){YT(t)}function Kh(t,e){WT()||JT(t),t.equal(t.value,e)||(t.value=e,function s$(t){t.version++,function XU(){Ly++}(),GT(t)}(t))}const jy={...aa,equal:$h,value:void 0,kind:"signal"};let Uy;function Zh(){return Uy}function Bi(t){const e=Uy;return Uy=t,e}const $y=Symbol("NotFound");function Xe(t){return"function"==typeof t}function Hy(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Error;const zy=Hy(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Yh(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class en{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Xe(r))try{r()}catch(o){e=o instanceof zy?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{rS(o)}catch(s){e=e??[],s instanceof zy?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zy(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rS(e);else{if(e instanceof en){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yh(n,e)}remove(e){const{_finalizers:n}=this;n&&Yh(n,e),e instanceof en&&e._removeParent(this)}}en.EMPTY=(()=>{const t=new en;return t.closed=!0,t})();const tS=en.EMPTY;function nS(t){return t instanceof en||t&&"closed"in t&&Xe(t.remove)&&Xe(t.add)&&Xe(t.unsubscribe)}function rS(t){Xe(t)?t():t.unsubscribe()}const Vo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jh={setTimeout(t,e,...n){const{delegate:r}=Jh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Jh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iS(t){Jh.setTimeout(()=>{const{onUnhandledError:e}=Vo;if(!e)throw t;e(t)})}function qy(){}const h$=Gy("C",void 0,void 0);function Gy(t,e,n){return{kind:t,value:e,error:n}}let Fo=null;function Xh(t){if(Vo.useDeprecatedSynchronousErrorHandling){const e=!Fo;if(e&&(Fo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Fo;if(Fo=null,n)throw r}}else t()}class Wy extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nS(e)&&e.add(this)):this.destination=v$}static create(e,n,r){return new Ky(e,n,r)}next(e){this.isStopped?Zy(function p$(t){return Gy("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zy(function f$(t){return Gy("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zy(h$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m$=Function.prototype.bind;function Qy(t,e){return m$.call(t,e)}class y${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ef(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ef(r)}else ef(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ef(n)}}}class Ky extends Wy{constructor(e,n,r){let i;if(super(),Xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Vo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qy(e.next,o),error:e.error&&Qy(e.error,o),complete:e.complete&&Qy(e.complete,o)}):i=e}this.destination=new y$(i)}}function ef(t){Vo.useDeprecatedSynchronousErrorHandling?function g$(t){Vo.useDeprecatedSynchronousErrorHandling&&Fo&&(Fo.errorThrown=!0,Fo.error=t)}(t):iS(t)}function Zy(t,e){const{onStoppedNotification:n}=Vo;n&&Jh.setTimeout(()=>n(t,e))}const v$={closed:!0,next:qy,error:function _$(t){throw t},complete:qy},Yy="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lo(t){return t}function oS(t){return 0===t.length?Lo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ft=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function w$(t){return t&&t instanceof Wy||function I$(t){return t&&Xe(t.next)&&Xe(t.error)&&Xe(t.complete)}(t)&&nS(t)}(n)?n:new Ky(n,r,i);return Xh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=sS(r))((i,o)=>{const s=new Ky({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yy](){return this}pipe(...n){return oS(n)(this)}toPromise(n){return new(n=sS(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function sS(t){var e;return null!==(e=t??Vo.Promise)&&void 0!==e?e:Promise}const D$=Hy(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Sn=(()=>{class t extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new aS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new D$}next(n){Xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?tS:(this.currentObservers=null,o.push(n),new en(()=>{this.currentObservers=null,Yh(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ft;return n.source=this,n}}return t.create=(e,n)=>new aS(e,n),t})();class aS extends Sn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:tS}}class tr extends Sn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function uS(t){return Xe(t?.lift)}function Wt(t){return e=>{if(uS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(t,e,n,r,i){return new C$(t,e,n,r,i)}class C$ extends Wy{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(t,e){return Wt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>{r.next(t.call(e,o,i++))}))})}const cS="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class F extends Error{code;constructor(e,n){super(function ri(t,e){return`${function b$(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}const tf=Symbol("InputSignalNode#UNSET"),lS={...jy,transformFn:void 0,applyValueToInputSignal(t,e){Kh(t,e)}};function dS(t,e){const n=Object.create(lS);function r(){if(Ac(n),n.value===tf)throw new F(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[Gt]=n,r}function ii(t){return{toString:t}.toString()}const da="__parameters__";function fa(t,e,n){return ii(()=>{const r=function Jy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(da)?u[da]:Object.defineProperty(u,da,{value:[]})[da];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const pt=globalThis;function Ve(t){for(let e in t)if(t[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function T$(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(kt).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Xy(t,e){return t?e?`${t} ${e}`:t:e||""}const S$=Ve({__forward_ref__:Ve});function Ke(t){return t.__forward_ref__=Ke,t.toString=function(){return kt(this())},t}function ae(t){return nf(t)?t():t}function nf(t){return"function"==typeof t&&t.hasOwnProperty(S$)&&t.__forward_ref__===Ke}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jo(t){return{providers:t.providers||[],imports:t.imports||[]}}function rf(t){return fS(t,af)||fS(t,pS)}function fS(t,e){return t.hasOwnProperty(e)?t[e]:null}function sf(t){return t&&(t.hasOwnProperty(e_)||t.hasOwnProperty(P$))?t[e_]:null}const af=Ve({\u0275prov:Ve}),e_=Ve({\u0275inj:Ve}),pS=Ve({ngInjectableDef:Ve}),P$=Ve({ngInjectorDef:Ve});class z{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function r_(t){return t&&!!t.\u0275providers}const pa=Ve({\u0275cmp:Ve}),i_=Ve({\u0275dir:Ve}),o_=Ve({\u0275pipe:Ve}),mS=Ve({\u0275mod:Ve}),oi=Ve({\u0275fac:Ve}),xc=Ve({__NG_ELEMENT_ID__:Ve}),yS=Ve({__NG_ENV_ID__:Ve});function he(t){return"string"==typeof t?t:null==t?"":String(t)}function _S(t,e){throw new F(-200,t)}function s_(t,e){throw new F(-201,!1)}var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});let a_;function vS(){return a_}function Rn(t){const e=a_;return a_=t,e}function ES(t,e,n){const r=rf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&_e.Optional?null:void 0!==e?e:void s_()}const Uo={},u_="__NG_DI_FLAG__";class IS{injector;constructor(e){this.injector=e}retrieve(e,n){return this.injector.get(e,n.optional?$y:Uo,n)}}const lf="ngTempTokenPath",L$=/\n/gm,wS="__source";function j$(t,e=_e.Default){if(void 0===Zh())throw new F(-203,!1);if(null===Zh())return ES(t,void 0,e);{const n=Zh();let r;return r=n instanceof IS?n.injector:n,r.get(t,e&_e.Optional?null:void 0,e)}}function se(t,e=_e.Default){return(vS()||j$)(ae(t),e)}function V(t,e=_e.Default){return se(t,df(e))}function df(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function c_(t){const e=[];for(let n=0;n<t.length;n++){const r=ae(t[n]);if(Array.isArray(r)){if(0===r.length)throw new F(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){const a=r[s],u=U$(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function Pc(t,e){return t[u_]=e,t.prototype[u_]=e,t}function U$(t){return t[u_]}const $o=Pc(fa("Optional"),8),l_=Pc(fa("SkipSelf"),4);function Ho(t,e){return t.hasOwnProperty(oi)?t[oi]:null}function ga(t,e){t.forEach(n=>Array.isArray(n)?ga(n,e):e(n))}function CS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=kc(t,e);return r>=0?t[1|r]=n:(r=~r,function TS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function d_(t,e){const n=kc(t,e);if(n>=0)return t[1|n]}function kc(t,e){return function Q$(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const fr={},Me=[],nr=new z(""),SS=new z("",-1),h_=new z("");class pf{get(e,n=Uo){if(n===Uo){const r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}}function $n(t,e){const n=t[mS]||null;if(!n&&!0===e)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function Ee(t){return t[pa]||null}function Hn(t){return t[o_]||null}function ji(t){return{\u0275providers:t}}function K$(...t){return{\u0275providers:f_(0,t),\u0275fromNgModule:!0}}function f_(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ga(e,s=>{const a=s;gf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&AS(i,o),n}function AS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];p_(i,o=>{e(o,r)})}}function gf(t,e,n,r){if(!(t=ae(t)))return!1;let i=null,o=sf(t);const s=!o&&Ee(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=sf(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)gf(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{ga(o.imports,d=>{gf(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&AS(c,e)}if(!a){const c=Ho(i)||(()=>new i);e({provide:i,useFactory:c,deps:Me},i),e({provide:h_,useValue:i,multi:!0},i),e({provide:nr,useValue:()=>se(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;p_(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function p_(t,e){for(let n of t)r_(n)&&(n=n.\u0275providers),Array.isArray(n)?p_(n,e):e(n)}const Z$=Ve({provide:String,useValue:Ve});function g_(t){return null!==t&&"object"==typeof t&&Z$ in t}function qo(t){return"function"==typeof t}const m_=new z(""),mf={},NS={};let y_;function yf(){return void 0===y_&&(y_=new pf),y_}class pn{}class Go extends pn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,v_(e,s=>this.processProvider(s)),this.records.set(SS,ma(void 0,this)),i.has("environment")&&this.records.set(pn,ma(void 0,this));const o=this.records.get(m_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(h_,Me,_e.Self))}retrieve(e,n){return this.get(e,n.optional?$y:Uo,n)}destroy(){Oc(this),this._destroyed=!0;const e=ge(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return Oc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Oc(this);const n=Bi(this),r=Rn(void 0);try{return e()}finally{Bi(n),Rn(r)}}get(e,n=Uo,r=_e.Default){if(Oc(this),e.hasOwnProperty(yS))return e[yS](this);r=df(r);const o=Bi(this),s=Rn(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function n4(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&rf(e);u=c&&this.injectableDefInScope(c)?ma(__(e),mf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u,r)}return(r&_e.Self?yf():this.parent).get(e,n=r&_e.Optional&&n===Uo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[lf]=a[lf]||[]).unshift(kt(e)),o)throw a;return function $$(t,e,n,r){const i=t[lf];throw e[wS]&&i.unshift(e[wS]),t.message=function H$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(L$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[lf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Rn(s),Bi(o)}}resolveInjectorInitializers(){const e=ge(null),n=Bi(this),r=Rn(void 0);try{const o=this.get(nr,Me,_e.Self);for(const s of o)s()}finally{Bi(n),Rn(r),ge(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=qo(e=ae(e))?e:ae(e&&e.provide);const r=function X$(t){return g_(t)?ma(void 0,t.useValue):ma(xS(t),mf)}(e);if(!qo(e)&&!0===e.multi){let i=this.records.get(n);i||(i=ma(void 0,mf,!0),i.factory=()=>c_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){const i=ge(null);try{return n.value===NS?_S(kt(e)):n.value===mf&&(n.value=NS,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function t4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ae(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function __(t){const e=rf(t),n=null!==e?e.factory:Ho(t);if(null!==n)return n;if(t instanceof z)throw new F(204,!1);if(t instanceof Function)return function J$(t){if(t.length>0)throw new F(204,!1);const n=function x$(t){return t&&(t[af]||t[pS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new F(204,!1)}function xS(t,e,n){let r;if(qo(t)){const i=ae(t);return Ho(i)||__(i)}if(g_(t))r=()=>ae(t.useValue);else if(function MS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...c_(t.deps||[]));else if(function RS(t){return!(!t||!t.useExisting)}(t))r=(i,o)=>se(ae(t.useExisting),void 0!==o&&o&_e.Optional?_e.Optional:void 0);else{const i=ae(t&&(t.useClass||t.provide));if(!function e4(t){return!!t.deps}(t))return Ho(i)||__(i);r=()=>new i(...c_(t.deps))}return r}function Oc(t){if(t.destroyed)throw new F(205,!1)}function ma(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function v_(t,e){for(const n of t)Array.isArray(n)?v_(n,e):n&&r_(n)?v_(n.\u0275providers,e):e(n)}function Nn(t,e){let n;t instanceof Go?(Oc(t),n=t):n=new IS(t);const i=Bi(n),o=Rn(void 0);try{return e()}finally{Bi(i),Rn(o)}}function PS(){return void 0!==vS()||null!=Zh()}function Wo(t){if(!PS())throw new F(-203,!1)}const Z=26;function gt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vt(t){return Array.isArray(t)&&!0===t[1]}function w_(t){return!!(4&t.flags)}function gr(t){return t.componentOffset>-1}function wf(t){return!(1&~t.flags)}function qn(t){return!!t.template}function ai(t){return!!(512&t[2])}function ui(t){return!(256&~t[2])}class p4{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function US(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const mr=(()=>{const t=()=>$S;return t.ngInherit=!0,t})();function $S(t){return t.type.prototype.ngOnChanges&&(t.setInput=m4),g4}function g4(){const t=zS(this),e=t?.current;if(e){const n=t.previous;if(n===fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function m4(t,e,n,r,i){const o=this.declaredInputs[r],s=zS(t)||function y4(t,e){return t[HS]=e}(t,{previous:fr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new p4(c&&c.currentValue,n,u===fr),US(t,e,i,n)}const HS="__ngSimpleChanges__";function zS(t){return t[HS]||null}function be(t){for(;Array.isArray(t);)t=t[0];return t}function Da(t,e){return be(e[t])}function mn(t,e){return be(e[t.index])}function Yo(t,e){return t.data[e]}function Jo(t,e){return t[e]}function yn(t,e){const n=e[t];return gt(n)?n:n[0]}function b_(t){return!(128&~t[2])}function rr(t,e){return null==e?null:t[e]}function WS(t){t[17]=0}function T_(t){1024&t[2]||(t[2]|=1024,b_(t)&&Ca(t))}function Lc(t){return!!(9216&t[2]||t[24]?.dirty)}function S_(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),Lc(t)&&Ca(t)}function Ca(t){t[10].changeDetectionScheduler?.notify(0);let e=ci(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,b_(e));)e=ci(e)}function Cf(t,e){if(ui(t))throw new F(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function ci(t){const e=t[3];return Vt(e)?e[3]:e}function R_(t){return t[7]??=[]}function M_(t){return t.cleanup??=[]}const ue={lFrame:rA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let x_=!1;function P_(){return ue.bindingsEnabled}function P(){return ue.lFrame.lView}function oe(){return ue.lFrame.tView}function es(t){return ue.lFrame.contextLView=t,t[8]}function ts(t){return ue.lFrame.contextLView=null,t}function ve(){let t=KS();for(;null!==t&&64===t.type;)t=t.parent;return t}function KS(){return ue.lFrame.currentTNode}function yr(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function k_(){return ue.lFrame.isParent}function JS(){return x_}function Tf(t){const e=x_;return x_=t,e}function _n(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ir(){return ue.lFrame.bindingIndex++}function di(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function x4(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,V_(e)}function V_(t){ue.lFrame.currentDirectiveIndex=t}function Sf(t){ue.lFrame.currentQueryIndex=t}function k4(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function tA(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&_e.Host||(i=k4(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ue.lFrame=nA();return r.currentTNode=e,r.lView=t,!0}function B_(t){const e=nA(),n=t[1];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nA(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?rA(t):e}function rA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function iA(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const oA=iA;function j_(){const t=iA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return ue.lFrame.selectedIndex}function ns(t){ue.lFrame.selectedIndex=t}function Ue(){const t=ue.lFrame;return Yo(t.tView,t.selectedIndex)}let aA=!0;function jc(){return aA}function Pr(t){aA=t}function U_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function Af(t,e,n){uA(t,e,3,n)}function Rf(t,e,n,r){(3&t[2])===n&&uA(t,e,n,r)}function $_(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function uA(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[17]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[17]+=65536),(a<o||-1==o)&&(U4(t,n,e,u),t[17]=(4294901760&t[17])+u+2),u++}function cA(t,e){const n=ge(null);try{e.call(t)}finally{ge(n)}}function U4(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,cA(a,o)):cA(a,o)}class Uc{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}}function lA(t){return 3===t||4===t||6===t}function dA(t){return 64===t.charCodeAt(0)}function Ta(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||hA(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function hA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function q_(t){return-1!==t}function $c(t){return 32767&t}function Hc(t,e){let n=function G4(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let G_=!0;function Mf(t){const e=G_;return G_=t,e}let W4=0;const kr={};function Nf(t,e){const n=gA(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,W_(r.data,t),W_(e,null),W_(r.blueprint,null));const i=xf(t,e),o=t.injectorIndex;if(q_(i)){const s=$c(i),a=Hc(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function W_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=wA(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Q_(t,e,n){!function Q4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xc)&&(r=n[xc]),null==r&&(r=n[xc]=W4++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function mA(t,e,n){if(n&_e.Optional||void 0!==t)return t;s_()}function yA(t,e,n,r){if(n&_e.Optional&&void 0===r&&(r=null),!(n&(_e.Self|_e.Host))){const i=t[9],o=Rn(void 0);try{return i?i.get(e,r,n&_e.Optional):ES(e,r,n&_e.Optional)}finally{Rn(o)}}return mA(r,0,n)}function _A(t,e,n,r=_e.Default,i){if(null!==t){if(2048&e[2]&&!(r&_e.Self)){const s=function X4(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!ai(s);){const a=vA(o,s,n,r|_e.Self,kr);if(a!==kr)return a;let u=o.parent;if(!u){const c=s[20];if(c){const d=c.get(n,kr,r);if(d!==kr)return d}u=wA(s),s=s[14]}o=u}return i}(t,e,n,r,kr);if(s!==kr)return s}const o=vA(t,e,n,r,kr);if(o!==kr)return o}return yA(e,n,r,i)}function vA(t,e,n,r,i){const o=function Y4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xc)?t[xc]:void 0;return"number"==typeof e?e>=0?255&e:J4:e}(n);if("function"==typeof o){if(!tA(e,t,r))return r&_e.Host?mA(i,0,r):yA(e,n,r,i);try{let s;if(s=o(r),null!=s||r&_e.Optional)return s;s_()}finally{oA()}}else if("number"==typeof o){let s=null,a=gA(t,e),u=-1,c=r&_e.Host?e[15][5]:null;for((-1===a||r&_e.SkipSelf)&&(u=-1===a?xf(t,e):e[a+8],-1!==u&&IA(r,!1)?(s=e[1],a=$c(u),e=Hc(u,e)):a=-1);-1!==a;){const d=e[1];if(EA(o,a,d.data)){const h=Z4(a,e,n,s,r,c);if(h!==kr)return h}u=e[a+8],-1!==u&&IA(r,e[1].data[a+8]===c)&&EA(o,a,e)?(s=d,a=$c(u),e=Hc(u,e)):a=-1}}return i}function Z4(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],d=function Pf(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,p=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<p;g++){const y=s[g];if(g<u&&n===y||g>=u&&y.type===n)return g}if(i){const g=s[u];if(g&&qn(g)&&g.type===n)return u}return null}(a,s,n,null==r?gr(a)&&G_:r!=s&&!!(3&a.type),i&_e.Host&&o===a);return null!==d?zc(e,s,d,a,i):kr}function zc(t,e,n,r,i){let o=t[n];const s=e.data;if(o instanceof Uc){const a=o;a.resolving&&_S(function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(s[n]));const u=Mf(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Rn(a.injectImpl):null;tA(t,r,_e.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function j4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$S(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,s[n],e)}finally{null!==d&&Rn(d),Mf(u),a.resolving=!1,oA()}}return o}function EA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function IA(t,e){return!(t&_e.Self||t&_e.Host&&e)}class mt{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _A(this._tNode,this._lView,e,df(r),n)}}function J4(){return new mt(ve(),P())}function jt(t){return ii(()=>{const e=t.prototype.constructor,n=e[oi]||K_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[oi]||K_(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function K_(t){return nf(t)?()=>{const e=K_(ae(t));return e&&e()}:Ho(t)}function wA(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function SA(t,e=null,n=null,r){const i=AA(t,e,n,r);return i.resolveInjectorInitializers(),i}function AA(t,e=null,n=null,r,i=new Set){const o=[n||Me,K$(t)];return r=r||("object"==typeof t?void 0:kt(t)),new Go(o,e||yf(),r||null,i)}class St{static THROW_IF_NOT_FOUND=Uo;static NULL=new pf;static create(e,n){if(Array.isArray(e))return SA({name:""},n,e,"");{const r=e.name??"";return SA({name:r},e.parent,e.providers,r)}}static \u0275prov=J({token:St,providedIn:"any",factory:()=>se(SS)});static __NG_ELEMENT_ID__=-1}new z("").__NG_ELEMENT_ID__=t=>{const e=ve();if(null===e)throw new F(204,!1);if(2&e.type)return e.value;if(t&_e.Optional)return null;throw new F(204,!1)};const RA=!1;let hi=(()=>class t{static __NG_ELEMENT_ID__=uH;static __NG_ENV_ID__=n=>n})();class MA extends hi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){const n=this._lView;return ui(n)?(e(),()=>{}):(Cf(n,e),()=>function A_(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e))}}function uH(){return new MA(P())}class fi{}const Gc=new z("",{providedIn:"root",factory:()=>!1}),NA=new z(""),Y_=new z("");let is=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})(),Of=(()=>{class t{internalPendingTasks=V(is);scheduler=V(fi);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){var r=this;return L(function*(){const i=r.add();try{return yield n()}finally{i()}})()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();const wt=class cH extends Sn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,PS()&&(this.destroyRef=V(hi,{optional:!0})??void 0,this.pendingTasks=V(is,{optional:!0})??void 0)}emit(e){const n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof en&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Wc(...t){}function xA(t){let e,n;function r(){t=Wc;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function PA(t){return queueMicrotask(()=>t()),()=>{t=Wc}}const J_="isAngularZone",Vf=J_+"_ID";let lH=0;class Te{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wt(!1);onMicrotaskEmpty=new wt(!1);onStable=new wt(!1);onError=new wt(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=RA}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function fH(t){const e=()=>{!function hH(t){function e(){xA(()=>{t.callbackScheduled=!1,ev(t),t.isCheckStableRunning=!0,X_(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ev(t))}(t)},n=lH++;t._inner=t._inner.fork({name:"angular",properties:{[J_]:!0,[Vf]:n,[Vf+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function pH(t){return VA(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return kA(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),OA(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return kA(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function gH(t){return VA(t,"__scheduler_tick__")}(u)&&e(),OA(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ev(t),X_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(J_)}static assertInAngularZone(){if(!Te.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dH,Wc,Wc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const dH={};function X_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ev(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function kA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OA(t){t._nesting--,X_(t)}class tv{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wt;onMicrotaskEmpty=new wt;onStable=new wt;onError=new wt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function VA(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class _r{_console=console;handleError(e){this._console.error("ERROR",e)}}const yH=new z("",{providedIn:"root",factory:()=>{const t=V(Te),e=V(_r);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function LA(t,e){return dS(t,e)}const vH=(LA.required=function _H(t){return dS(tf,t)},LA);function EH(){return Sa(ve(),P())}function Sa(t,e){return new Gn(mn(t,e))}let Gn=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=EH})();function Or(t,e){const n=function o$(t,e){const n=Object.create(jy);n.value=t,void 0!==e&&(n.equal=e);const r=()=>(Ac(n),n.value);return r[Gt]=n,r}(t,e?.equal),r=n[Gt];return n.set=i=>Kh(r,i),n.update=i=>function XT(t,e){WT()||JT(t),Kh(t,e(t.value))}(r,i),n.asReadonly=Ff.bind(n),n}function Ff(){const t=this[Gt];if(void 0===t.readonlyFn){const e=()=>this();e[Gt]=t,t.readonlyFn=e}return t.readonlyFn}function UA(t){return function jA(t){return"function"==typeof t&&void 0!==t[Gt]}(t)&&"function"==typeof t.set}function Kc(t){return!(128&~t.flags)}Symbol;var Lf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lf||{});const Bf=new Map;let CH=0;function rv(t){Bf.delete(t[19])}const ov="__ngContext__";function Pn(t,e){gt(e)?(t[ov]=e[19],function TH(t){Bf.set(t[19],t)}(e)):t[ov]=e}function ZA(t){return JA(t[12])}function YA(t){return JA(t[4])}function JA(t){for(;null!==t&&!Vt(t);)t=t[4];return t}let av;const pi=new z("",{providedIn:"root",factory:()=>qH}),qH="ng",uv=new z(""),cv=new z("",{providedIn:"platform",factory:()=>"unknown"}),s0=new z("",{providedIn:"root",factory:()=>function Vr(){if(void 0!==av)return av;if(typeof document<"u")return document;throw new F(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),l0=new z("",{providedIn:"root",factory:()=>!1});var Ev=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Ev||{});const Ra=new z(""),p0=new Set;function kn(t){p0.has(t)||(p0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let qf=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ZH})();function ZH(){return new qf(P(),ve())}var Ma=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ma||{});let Iv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();const g0=[Ma.EarlyRead,Ma.Write,Ma.MixedReadWrite,Ma.Read];let m0=(()=>{class t{ngZone=V(Te);scheduler=V(fi);errorHandler=V(_r,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(Ra,{optional:!0})}execute(){this.executing=!0;for(const r of g0)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Ca(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ev.AFTER_NEXT_RENDER,n):n()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();class y0{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function wv(t,e){!e?.injector&&Wo();const n=e?.injector??V(St);return kn("NgAfterNextRender"),function v0(t,e,n,r){const i=e.get(Iv);i.impl??=e.get(m0);const o=e.get(Ra,null,{optional:!0}),s=n?.phase??Ma.MixedReadWrite,a=!0!==n?.manualCleanup?e.get(hi):null,u=e.get(qf,null,{optional:!0}),c=new y0(i.impl,function YH(t,e){if(t instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[e]=t,n}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}(t,n,e,!0)}function H0(t,e){const n=t.contentQueries;if(null!==n){const r=ge(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Sf(n[i]),a.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function Ov(t,e,n){Sf(0);const r=ge(null);try{e(t,n)}finally{ge(r)}}function Vv(t,e,n){if(w_(e)){const r=ge(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ge(r)}}}var or=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(or||{});let tp;function W0(t){return function Fv(){if(void 0===tp&&(tp=null,pt.trustedTypes))try{tp=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tp}()?.createScriptURL(t)||t}class Q0{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cS})`}}function zi(t){return t instanceof Q0?t.changingThisBreaksApplicationSecurity:t}function ul(t,e){const n=function L3(t){return t instanceof Q0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cS})`)}return n===e}const $3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ba=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ba||{});function rR(t){const e=ll();return e?e.sanitize(Ba.URL,t)||"":ul(t,"URL")?zi(t):function Lv(t){return(t=String(t)).match($3)?t:"unsafe:"+t}(he(t))}function iR(t){const e=ll();if(e)return W0(e.sanitize(Ba.RESOURCE_URL,t)||"");if(ul(t,"ResourceURL"))return W0(zi(t));throw new F(904,!1)}function ll(){const t=P();return t&&t[10].sanitizer}function Fr(t){return t instanceof Function?t():t}function yz(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const pR="ng-template";function _z(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==yz(e[i+1].toLowerCase(),n,0))return!0}else if(zv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function zv(t){return 4===t.type&&t.value!==pR}function vz(t,e,n){return e===(4!==t.type||n?t.value:pR)}function Ez(t,e,n){let r=4;const i=t.attrs,o=null!==i?function Dz(t){for(let e=0;e<t.length;e++)if(lA(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!vz(t,u,n)||""===u&&1===e.length){if(vr(r))return!1;s=!0}}else if(8&r){if(null===i||!_z(t,i,u,n)){if(vr(r))return!1;s=!0}}else{const c=e[++a],d=Iz(u,i,zv(t),n);if(-1===d){if(vr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(vr(r))return!1;s=!0}}}}else{if(!s&&!vr(r)&&!vr(u))return!1;if(s&&vr(u))continue;s=!1,r=u|1&r}}return vr(r)||s}function vr(t){return!(1&t)}function Iz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Cz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gR(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ez(t,e[r],n))return!0;return!1}function mR(t,e){return t?":not("+e.trim()+")":e}function Tz(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vr(s)&&(e+=mR(o,i),i=""),r=s,o=o||!vr(r);n++}return""!==i&&(e+=mR(o,i)),e}const fe={};function op(t,e,n){return t.createElement(e,n)}function as(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _R(t,e,n){t.appendChild(e,n)}function vR(t,e,n,r,i){null!==r?as(t,e,n,r,i):_R(t,e,n)}function IR(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function q4(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];dA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function Mz(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function Rz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Wv(t,e,n,r,i,o,s,a,u,c,d){const h=Z+r,p=h+i,g=function Nz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fe);return n}(h,p),y="function"==typeof c?c():c;return g[1]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:d}}function sp(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==c||t&&2048&t[2])&&(h[2]|=2048),WS(h),h[3]=h[14]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[9]=u||t&&t[9]||null,h[5]=o,h[19]=function bH(){return CH++}(),h[6]=d,h[20]=c,h[15]=2==e.type?t[15]:h,h}function Qv(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function hl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Kv(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function At(t=1){DR(oe(),P(),Kt()+t,!1)}function DR(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&Rf(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Af(e,o,n)}ns(n)}var ap=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ap||{});function Zv(t,e,n,r){const i=ge(null);try{const[o,s,a]=t.inputs[n];let u=null;!!(s&ap.SignalBased)&&(u=e[o][Gt]),null!==u&&void 0!==u.transformFn?r=u.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,u,r,n,o):US(e,u,o,r)}finally{ge(i)}}function CR(t,e,n,r,i){const o=Kt(),s=2&r;try{ns(-1),s&&e.length>Z&&DR(t,e,Z,!1),n(r,i)}finally{ns(o)}}function up(t,e,n){(function Bz(t,e,n){const r=n.directiveStart,i=n.directiveEnd;gr(n)&&function xz(t,e,n){const r=mn(e,t),i=function wR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=Kv(t,sp(t,i,null,Qv(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Nf(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],u=zc(e,t,s,n);Pn(u,e),null!==o&&$z(0,s-r,u,a,0,o),qn(a)&&(yn(n.index,e)[8]=zc(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function jz(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function P4(){return ue.lFrame.currentDirectiveIndex}();try{ns(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];V_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Uz(u,c)}}finally{ns(-1),V_(s)}}(t,e,n)}function Yv(t,e,n=mn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let bR=()=>null;function On(t,e,n,r,i,o,s,a){if(a||!tE(e,t,n,r,i)){if(3&e.type){const u=mn(e,n);r=function Fz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i)}}else gr(e)&&function Lz(t,e){const n=yn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)}function Uz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Jv(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];gR(e,o.selectors,!1)&&(r??=[],qn(o)?r.unshift(o):r.push(o))}return r}function Lr(t,e,n,r,i,o){const s=mn(t,e);!function Xv(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?he(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],s,o,t.value,n,r,i)}function $z(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)Zv(r,n,s[a],s[a+1])}function tE(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let u=0;u<s.length;u+=2){const c=s[u];Zv(e.data[c],n[c],s[u+1],i),a=!0}if(o)for(const u of o)Zv(e.data[u],n[u],r,i),a=!0;return a}function Hz(t,e){const n=yn(e,t),r=n[1];!function zz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),cp(r,n,n[8])}function cp(t,e,n){B_(e);try{const r=t.viewQuery;null!==r&&Ov(1,r,n);const i=t.template;null!==i&&CR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&H0(t,e),t.staticViewQueries&&Ov(2,t.viewQuery,n);const o=t.components;null!==o&&function qz(t,e){for(let n=0;n<e.length;n++)Hz(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,j_()}}function us(t,e){return!e||null===e.firstChild||Kc(t)}function rE(t,e){return undefined(t,e)}var qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qi||{});function Gi(t){return!(32&~t.flags)}function $a(t,e,n,r,i){if(null!=r){let o,s=!1;Vt(r)?o=r:gt(r)&&(s=!0,r=r[0]);const a=be(r);0===t&&null!==n?null==i?_R(e,n,a):as(e,n,a,i||null,!0):1===t&&null!==n?as(e,n,a,i||null,!0):2===t?function dl(t,e,n){t.removeChild(null,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function Jz(t,e,n,r,i){const o=n[7];o!==be(n)&&$a(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];dp(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function RR(t,e){e[10].changeDetectionScheduler?.notify(9),dp(t,e,e[11],2,null,null)}function iE(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function fl(t,e){if(ui(e))return;const n=e[11];n.destroyNode&&dp(t,e,n,3,null,null),function Qz(t){let e=t[12];if(!e)return oE(t[1],t);for(;e;){let n=null;if(gt(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)gt(e)&&oE(e[1],e),e=e[3];null===e&&(e=t),gt(e)&&oE(e[1],e),n=e&&e[4]}e=n}}(e)}function oE(t,e){if(ui(e))return;const n=ge(null);try{e[2]&=-129,e[2]|=256,e[24]&&qh(e[24]),function Zz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Uc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function Kz(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&Vt(e[3])){r!==e[3]&&iE(r,e);const i=e[18];null!==i&&i.detachView(t)}rv(e)}finally{ge(n)}}function sE(t,e,n){return function MR(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(gr(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===or.None||i===or.Emulated)return null}return mn(r,n)}(t,e.parent,n)}let PR=function xR(t,e,n){return 40&t.type?mn(t,n):null};function lp(t,e,n,r){const i=sE(t,r,e),o=e[11],a=function NR(t,e,n){return PR(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)vR(o,i,n[u],a,!1);else vR(o,i,n,a,!1)}function cs(t,e){if(null!==e){const n=e.type;if(3&n)return mn(e,t);if(4&n)return uE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return cs(t,r);{const i=t[e.index];return Vt(i)?uE(-1,i):be(i)}}if(128&n)return cs(t,e.next);if(32&n)return rE(e,t)()||be(t[e.index]);{const r=OR(t,e);return null!==r?Array.isArray(r)?r[0]:cs(ci(t[15]),r):cs(t,e.next)}}return null}function OR(t,e){return null!==e?t[15][5].projection[e.projection]:null}function uE(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return cs(r,i)}return e[7]}function cE(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Pn(be(a),r),n.flags|=2),!Gi(n))if(8&u)cE(t,e,n.child,r,i,o,!1),$a(e,t,i,a,o);else if(32&u){const c=rE(n,r);let d;for(;d=c();)$a(e,t,i,d,o);$a(e,t,i,a,o)}else 16&u?VR(t,e,r,n,i,o):$a(e,t,i,a,o);n=s?n.projectionNext:n.next}}function dp(t,e,n,r,i,o){cE(n,r,t.firstChild,e,i,o,!1)}function VR(t,e,n,r,i,o){const s=n[15],u=s[5].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)$a(e,t,i,u[c],o);else{let c=u;const d=s[3];Kc(r)&&(c.flags|=128),cE(t,e,c,d,i,o,!0)}}function Ha(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(be(o)),Vt(o)&&lE(o,r);const s=n.type;if(8&s)Ha(t,e,n.child,r);else if(32&s){const a=rE(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=OR(e,n);if(Array.isArray(a))r.push(...a);else{const u=ci(e[15]);Ha(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lE(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&Ha(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function FR(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let LR=[];const r6={...aa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ca(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},o6={...aa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ci(t.lView);for(;e&&!BR(e[1]);)e=ci(e);e&&T_(e)},consumerOnSignalRead(){this.lView[24]=this}};function BR(t){return 2!==t.type}function jR(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function hp(t,e=!0,n=0){const i=t[10].rendererFactory;i.begin?.();try{!function a6(t,e){const n=JS();try{Tf(!0),dE(t,e);let r=0;for(;Lc(t);){if(100===r)throw new F(103,!1);r++,dE(t,1)}}finally{Tf(n)}}(t,n)}catch(s){throw e&&function eE(t,e){const n=t[9],r=n?n.get(_r,null):null;r&&r.handleError(e)}(t,s),s}finally{i.end?.()}}function $R(t,e,n,r){if(ui(e))return;const i=e[2];B_(e);let a=!0,u=null,c=null;BR(t)?(c=function e6(t){return t[24]??function t6(t){const e=LR.pop()??Object.create(r6);return e.lView=t,e}(t)}(e),u=ua(c)):null===function By(){return It}()?(a=!1,c=function i6(t){const e=t[24]??Object.create(o6);return e.lView=t,e}(e),u=ua(c)):e[24]&&(qh(e[24]),e[24]=null);try{WS(e),function XS(t){return ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&CR(t,e,n,2,r);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Af(e,g,null)}else{const g=t.preOrderHooks;null!==g&&Rf(e,g,0,null),$_(e,0)}if(function u6(t){for(let e=ZA(t);null!==e;e=YA(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)T_(n[r])}}(e),jR(e),HR(e,0),null!==t.contentQueries&&H0(t,e),d){const g=t.contentCheckHooks;null!==g&&Af(e,g)}else{const g=t.contentHooks;null!==g&&Rf(e,g,1),$_(e,1)}!function l6(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ns(~i);else{const o=i,s=n[++r],a=n[++r];x4(s,o);const u=e[o];a(2,u)}}}finally{ns(-1)}}(t,e);const h=t.components;null!==h&&qR(e,h,0);const p=t.viewQuery;if(null!==p&&Ov(2,p,r),d){const g=t.viewCheckHooks;null!==g&&Af(e,g)}else{const g=t.viewHooks;null!==g&&Rf(e,g,2),$_(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const g of e[22])g();e[22]=null}FR(e),e[2]&=-73}catch(d){throw Ca(e),d}finally{null!==c&&(Mc(c,u),a&&function n6(t){t.lView[24]!==t&&(t.lView=null,LR.push(t))}(c)),j_()}}function HR(t,e){for(let n=ZA(t);null!==n;n=YA(n))for(let r=10;r<n.length;r++)zR(n[r],e)}function c6(t,e,n){const r=yn(e,t);zR(r,n)}function zR(t,e){b_(t)&&dE(t,e)}function dE(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!zh(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)$R(r,t,r.template,t[8]);else if(8192&i){jR(t),HR(t,1);const a=r.components;null!==a&&qR(t,a,1),FR(t)}}function qR(t,e,n){for(let r=0;r<e.length;r++)c6(t,e[r],n)}function pl(t,e){const n=JS()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=ci(t);if(ai(t)&&!r)return t;t=r}return null}function GR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gl(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&iE(i,r),e>0&&(t[n-1][4]=r[4]);const o=hf(t,10+e);!function AR(t,e){RR(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function QR(t,e){const n=t[9],r=e[3];(gt(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}let ml=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const e=this._lView,n=e[1];return Ha(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return ui(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Vt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(gl(e,r),hf(n,r))}this._attachedToViewContainer=!1}fl(this._lView[1],this._lView)}onDestroy(e){Cf(this._lView,e)}markForCheck(){pl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){S_(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,hp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=ai(this._lView),n=this._lView[16];null!==n&&!e&&iE(n,this._lView),RR(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;const n=ai(this._lView),r=this._lView[16];null!==r&&!n&&QR(r,this._lView),S_(this._lView)}},_i=(()=>class t{static __NG_ELEMENT_ID__=p6})();const h6=_i,f6=class extends h6{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Ua(t,e,n,r){const i=ge(null);try{const o=e.tView,u=sp(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[16]=t[e.index];const d=t[18];return null!==d&&(u[18]=d.createEmbeddedView(o)),cp(o,u,n),u}finally{ge(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ml(i)}};function p6(){return function fp(t,e){return 4&t.type?new f6(e,t,Sa(t,e)):null}(ve(),P())}function qa(t,e,n,r,i){let o=t.data[e];if(null===o)o=function mE(t,e,n,r,i){const o=KS(),s=k_(),u=t.data[e]=function C6(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Xo(){return null!==ue.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function D6(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,u,o,s),u}(t,e,n,r,i),function N4(){return ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Bc(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yr(o,!0),o}let l9=class{},yM=class{};class d9{resolveComponentFactory(e){throw Error(`No component factory found for ${kt(e)}.`)}}let Ep=class{static NULL=new d9};class CE{}let vi=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function h9(){const t=P(),n=yn(ve().index,t);return(gt(n)?n:t)[11]}()})(),f9=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>null})}return t})();const TE={};class Qa{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=df(r);const i=this.injector.get(e,TE,r);return i!==TE||n===TE?i:this.parentInjector.get(e,n,r)}}function SE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Xy(i,a):2==o&&(r=Xy(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function $(t,e=_e.Default){const n=P();return null===n?se(t,e):_A(ve(),n,ae(t),e)}function AE(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a,u=null,c=null;const d=function _9(t){let e=null,n=!1;for(let s=0;s<t.length;s++){const a=t[s];if(0===s&&qn(a)&&(e=a),null!==a.findHostDirectiveDefs){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(const s of t)null!==s.findHostDirectiveDefs&&(r??=[],i??=new Map,o??=new Map,v9(s,r,o,i)),s===e&&(r??=[],r.push(s));return null!==r?(r.push(...null===e?t:t.slice(1)),[r,i,o]):null}(s);null===d?a=s:[a,u,c]=d,function I9(t,e,n,r,i,o,s){const a=r.length;let u=!1;for(let p=0;p<a;p++){const g=r[p];!u&&qn(g)&&(u=!0,E9(t,n,p)),Q_(Nf(n,e),t,g.type)}!function S9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let p=0;p<a;p++){const g=r[p];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,h=hl(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){const g=r[p];if(n.mergedAttrs=Ta(n.mergedAttrs,g.hostAttrs),D9(t,n,e,h,g),T9(h,g,i),null!==s&&s.has(g)){const[v,E]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,E+n.directiveStart])}else(null===o||!o.has(g))&&n.directiveToIndex.set(g.type,h);null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const y=g.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function w9(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);IM(0,e,o,r),IM(1,e,o,r),DM(e,r,!0)}else EM(0,e,i,r),EM(1,e,i,r),DM(e,r,!1)}}(t,n,o)}(t,e,n,a,o,u,c)}null!==o&&null!==r&&function y9(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new F(-301,!1);r.push(e[i],o)}}(n,r,o)}function v9(t,e,n,r){const i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function E9(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function EM(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),wM(e,o)}}function IM(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),wM(e,s)}}function wM(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function DM(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||zv(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!n&&i.hasOwnProperty(u)){const c=i[u];for(const d of c)if(d===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){const c=o[u];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function D9(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ho(i.type)),s=new Uc(o,qn(i),$);t.blueprint[r]=s,n[r]=s,function C9(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function b9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,hl(t,n,i.hostVars,fe),i)}function T9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qn(e)&&(n[""]=t)}}function CM(t,e,n,r,i,o,s,a){const u=e.consts,d=qa(e,t,2,r,rr(u,s));return o&&AE(e,n,d,rr(u,a),i),d.mergedAttrs=Ta(d.mergedAttrs,d.attrs),null!==d.attrs&&SE(d,d.attrs,!1),null!==d.mergedAttrs&&SE(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}function bM(t,e){U_(t,e),w_(e)&&t.queries.elementEnd(e)}class TM extends Ep{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ee(e);return new Tl(n,this.ngModule)}}class Tl extends yM{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function A9(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:!!(r&ap.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function R9(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Sz(t){return t.map(Tz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){const o=ge(null);try{const s=this.componentDef,a=r?["ng-version","19.2.11"]:function Az(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(this.componentDef.selectors[0]),u=Wv(0,null,null,1,0,null,null,null,null,[a],null),c=function M9(t,e,n){let r=e instanceof pn?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new Qa(n,r):n}(s,i||this.ngModule,e),d=function N9(t){const e=t.get(CE,null);if(null===e)throw new F(407,!1);return{rendererFactory:e,sanitizer:t.get(f9,null),changeDetectionScheduler:t.get(fi,null)}}(c),h=d.rendererFactory.createRenderer(null,s),p=r?function Pz(t,e,n,r){const o=r.get(l0,!1)||n===or.ShadowDom,s=t.selectRootElement(e,o);return function kz(t){bR(t)}(s),s}(h,r,s.encapsulation,c):function x9(t,e){const n=(t.selectors[0][0]||"div").toLowerCase();return op(e,n,"svg"===n?"svg":"math"===n?"math":null)}(s,h),g=sp(null,u,null,512|Qv(s),null,null,d,h,c,null,null);g[Z]=p,B_(g);let y=null;try{const v=CM(Z,u,g,"#host",()=>[this.componentDef],!0,0);p&&(IR(h,p,v),Pn(p,g)),up(u,g,v),Vv(u,v,g),bM(u,v),void 0!==n&&function k9(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(v,this.ngContentSelectors,n),y=yn(v.index,g),g[8]=y[8],cp(u,g,null)}catch(v){throw null!==y&&rv(y),rv(g),v}finally{j_()}return new P9(this.componentType,g)}finally{ge(o)}}}class P9 extends l9{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Yo(n[1],Z),this.location=Sa(this._tNode,n),this.instance=yn(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new ml(n,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;tE(r,i[1],i,e,n),this.previousInputValues.set(e,n),pl(yn(r.index,i),1)}get injector(){return new mt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let Er=(()=>class t{static __NG_ELEMENT_ID__=O9})();function O9(){return function RM(t,e){let n;const r=e[t.index];return Vt(r)?n=r:(n=GR(r,e,null,t),e[t.index]=n,Kv(e,n)),MM(n,e,t,r),new SM(n,t,e)}(ve(),P())}const V9=Er,SM=class extends V9{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Sa(this._hostTNode,this._hostLView)}get injector(){return new mt(this._hostTNode,this._hostLView)}get parentInjector(){const e=xf(this._hostTNode,this._hostLView);if(q_(e)){const n=Hc(e,this._hostLView),r=$c(e);return new mt(n[1].data[r+8],n)}return new mt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=AM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,us(this._hostTNode,null)),a}createComponent(e,n,r,i,o){const s=e&&!function Vc(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const u=s?e:new Tl(Ee(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(s?c:this.parentInjector).get(pn,null);v&&(o=v)}Ee(u.componentType??{});const g=u.create(c,i,null,o);return this.insertImpl(g.hostView,a,us(this._hostTNode,null)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function I4(t){return Vt(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[3],c=new SM(u,u[5],u[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function za(t,e,n,r=!0){const i=e[1];if(function d6(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],CS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&QR(s,e);const a=e[18];null!==a&&a.insertView(t),S_(e),e[2]|=128}(i,e,t,n),r){const s=uE(n,t),a=e[11],u=a.parentNode(t[7]);null!==u&&function Wz(t,e,n,r,i,o){r[0]=i,r[5]=e,dp(t,r,n,1,i,o)}(i,t[5],a,e,u,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),CS(RE(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=AM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=gl(this._lContainer,n);r&&(hf(RE(this._lContainer),n),fl(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=gl(this._lContainer,n);return r&&null!=hf(RE(this._lContainer),n)?new ml(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function AM(t){return t[8]}function RE(t){return t[8]||(t[8]=[])}let MM=function xM(t,e,n,r){if(t[7])return;let i;i=8&n.type?be(r):function F9(t,e){const n=t[11],r=n.createComment(""),i=mn(e,t),o=n.parentNode(i);return as(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i};let hs=class{},ZM=class{};class jE extends hs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new TM(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=$n(e);this._bootstrapComponents=Fr(o.bootstrap),this._r3Injector=AA(e,n,[{provide:hs,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class UE extends ZM{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jE(this.moduleType,e,[])}}class YM extends hs{injector;componentFactoryResolver=new TM(this);instance=null;constructor(e){super();const n=new Go([...e.providers,{provide:hs,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver}],e.parent||yf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wp(t,e,n=null){return new YM({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let iq=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=f_(0,n.type),i=r.length>0?wp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(se(pn))})}return t})();function fs(t){return ii(()=>{const e=JM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iq).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||or.Emulated,styles:t.styles||Me,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&kn("NgStandalone"),XM(n);const r=t.dependencies;return n.directiveDefs=Dp(r,!1),n.pipeDefs=Dp(r,!0),n.id=function lq(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function oq(t){return Ee(t)||function Qt(t){return t[i_]||null}(t)}function sq(t){return null!==t}function Za(t){return ii(()=>({type:t.type,bootstrap:t.bootstrap||Me,declarations:t.declarations||Me,imports:t.imports||Me,exports:t.exports||Me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aq(t,e){if(null==t)return fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ap.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function uq(t){if(null==t)return fr;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ce(t){return ii(()=>{const e=JM(t);return XM(e),e})}function Vn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function JM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aq(t.inputs,e),outputs:uq(t.outputs),debugInfo:null}}function XM(t){t.features?.forEach(e=>e(t))}function Dp(t,e){if(!t)return null;const n=e?Hn:oq;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(sq)}function Le(t){let e=function e1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=$E(t.inputs),s.declaredInputs=$E(t.declaredInputs),s.outputs=$E(t.outputs);const a=i.hostBindings;a&&gq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&fq(t,u),c&&pq(t,c),dq(t,i),T$(t.outputs,i.outputs),qn(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Le&&(n=!1)}}e=Object.getPrototypeOf(e)}!function hq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ta(i.hostAttrs,n=Ta(n,i.hostAttrs))}}(r)}function dq(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function $E(t){return t===fr?{}:t===Me?[]:t}function fq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function pq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function gq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Cp(t){return!!function zE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Br(t,e,n){return t[e]=n}function yt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ml(t,e,n,r,i,o,s,a){const u=P(),c=oe();return function Rl(t,e,n,r,i,o,s,a,u,c){const d=n+Z,h=e.firstCreatePass?function Cq(t,e,n,r,i,o,s,a,u){const c=e.consts,d=qa(e,t,4,s||null,a||null);P_()&&AE(e,n,d,rr(c,u),Jv),d.mergedAttrs=Ta(d.mergedAttrs,d.attrs),U_(e,d);const h=d.tView=Wv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,e,t,r,i,o,s,a,u):e.data[d];yr(h,!1);const p=o1(e,t,h,n);jc()&&lp(e,t,p,h),Pn(p,t);const g=GR(p,t,p,h);return t[d]=g,Kv(t,g),wf(h)&&up(e,t,h),null!=u&&Yv(t,h,c),h}(u,c,t,e,n,r,i,rr(c.consts,o),s,a),Ml}let o1=function s1(t,e,n,r){return Pr(!0),e[11].createComment("")};let WE=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const v1=new z("");let E1=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new D8})}return t})();class D8{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,n]of this.queues)null===e?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(const n of e)e.delete(n),this.queuedEffectCount--,n.run()}}function xl(t){return!!t&&"function"==typeof t.then}function I1(t){return!!t&&"function"==typeof t.subscribe}const w1=new z("");function D1(t){return ji([{provide:w1,multi:!0,useValue:t}])}let C1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(w1,{optional:!0})??[];injector=V(St);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=Nn(this.injector,i);if(xl(o))n.push(o);else if(I1(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xa=new z("");let Wn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(yH);afterRenderManager=V(Iv);zonelessEnabled=V(Gc);rootEffectScheduler=V(E1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Sn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(is).hasPendingTasks.pipe(Re(n=>!n));constructor(){V(Ra,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(pn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=St.NULL){const o=n instanceof yM;if(!this._injector.get(C1).done)throw new F(405,"");let a;a=o?n:this._injector.get(Ep).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const u=function C8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(hs),d=a.create(i,[],r||a.selector,u),h=d.location.nativeElement,p=d.injector.get(v1,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Mp(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(Ev.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);const n=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(n),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(CE,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const n=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)T8(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Lc(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Mp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xa,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function T8(t,e,n,r){(n||Lc(t))&&hp(t,e,n&&!r?0:1)}function jr(t,e,n,r){const i=P();return yt(i,ir(),e)&&(oe(),Lr(Ue(),i,t,e,n,r)),jr}function tu(t,e,n,r){return yt(t,ir(),n)?e+he(n)+r:fe}function Np(t,e){return t<<17|e<<2}function ms(t){return t>>17&32767}function iI(t){return 2|t}function cu(t){return(131068&t)>>2}function oI(t,e){return-131069&t|e<<2}function sI(t){return 1|t}function z1(t,e,n,r){const i=t[n+1],o=null===e;let s=r?ms(i):cu(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];h5(t[s],e)&&(a=!0,t[s+1]=r?sI(c):iI(c)),s=r?ms(c):cu(c)}a&&(t[n+1]=r?iI(i):sI(i))}function h5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&kc(t,e)>=0}const Ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q1(t){return t.substring(Ft.key,Ft.keyEnd)}function G1(t,e){const n=Ft.textEnd;return n===e?-1:(e=Ft.keyEnd=function m5(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ft.key=e,n),lu(t,e,n))}function lu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ar(t,e,n){const r=P();return yt(r,ir(),e)&&On(oe(),Ue(),r,t,e,r[11],n,!1),ar}function aI(t,e,n,r,i){tE(e,t,n,i?"class":"style",r)}function xp(t,e){return function Ir(t,e,n,r){const i=P(),o=oe(),s=di(2);o.firstUpdatePass&&X1(o,t,s,r),e!==fe&&yt(i,s,e)&&tN(o,o.data[Kt()],i,i[11],t,i[s+1]=function A5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=kt(zi(t)))),t}(e,n),r,s)}(t,e,null,!0),xp}function $r(t,e){for(let n=function p5(t){return function Q1(t){Ft.key=0,Ft.keyEnd=0,Ft.value=0,Ft.valueEnd=0,Ft.textEnd=t.length}(t),G1(t,lu(t,0,Ft.textEnd))}(e);n>=0;n=G1(e,n))Un(t,q1(e),!0)}function J1(t,e){return e>=t.expandoStartIndex}function X1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Kt()],s=J1(t,n);rN(o,r)&&null===e&&!s&&(e=!1),e=function I5(t,e,n,r){const i=function F_(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=kl(n=uI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=uI(i,t,e,n,r),null===o){let u=function w5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==cu(r))return t[ms(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=uI(null,t,e,u[1],r),u=kl(u,e.attrs,r),function D5(t,e,n,r){t[ms(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function C5(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=kl(r,t[o].hostAttrs,n);return kl(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function l5(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ms(s),u=cu(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||kc(n,d)>0)&&(c=!0)):d=n,i)if(0!==u){const p=ms(t[a+1]);t[r+1]=Np(p,a),0!==p&&(t[p+1]=oI(t[p+1],r)),t[a+1]=function u5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Np(a,0),0!==a&&(t[a+1]=oI(t[a+1],r)),a=r;else t[r+1]=Np(u,0),0===a?a=r:t[u+1]=oI(t[u+1],r),u=r;c&&(t[r+1]=iI(t[r+1])),z1(t,d,r,!0),z1(t,d,r,!1),function d5(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&kc(o,e)>=0&&(n[r+1]=sI(n[r+1]))}(e,d,t,r,o),s=Np(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function uI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=kl(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function kl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,s,!!n||e[++o]))}return void 0===t?null:t}function tN(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],d=function c5(t){return!(1&~t)}(c)?nN(u,e,n,i,cu(c),s):void 0;Pp(d)||(Pp(o)||function a5(t){return!(2&~t)}(c)&&(o=nN(u,null,n,i,a,s)),function Xz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:qi.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qi.Important),t.setStyle(n,r,i,o))}}(r,s,Da(Kt(),n),i,o))}function nN(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=n[i+1];p===fe&&(p=h?Me:void 0);let g=h?d_(p,r):d===r?p:void 0;if(c&&!Pp(g)&&(g=d_(u,r)),Pp(g)&&(a=g,s))return a;const y=t[i+1];i=s?ms(y):cu(y)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=d_(u,r))}return a}function Pp(t){return void 0!==t}function rN(t,e){return!!(t.flags&(e?8:16))}function iN(t,e,n){!function wr(t,e,n,r){const i=oe(),o=di(2);i.firstUpdatePass&&X1(i,null,o,r);const s=P();if(n!==fe&&yt(s,o,n)){const a=i.data[Kt()];if(rN(a,r)&&!J1(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Xy(u,n||"")),aI(i,a,s,n,r)}else!function S5(t,e,n,r,i,o,s,a){i===fe&&(i=Me);let u=0,c=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=u<i.length?i[u+1]:void 0,g=c<o.length?o[c+1]:void 0;let v,y=null;d===h?(u+=2,c+=2,p!==g&&(y=h,v=g)):null===h||null!==d&&d<h?(u+=2,y=d):(c+=2,y=h,v=g),null!==y&&tN(t,e,n,r,y,v,s,a),d=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function b5(t,e,n){if(null==n||""===n)return Me;const r=[],i=zi(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(Un,$r,tu(P(),t,e,n),!0)}function le(t,e,n,r){const i=P(),o=oe(),s=Z+t,a=i[11],u=o.firstCreatePass?CM(s,o,i,e,Jv,P_(),n,r):o.data[s],c=uN(o,i,u,a,e,t);i[s]=c;const d=wf(u);return yr(u,!0),IR(a,c,u),!Gi(u)&&jc()&&lp(o,i,c,u),(0===function D4(){return ue.lFrame.elementDepthCount}()||d)&&Pn(c,i),function C4(){ue.lFrame.elementDepthCount++}(),d&&(up(o,i,u),Vv(o,u,i)),null!==r&&Yv(i,u),le}function pe(){let t=ve();k_()?function O_(){ue.lFrame.isParent=!1}():(t=t.parent,yr(t,!1));const e=t;(function T4(t){return ue.skipHydrationRootTNode===t})(e)&&function M4(){ue.skipHydrationRootTNode=null}(),function b4(){ue.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&bM(n,e),null!=e.classesWithoutHost&&function H4(t){return!!(8&t.flags)}(e)&&aI(n,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function z4(t){return!!(16&t.flags)}(e)&&aI(n,e,P(),e.stylesWithoutHost,!1),pe}function He(t,e,n,r){return le(t,e,n,r),pe(),He}let uN=(t,e,n,r,i,o)=>(Pr(!0),op(r,i,function sA(){return ue.lFrame.currentNamespace}()));function pI(){return P()}const Op="en-US";let gN=Op;function PN(t,e,n){return function r(i){if(i===Function)return n;pl(gr(t)?yn(t.index,e):e,5);const s=e[8];let a=kN(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=kN(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function kN(t,e,n,r){const i=ge(null);try{return!1!==n(r)}catch(o){return function qG(t,e){const n=t[9],r=n?n.get(_r,null):null;r&&r.handleError(e)}(t,o),!1}finally{ge(i)}}function ON(t,e,n,r,i,o){const a=e[1],d=e[n][a.data[n].outputs[r]],h=a.firstCreatePass?M_(a):null,p=R_(e),g=d.subscribe(o),y=p.length;p.push(o,g),h&&h.push(i,t.index,y,-(y+1))}const yI=new Map;function nn(t,e,n,r){const i=P(),o=oe(),s=ve();return _I(o,i,i[11],s,t,e,r),nn}function _I(t,e,n,r,i,o,s){const a=wf(r),c=t.firstCreatePass?M_(t):null,d=R_(e);let h=!0;if(3&r.type||s){const p=mn(r,e),g=s?s(p):p,y=d.length,v=s?T=>s(be(T[r.index])):r.index;let E=null;if(!s&&a&&(E=function QG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=PN(r,e,o);const T=e[9].get(pi);yI.get(T)?.(g,i,o);const O=n.listen(g,i,o);d.push(o,O),c&&c.push(i,v,y,y+1)}}else o=PN(r,e,o);if(h){const p=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let y=0;y<g.length;y+=2)ON(r,e,g[y],g[y+1],i,o);if(p&&p.length)for(const y of p)ON(r,e,y,i,i,o)}}function Bp(t=1){return function O4(t){return(ue.lFrame.contextLView=function QS(t,e){for(;t>0;)e=e[14],t--;return e}(t,ue.lFrame.contextLView))[8]}(t)}function KN(t){return Jo(function ZS(){return ue.lFrame.contextLView}(),Z+t)}function Oe(t,e=""){const n=P(),r=oe(),i=t+Z,o=r.firstCreatePass?qa(r,i,1,e,null):r.data[i],s=ox(r,n,o,e,t);n[i]=s,jc()&&lp(r,n,s,o),yr(o,!1)}let ox=(t,e,n,r,i)=>(Pr(!0),function qv(t,e){return t.createText(e)}(e[11],r));function Yi(t,e,n){const r=P(),i=tu(r,t,e,n);return i!==fe&&function Ei(t,e,n){const r=Da(e,t);!function yR(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Kt(),i),Yi}function hu(t,e,n){UA(e)&&(e=e());const r=P();return yt(r,ir(),e)&&On(oe(),Ue(),r,t,e,r[11],n,!1),hu}function jl(t,e){const n=UA(t);return n&&t.set(e),n}function fu(t,e){const n=P(),r=oe(),i=ve();return _I(r,n,n[11],i,t,e),fu}function II(t,e,n,r,i){if(t=ae(t),Array.isArray(t))for(let o=0;o<t.length;o++)II(t[o],e,n,r,i);else{const o=oe(),s=P(),a=ve();let u=qo(t)?t:ae(t.provide);const c=xS(t),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(qo(t)||!t.multi){const g=new Uc(c,i,$),y=DI(u,e,i?d:d+p,h);-1===y?(Q_(Nf(a,s),o,u),wI(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[y]=g,s[y]=g)}else{const g=DI(u,e,d+p,h),y=DI(u,e,d,d+p),E=y>=0&&n[y];if(i&&!E||!i&&!(g>=0&&n[g])){Q_(Nf(a,s),o,u);const T=function EW(t,e,n,r,i){const o=new Uc(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,yx(o,i,r&&!n),o}(i?vW:_W,n.length,i,r,c);!i&&E&&(n[y].providerFactory=T),wI(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else wI(o,t,g>-1?g:y,yx(n[i?y:g],c,!i&&r));!i&&r&&E&&n[y].componentProviders++}}}function wI(t,e,n,r){const i=qo(e),o=function Y$(t){return!!t.useClass}(e);if(i||o){const u=(o?ae(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,u]):c[d+1].push(r,u)}else c.push(n,u)}}}function yx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function DI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _W(t,e,n,r,i){return CI(this.multi,[])}function vW(t,e,n,r,i){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=zc(r,r[1],this.providerFactory.index,i);s=u.slice(0,a),CI(o,s);for(let c=a;c<u.length;c++)s.push(u[c])}else s=[],CI(o,s);return s}function CI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function it(t,e=[]){return n=>{n.providersResolver=(r,i)=>function yW(t,e,n){const r=oe();if(r.firstCreatePass){const i=qn(t);II(n,r.data,r.blueprint,i,!0),II(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}function Ix(t,e,n,r,i,o){const s=e+n;return yt(t,s,i)?Br(t,s+1,o?r.call(o,i):r(i)):function Ul(t,e){const n=t[e];return n===fe?void 0:n}(t,s+1)}class l7{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let d7=(()=>{class t{compileModuleSync(n){return new UE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fr($n(n).declarations).reduce((s,a)=>{const u=Ee(a);return u&&s.push(new Tl(u)),s},[]);return new l7(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),p7=(()=>{class t{zone=V(Te);changeDetectionScheduler=V(fi);applicationRef=V(Wn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te({...MI(),scheduleInRootZone:n}),[{provide:Te,useFactory:t},{provide:nr,multi:!0,useFactory:()=>{const r=V(p7,{optional:!0});return()=>r.initialize()}},{provide:nr,multi:!0,useFactory:()=>{const r=V(m7);return()=>{r.initialize()}}},!0===e?{provide:NA,useValue:!0}:[],{provide:Y_,useValue:n??RA}]}function MI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let m7=(()=>{class t{subscription=new en;initialized=!1;zone=V(Te);pendingTasks=V(is);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ql=(()=>{class t{appRef=V(Wn);taskService=V(is);ngZone=V(Te);zonelessEnabled=V(Gc);tracing=V(Ra,{optional:!0});disableScheduling=V(NA,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new en;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(Y_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?PA:xA;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ji=new z("",{providedIn:"root",factory:()=>V(Ji,_e.Optional|_e.SkipSelf)||function y7(){return typeof $localize<"u"&&$localize.locale||Op}()}),Hp=new z(""),D7=new z("");function Gl(t){return!t.moduleRef}let Xi=null;function eP(){return!1}let Wl=(()=>class t{static __NG_ELEMENT_ID__=R7})();function R7(t){return function M7(t,e,n){if(gr(t)&&!n){const r=yn(t.index,e);return new ml(r,r)}return 175&t.type?new ml(e[15],e):null}(ve(),P(),!(16&~t))}class oP{constructor(){}supports(e){return Cp(e)}create(e){return new O7(e)}}const k7=(t,e)=>e;class O7{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||k7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<aP(r,i,o)?n:r,a=aP(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const g=p<o.length?o[p]:o[p]=0,y=g+p;d<=y&&y<c&&(o[p]=g+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Cp(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function wq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new V7(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class V7{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}}class F7{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sP{map=new Map;put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new F7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cP(){return new VI([new oP])}let VI=(()=>{class t{factories;static \u0275prov=J({token:t,providedIn:"root",factory:cP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cP()),deps:[[t,new l_,new $o]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new F(901,!1)}}return t})();function $7(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function A7(t=[]){if(Xi)return Xi;const e=function Jx(t=[],e){return St.create({name:e,providers:[{provide:m_,useValue:"platform"},{provide:Hp,useValue:new Set([()=>Xi=null])},...t]})}(t);return Xi=e,function b1(){!function i$(t){YT=t}(()=>{throw new F(600,!1)})}(),function Xx(t){const e=t.get(uv,null);Nn(t,()=>{e?.forEach(n=>n())})}(e),e}(r),o=[RI({}),{provide:fi,useExisting:ql},...n||[]];return function Kx(t){const e=Gl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{Gl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(_r,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Gl(t)){const o=()=>e.destroy(),s=t.platformInjector.get(Hp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Hp);s.add(o),t.moduleRef.onDestroy(()=>{Mp(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function b7(t,e,n){try{const r=n();return xl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(r,n,()=>{const o=e.get(C1);return o.runInitializers(),o.donePromise.then(()=>{if(function aG(t){"string"==typeof t&&(gN=t.toLowerCase().replace(/_/g,"-"))}(e.get(Ji,Op)||Op),!e.get(D7,!0))return Gl(t)?e.get(Wn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Gl(t)){const u=e.get(Wn);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return function C7(t,e){const n=t.injector.get(Wn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new YM({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function gu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Rt(t){return function l$(t){const e=ge(null);try{return t()}finally{ge(e)}}(t)}function Ii(t,e){return function t$(t,e){const n=Object.create(n$);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(Rc(n),Ac(n),n.value===Li)throw n.error;return n.value};return r[Gt]=n,r}(t,e?.equal)}const ur=new z("");let MP=null;function eo(){return MP}class xQ{}let jI=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(kQ),providedIn:"platform"})}return t})();const PQ=new z("");let kQ=(()=>{class t extends jI{_location;_history;_doc=V(ur);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(n){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function UI(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function NP(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function wi(t){return t&&"?"!==t[0]?`?${t}`:t}let vs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(PP),providedIn:"root"})}return t})();const xP=new z("");let PP=(()=>{class t extends vs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+wi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+wi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(se(jI),se(xP,8))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kl=(()=>{class t{_subject=new Sn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function FQ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(NP(kP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wi(r))}normalize(n){return t.stripTrailingSlash(function VQ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,kP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=wi;static joinWithSlash=UI;static stripTrailingSlash=NP;static \u0275fac=function(r){return new(r||t)(se(vs))};static \u0275prov=J({token:t,factory:()=>function OQ(){return new Kl(se(vs))}(),providedIn:"root"})}return t})();function kP(t){return t.replace(/\/index.html$/,"")}function VP(t){return"server"===t}const $I=new z("");let FP=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(se($I),se(Te))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class LP{_doc;constructor(e){this._doc=e}manager}const Yp="ng-app-id";function BP(t){for(const e of t)e.remove()}function jP(t,e){const n=e.createElement("style");return n.textContent=t,n}function HI(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let UP=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=VP(o),function UQ(t,e,n,r){const i=t.head?.querySelectorAll(`style[${Yp}="${e}"],link[${Yp}="${e}"]`);if(i)for(const o of i)o.removeAttribute(Yp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,jP);r?.forEach(i=>this.addUsage(i,this.external,HI))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(BP(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])BP(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,jP(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,HI(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yp,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(se(ur),se(pi),se(s0,8),se(cv))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const zI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qI=/%COMP%/g,WQ=new z("",{providedIn:"root",factory:()=>!0});function HP(t,e){return e.map(n=>n.replace(qI,t))}let zP=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=d,this.platformIsServer=VP(a),this.defaultRenderer=new GI(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===or.ShadowDom&&(r={...r,encapsulation:or.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof GP?i.applyToHost(n):i instanceof WI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case or.Emulated:o=new GP(u,c,r,this.appId,d,s,a,h,p);break;case or.ShadowDom:return new YQ(u,c,n,r,s,a,this.nonce,h,p);default:o=new WI(u,c,r,d,s,a,h,p)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(se(FP),se(UP),se(pi),se(WQ),se(ur),se(cv),se(Te),se(s0),se(Ra,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class GI{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(zI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=zI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=zI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qi.DashCase|qi.Important)?e.style.setProperty(n,r,i&qi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=eo().getGlobalEventTarget(this.doc,e)))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function qP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class YQ extends GI{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,u,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=HP(i.id,d);for(const p of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}const h=i.getExternalStyles?.();if(h)for(const p of h){const g=HI(p,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class WI extends GI{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?HP(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class GP extends WI{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,c){const d=i+"-"+r.id;super(e,n,r,o,s,a,u,c,d),this.contentAttr=function QQ(t){return"_ngcontent-%COMP%".replace(qI,t)}(d),this.hostAttr=function KQ(t){return"_nghost-%COMP%".replace(qI,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class QI extends xQ{supportsDOMEvents=!0;static makeCurrent(){!function NQ(t){MP??=t}(new QI)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function JQ(){return Zl=Zl||document.querySelector("base"),Zl?Zl.getAttribute("href"):null}();return null==n?null:function XQ(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function LQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Zl=null,tK=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const WP=["alt","control","meta","shift"],rK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function QP(t){return{appProviders:[...hK,...t?.providers??[]],platformProviders:lK}}const lK=[{provide:cv,useValue:"browser"},{provide:uv,useValue:function aK(){QI.makeCurrent()},multi:!0},{provide:ur,useFactory:function cK(){return function zH(t){av=t}(document),document}}],hK=[{provide:m_,useValue:"root"},{provide:_r,useFactory:function uK(){return new _r}},{provide:$I,useClass:(()=>{class t extends LP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(se(ur))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[ur]},{provide:$I,useClass:(()=>{class t extends LP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),WP.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=rK[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WP.forEach(s=>{s!==i&&(0,iK[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(se(ur))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[ur]},zP,UP,FP,{provide:CE,useExisting:zP},{provide:class jQ{},useClass:tK},[]];let fK=(()=>{class t extends vs{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=UI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+wi(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+wi(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(se(jI),se(xP,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class XK{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ok=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new XK(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),sk(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{sk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)($(Er),$(_i),$(VI))};static \u0275dir=ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function sk(t,e){t.context.$implicit=e.item}let ak=(()=>{class t{_viewContainer;_context=new eZ;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uk(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uk(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)($(Er),$(_i))};static \u0275dir=ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class eZ{$implicit=null;ngIf=null}function uk(t,e){if(t&&!t.createEmbeddedView)throw new F(2020,!1)}class rZ{createSubscription(e,n){return Rt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Rt(()=>e.unsubscribe())}}class iZ{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}}const oZ=new iZ,sZ=new rZ;let lk=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(xl(n))return oZ;if(I1(n))return sZ;throw function Cr(t,e){return new F(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)($(Wl,16))};static \u0275pipe=Vn({name:"async",type:t,pure:!1})}return t})(),Jl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Za({type:t});static \u0275inj=jo({})}return t})();function to(t){return this instanceof to?(this.v=t,this):new to(t)}function gk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function hw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mk=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yk(t){return Xe(t?.then)}function _k(t){return Xe(t[Yy])}function vk(t){return Symbol.asyncIterator&&Xe(t?.[Symbol.asyncIterator])}function Ek(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ik=function YZ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wk(t){return Xe(t?.[Ik])}function Dk(t){return function pk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(y){return Promise.resolve(y).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,y){r[g]&&(i[g]=function(v){return new Promise(function(E,T){o.push([g,v,E,T])>1||u(g,v)})},y&&(i[g]=y(i[g])))}function u(g,y){try{!function c(g){g.value instanceof to?Promise.resolve(g.value.v).then(d,h):p(o[0][2],g)}(r[g](y))}catch(v){p(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function p(g,y){g(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield to(n.read());if(i)return yield to(void 0);yield yield to(r)}}finally{n.releaseLock()}})}function Ck(t){return Xe(t?.getReader)}function Hr(t){if(t instanceof ft)return t;if(null!=t){if(_k(t))return function JZ(t){return new ft(e=>{const n=t[Yy]();if(Xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mk(t))return function XZ(t){return new ft(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yk(t))return function eY(t){return new ft(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,iS)})}(t);if(vk(t))return bk(t);if(wk(t))return function tY(t){return new ft(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ck(t))return function nY(t){return bk(Dk(t))}(t)}throw Ek(t)}function bk(t){return new ft(e=>{(function rY(t,e){var n,r,i,o;return function hk(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=gk(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ci(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cg(t,e=0){return Wt((n,r)=>{n.subscribe(Pt(r,i=>Ci(r,t,()=>r.next(i),e),()=>Ci(r,t,()=>r.complete(),e),i=>Ci(r,t,()=>r.error(i),e)))})}function lg(t,e=0){return Wt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Tk(t,e){if(!t)throw new Error("Iterable cannot be null");return new ft(n=>{Ci(n,e,()=>{const r=t[Symbol.asyncIterator]();Ci(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $t(t,e){return e?function cY(t,e){if(null!=t){if(_k(t))return function iY(t,e){return Hr(t).pipe(lg(e),cg(e))}(t,e);if(mk(t))return function sY(t,e){return new ft(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(yk(t))return function oY(t,e){return Hr(t).pipe(lg(e),cg(e))}(t,e);if(vk(t))return Tk(t,e);if(wk(t))return function aY(t,e){return new ft(n=>{let r;return Ci(n,e,()=>{r=t[Ik](),Ci(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Xe(r?.return)&&r.return()})}(t,e);if(Ck(t))return function uY(t,e){return Tk(Dk(t),e)}(t,e)}throw Ek(t)}(t,e):Hr(t)}function pw(t){return t[t.length-1]}function Sk(t){return Xe(pw(t))?t.pop():void 0}function dg(t){return function lY(t){return t&&Xe(t.schedule)}(pw(t))?t.pop():void 0}function de(...t){return $t(t,dg(t))}const{isArray:dY}=Array,{getPrototypeOf:hY,prototype:fY,keys:pY}=Object;function Ak(t){if(1===t.length){const e=t[0];if(dY(e))return{args:e,keys:null};if(function gY(t){return t&&"object"==typeof t&&hY(t)===fY}(e)){const n=pY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:mY}=Array;function Rk(t){return Re(e=>function yY(t,e){return mY(e)?t(...e):t(e)}(t,e))}function Mk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gw(...t){const e=dg(t),n=Sk(t),{args:r,keys:i}=Ak(t);if(0===r.length)return $t([],e);const o=new ft(function _Y(t,e,n=Lo){return r=>{Nk(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Nk(e,()=>{const c=$t(t[u],e);let d=!1;c.subscribe(Pt(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Mk(i,s):Lo));return n?o.pipe(Rk(n)):o}function Nk(t,e,n){t?Ci(n,t,e):e()}const hg=Hy(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function rn(t,e,n=1/0){return Xe(e)?rn((r,i)=>Re((o,s)=>e(r,o,i,s))(Hr(t(r,i))),n):("number"==typeof e&&(n=e),Wt((r,i)=>function vY(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?y(v):u.push(v),y=v=>{o&&e.next(v),c++;let E=!1;Hr(n(v,d++)).subscribe(Pt(e,T=>{i?.(T),o?g(T):e.next(T)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const T=u.shift();s?Ci(e,s,()=>y(T)):y(T)}p()}catch(T){e.error(T)}}))};return t.subscribe(Pt(e,g,()=>{h=!0,p()})),()=>{a?.()}}(r,i,t,n)))}function Xl(t=1/0){return rn(Lo,t)}function mw(...t){return function EY(){return Xl(1)}()($t(t,dg(t)))}function xk(t){return new ft(e=>{Hr(t()).subscribe(e)})}function fg(t,e){const n=Xe(t)?t:()=>t,r=i=>i.error(n());return new ft(e?i=>e.schedule(r,0,i):r)}const br=new ft(t=>t.complete());function yw(){return Wt((t,e)=>{let n=null;t._refCount++;const r=Pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Pk extends ft{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;const n=this.getSubject();e.add(this.source.subscribe(Pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return yw()(this)}}function zr(t,e){return Wt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Pt(r,u=>{i?.unsubscribe();let c=0;const d=o++;Hr(t(u,d)).subscribe(i=Pt(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function yu(t){return t<=0?()=>br:Wt((e,n)=>{let r=0;e.subscribe(Pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function no(t,e){return Wt((n,r)=>{let i=0;n.subscribe(Pt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pg(t){return Wt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kk(t=DY){return Wt((e,n)=>{let r=!1;e.subscribe(Pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DY(){return new hg}function Es(t,e){const n=arguments.length>=2;return r=>r.pipe(t?no((i,o)=>t(i,o,r)):Lo,yu(1),n?pg(e):kk(()=>new hg))}function ed(t,e){return Xe(e)?rn(t,e,1):rn(t,1)}function Dn(t,e,n){const r=Xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Wt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Pt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Lo}function _u(t){return Wt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Pt(n,void 0,void 0,s=>{o=Hr(t(s,_u(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _w(t){return t<=0?()=>br:Wt((e,n)=>{let r=[];e.subscribe(Pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vw(t){return Wt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}let AY=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(se(ur))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ye="primary",nd=Symbol("RouteTitle");class xY{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function vu(t){return new xY(t)}function PY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qr(t,e){const n=t?Ew(t):void 0,r=e?Ew(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fk(t[i],e[i]))return!1;return!0}function Ew(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Fk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function Lk(t){return t.length>0?t[t.length-1]:null}function io(t){return function CZ(t){return!!t&&(t instanceof ft||Xe(t.lift)&&Xe(t.subscribe))}(t)?t:xl(t)?$t(Promise.resolve(t)):de(t)}const OY={exact:function Uk(t,e,n){if(!ws(t.segments,e.segments)||!gg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Uk(t.children[r],e.children[r],n))return!1;return!0},subset:$k},Bk={exact:function VY(t,e){return qr(t,e)},subset:function FY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Fk(t[n],e[n]))},ignored:()=>!0};function jk(t,e,n){return OY[n.paths](t.root,e.root,n.matrixParams)&&Bk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $k(t,e,n){return Hk(t,e,e.segments,n)}function Hk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ws(i,n)||e.hasChildren()||!gg(i,n,r))}if(t.segments.length===n.length){if(!ws(t.segments,n)||!gg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$k(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ws(t.segments,i)&&gg(t.segments,i,r)&&t.children[ye])&&Hk(t.children[ye],e,o,r)}}function gg(t,e,n){return e.every((r,i)=>Bk[n](t[i].parameters,r.parameters))}class Is{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vu(this.queryParams),this._queryParamMap}toString(){return jY.serialize(this)}}class ze{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yg(this)}}class rd{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vu(this.parameters),this._parameterMap}toString(){return Gk(this)}}function ws(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let id=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new mg,providedIn:"root"})}return t})();class mg{parse(e){const n=new YY(e);return new Is(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${od(e.root,!0)}`,r=function HY(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${_g(n)}=${_g(i)}`).join("&"):`${_g(n)}=${_g(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function UY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const jY=new mg;function yg(t){return t.segments.map(e=>Gk(e)).join("/")}function od(t,e){if(!t.hasChildren())return yg(t);if(e){const n=t.children[ye]?od(t.children[ye],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${od(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function BY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ye&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ye&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ye?[od(t.children[ye],!1)]:[`${i}:${od(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ye]?`${yg(t)}/${n[0]}`:`${yg(t)}/(${n.join("//")})`}}function zk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _g(t){return zk(t).replace(/%3B/gi,";")}function Iw(t){return zk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vg(t){return decodeURIComponent(t)}function qk(t){return vg(t.replace(/\+/g,"%20"))}function Gk(t){return`${Iw(t.path)}${function $Y(t){return Object.entries(t).map(([e,n])=>`;${Iw(e)}=${Iw(n)}`).join("")}(t.parameters)}`}const zY=/^[^\/()?;#]+/;function ww(t){const e=t.match(zY);return e?e[0]:""}const qY=/^[^\/()?;=#]+/,WY=/^[^=?&#]+/,KY=/^[^&#]+/;class YY{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ye]=new ze(e,n)),r}parseSegment(){const e=ww(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new rd(vg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function GY(t){const e=t.match(qY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ww(this.remaining);i&&(r=i,this.capture(r))}e[vg(n)]=vg(r)}parseQueryParam(e){const n=function QY(t){const e=t.match(WY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function ZY(t){const e=t.match(KY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=qk(n),o=qk(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ww(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ye]:new ze([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function Wk(t){return t.segments.length>0?new ze([],{[ye]:t}):t}function Qk(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=Qk(i);if(r===ye&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function JY(t){if(1===t.numberOfChildren&&t.children[ye]){const e=t.children[ye];return new ze(t.segments.concat(e.segments),e.children)}return t}(new ze(t.segments,e))}function Ds(t){return t instanceof Is}function Kk(t){let e;const i=Wk(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new ze(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function Zk(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Dw(i,i,i,n,r);const o=function eJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Jk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Jk(n,e,r)}(e);if(o.toRoot())return Dw(i,i,new ze([],{}),n,r);const s=function tJ(t,e,n){if(t.isAbsolute)return new Ig(e,!0,0);if(!n)return new Ig(e,!1,NaN);if(null===n.parent)return new Ig(n,!0,0);const r=Eg(t.commands[0])?0:1;return function nJ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Ig(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?ad(s.segmentGroup,s.index,o.commands):Xk(s.segmentGroup,s.index,o.commands);return Dw(i,s.segmentGroup,a,n,r)}function Eg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sd(t){return"object"==typeof t&&null!=t&&t.outlets}function Dw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:Yk(t,e,n);const a=Wk(Qk(s));return new Is(a,o,i)}function Yk(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:Yk(o,e,n)}),new ze(t.segments,r)}class Jk{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Eg(r[0]))throw new F(4003,!1);const i=r.find(sd);if(i&&i!==Lk(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ig{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Xk(t,e,n){if(t??=new ze([],{}),0===t.segments.length&&t.hasChildren())return ad(t,e,n);const r=function iJ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(sd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!tO(u,c,s))return o;r+=2}else{if(!tO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ze(t.segments.slice(0,r.pathIndex),{});return o.children[ye]=new ze(t.segments.slice(r.pathIndex),t.children),ad(o,0,i)}return r.match&&0===i.length?new ze(t.segments,{}):r.match&&!t.hasChildren()?Cw(t,e,n):r.match?ad(t,0,i):Cw(t,e,n)}function ad(t,e,n){if(0===n.length)return new ze(t.segments,{});{const r=function rJ(t){return sd(t[0])?t[0].outlets:{[ye]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ye)&&t.children[ye]&&1===t.numberOfChildren&&0===t.children[ye].segments.length){const o=ad(t.children[ye],e,n);return new ze(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Xk(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ze(t.segments,i)}}function Cw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(sd(o)){const u=oJ(o.outlets);return new ze(r,u)}if(0===i&&Eg(n[0])){r.push(new rd(t.segments[e].path,eO(n[0]))),i++;continue}const s=sd(o)?o.outlets[ye]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Eg(a)?(r.push(new rd(s,eO(a))),i+=2):(r.push(new rd(s,{})),i++)}return new ze(r,{})}function oJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Cw(new ze([],{}),0,r))}),e}function eO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tO(t,e,n){return t==n.path&&qr(e,n.parameters)}const wg="imperative";var Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{});class Gr{id;url;constructor(e,n){this.id=e,this.url=n}}class Dg extends Gr{type=Ce.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bi extends Gr{urlAfterRedirects;type=Ce.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kn||{}),Cg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cg||{});class Cs extends Gr{reason;code;type=Ce.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Eu extends Gr{reason;code;type=Ce.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class bw extends Gr{error;target;type=Ce.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nO extends Gr{urlAfterRedirects;state;type=Ce.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sJ extends Gr{urlAfterRedirects;state;type=Ce.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aJ extends Gr{urlAfterRedirects;state;shouldActivate;type=Ce.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uJ extends Gr{urlAfterRedirects;state;type=Ce.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cJ extends Gr{urlAfterRedirects;state;type=Ce.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lJ{route;type=Ce.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dJ{route;type=Ce.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hJ{snapshot;type=Ce.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fJ{snapshot;type=Ce.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pJ{snapshot;type=Ce.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gJ{snapshot;type=Ce.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rO{routerEvent;position;anchor;type=Ce.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tw{}class bg{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Tr(t){return t.outlet||ye}function ud(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class IJ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ud(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new cd(this.rootInjector)}}let cd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new IJ(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(se(pn))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class iO{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Sw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Sw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Aw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Aw(e,this._root).map(n=>n.value)}}function Sw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Sw(t,n);if(r)return r}return null}function Aw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Aw(t,n);if(r.length)return r.unshift(e),r}return[]}class Sr{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Iu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oO extends iO{snapshot;constructor(e,n){super(e),this.snapshot=n,Rw(this,e)}toString(){return this.snapshot.toString()}}function sO(t){const e=function wJ(t){const o=new Sg([],{},{},"",{},ye,t,null,{});return new aO("",new Sr(o,[]))}(t),n=new tr([new rd("",{})]),r=new tr({}),i=new tr({}),o=new tr({}),s=new tr(""),a=new bs(n,r,o,s,i,ye,t,e.root);return a.snapshot=e.root,new oO(new Sr(a,[]),e)}class bs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Re(c=>c[nd]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(e=>vu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(e=>vu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tg(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&cO(i)&&(r.resolve[nd]=i.title),r}class Sg{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[nd]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aO extends iO{url;constructor(e,n){super(n),this.url=e,Rw(this,n)}toString(){return uO(this._root)}}function Rw(t,e){e.value._routerState=t,e.children.forEach(n=>Rw(t,n))}function uO(t){const e=t.children.length>0?` { ${t.children.map(uO).join(", ")} } `:"";return`${t.value}${e}`}function Mw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qr(e.params,n.params)||t.paramsSubject.next(n.params),function kY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),qr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Nw(t,e){const n=qr(t.params,e.params)&&function LY(t,e){return ws(t,e)&&t.every((n,r)=>qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Nw(t.parent,e.parent))}function cO(t){return"string"==typeof t.title||null===t.title}const DJ=new z("");let xw=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new wt;deactivateEvents=new wt;attachEvents=new wt;detachEvents=new wt;routerOutletData=vH(void 0);parentContexts=V(cd);location=V(Er);changeDetector=V(Wl);inputBinder=V(Ag,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new CJ(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ce({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mr]})}return t})();class CJ{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===bs?this.route:e===cd?this.childContexts:e===DJ?this.outletData:this.parent.get(e,n)}}const Ag=new z("");let lO=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=gw([r.queryParams,r.params,r.data]).pipe(zr(([o,s,a],u)=>(a={...o,...s,...a},0===u?de(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function MQ(t){const e=Ee(t);if(!e)return null;const n=new Tl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),dO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=fs({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&He(0,"router-outlet")},dependencies:[xw],encapsulation:2})}return t})();function Pw(t){const e=t.children&&t.children.map(Pw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=dO),n}function ld(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function TJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ld(t,r,i);return ld(t,r)})}(t,e,n);return new Sr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ld(t,a)),s}}const r=function SJ(t){return new bs(new tr(t.url),new tr(t.params),new tr(t.queryParams),new tr(t.fragment),new tr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>ld(t,o));return new Sr(r,i)}}class kw{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const hO="ngNavigationCancelingError";function Rg(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fO(!1,Kn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fO(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[hO]=!0,n.cancellationCode=e,n}function pO(t){return!!t&&t[hO]}class MJ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Iu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Iu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Iu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Iu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gJ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Mw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class gO{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mg{component;route;constructor(e,n){this.component=e,this.route=n}}function NJ(t,e,n){const r=t._root;return dd(r,e?e._root:null,n,[r.value])}function wu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function N$(t){return null!==rf(t)}(t)?e.get(t):t:r}function dd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Iu(e);return t.children.forEach(s=>{(function PJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function kJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ws(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ws(t.url,e.url)||!qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nw(t,e)||!qr(t.queryParams,e.queryParams);default:return!Nw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gO(r)):(o.data=s.data,o._resolvedData=s._resolvedData),dd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mg(a.outlet.component,s))}else s&&hd(e,a,i),i.canActivateChecks.push(new gO(r)),dd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hd(a,n.getContext(s),i)),i}function hd(t,e,n){const r=Iu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{hd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Mg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fd(t){return"function"==typeof t}function mO(t){return t instanceof hg||"EmptyError"===t?.name}const Ng=Symbol("INITIAL_VALUE");function Du(){return zr(t=>gw(t.map(e=>e.pipe(yu(1),function wY(...t){const e=dg(t);return Wt((n,r)=>{(e?mw(t,n,e):mw(t,n)).subscribe(r)})}(Ng)))).pipe(Re(e=>{for(const n of e)if(!0!==n){if(n===Ng)return Ng;if(!1===n||UJ(n))return n}return!0}),no(e=>e!==Ng),yu(1)))}function UJ(t){return Ds(t)||t instanceof kw}function yO(t){return function E$(...t){return oS(t)}(Dn(e=>{if("boolean"!=typeof e)throw Rg(0,e)}),Re(e=>!0===e))}class Ow{segmentGroup;constructor(e){this.segmentGroup=e||null}}class Vw extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function Cu(t){return fg(new Ow(t))}class eX{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[ye])return fg(new F(4e3,!1));i=i.children[ye]}}applyRedirectCommands(e,n,r,i,o){if("string"!=typeof n){const a=n,{queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,params:g,data:y,title:v}=i,E=Nn(o,()=>a({params:g,data:y,queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,title:v}));if(E instanceof Is)throw new Vw(E);n=E}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new Vw(s);return s}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Is(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ze(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Fw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tX(t,e,n,r,i){const o=_O(t,e,n);return o.matched?(r=function mJ(t,e){return t.providers&&!t._injector&&(t._injector=wp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function YJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=wu(s,t);return io(function jJ(t){return t&&fd(t.canMatch)}(a)?a.canMatch(e,n):Nn(t,()=>a(e,n)))})).pipe(Du(),yO()):de(!0)}(r,e,n).pipe(Re(s=>!0===s?o:{...Fw}))):de(o)}function _O(t,e,n){if("**"===e.path)return function nX(t){return{matched:!0,parameters:t.length>0?Lk(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Fw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||PY)(n,t,e);if(!i)return{...Fw};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vO(t,e,n,r){return n.length>0&&function oX(t,e,n){return n.some(r=>xg(t,e,r)&&Tr(r)!==ye)}(t,n,r)?{segmentGroup:new ze(e,iX(r,new ze(n,t.children))),slicedSegments:[]}:0===n.length&&function sX(t,e,n){return n.some(r=>xg(t,e,r))}(t,n,r)?{segmentGroup:new ze(t.segments,rX(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function rX(t,e,n,r){const i={};for(const o of n)if(xg(t,e,o)&&!r[Tr(o)]){const s=new ze([],{});i[Tr(o)]=s}return{...r,...i}}function iX(t,e){const n={};n[ye]=e;for(const r of t)if(""===r.path&&Tr(r)!==ye){const i=new ze([],{});n[Tr(r)]=i}return n}function xg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class uX{}class dX{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eX(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){const e=vO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Re(({children:n,rootSnapshot:r})=>{const i=new Sr(r,n),o=new aO("",i),s=function XY(t,e,n=null,r=null){return Zk(Kk(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new Sg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,n).pipe(Re(r=>({children:r,rootSnapshot:n})),_u(r=>{if(r instanceof Vw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ow?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Re(s=>s instanceof Sr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return $t(o).pipe(ed(s=>{const a=r.children[s],u=function EJ(t,e){const n=t.filter(r=>Tr(r)===e);return n.push(...t.filter(r=>Tr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function bY(t,e){return Wt(function CY(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Pt(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),pg(null),function TY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?no((i,o)=>t(i,o,r)):Lo,_w(1),n?pg(e):kk(()=>new hg))}(),rn(s=>{if(null===s)return Cu(r);const a=EO(s);return function hX(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}(a),de(a)}))}processSegment(e,n,r,i,o,s,a){return $t(n).pipe(ed(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(_u(c=>{if(c instanceof Ow)return de(null);throw c}))),Es(u=>!!u),_u(u=>{if(mO(u))return function aX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?de(new uX):Cu(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Tr(r)===s||s!==ye&&xg(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Cu(i):Cu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=_O(n,i,o);if(!u)return Cu(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new Sg(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IO(i),Tr(i),i.component??i._loadedComponent??null,i,wO(i)),y=Tg(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);const v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(rn(E=>this.processSegment(e,r,n,E.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=tX(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(zr(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(zr(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=u,y=new Sg(p,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IO(r),Tr(r),r.component??r._loadedComponent??null,r,wO(r)),v=Tg(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);const{segmentGroup:E,slicedSegments:T}=vO(n,p,g,c);if(0===T.length&&E.hasChildren())return this.processChildren(d,c,E,y).pipe(Re(O=>new Sr(y,O)));if(0===c.length&&0===T.length)return de(new Sr(y,[]));const C=Tr(r)===o;return this.processSegment(d,c,E,T,C?ye:o,!0,y).pipe(Re(O=>new Sr(y,O instanceof Sr?[O]:[])))})):Cu(n)))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=wu(s,t);return io(function VJ(t){return t&&fd(t.canLoad)}(a)?a.canLoad(e,n):Nn(t,()=>a(e,n)))})).pipe(Du(),yO())}(e,n,r).pipe(rn(i=>i?this.configLoader.loadChildren(e,n).pipe(Dn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function XJ(){return fg(fO(!1,Kn.GuardRejected))}())):de({routes:[],injector:e})}}function fX(t){const e=t.value.routeConfig;return e&&""===e.path}function EO(t){const e=[],n=new Set;for(const r of t){if(!fX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=EO(r.children);e.push(new Sr(r.value,i))}return e.filter(r=>!n.has(r))}function IO(t){return t.data||{}}function wO(t){return t.resolve||{}}function DO(t){const e=t.children.map(n=>DO(n)).flat();return[t,...e]}function Lw(t){return zr(e=>{const n=t(e);return n?$t(n).pipe(Re(()=>e)):de(e)})}let CO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(n){return n.data[nd]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(vX),providedIn:"root"})}return t})(),vX=(()=>{class t extends CO{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(se(AY))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pd=new z("",{providedIn:"root",factory:()=>({})}),gd=new z("");let Bw=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(d7);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return de(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=io(n.loadComponent()).pipe(Re(bO),Dn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),vw(()=>{this.componentLoaders.delete(n)})),i=new Pk(r,()=>new Sn).pipe(yw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function EX(t,e,n,r){return io(t.loadChildren()).pipe(Re(bO),rn(i=>i instanceof ZM||Array.isArray(i)?de(i):$t(e.compileModuleAsync(i))),Re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(gd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pw),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(vw(()=>{this.childrenLoaders.delete(r)})),s=new Pk(o,()=>new Sn).pipe(yw());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bO(t){return function IX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let jw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(wX),providedIn:"root"})}return t})(),wX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const TO=new z(""),SO=new z("");function DX(t,e,n){const r=t.get(SO),i=t.get(ur);return t.get(Te).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function CX(t){return new Promise(e=>{wv({read:()=>setTimeout(e)},{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&Nn(t,()=>u({transition:a,from:e,to:n})),s})}const AO=new z("");let Uw=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Sn;transitionAbortSubject=new Sn;configLoader=V(Bw);environmentInjector=V(pn);destroyRef=V(hi);urlSerializer=V(id);rootContexts=V(cd);location=V(Kl);inputBindingEnabled=null!==V(Ag,{optional:!0});titleStrategy=V(CO);options=V(pd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(jw);createViewTransition=V(TO,{optional:!0});navigationErrorHandler=V(AO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new dJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new lJ(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(n){return this.transitions=new tr(null),this.transitions.pipe(no(r=>null!==r),zr(r=>{let i=!1,o=!1;return de(r).pipe(zr(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kn.SupersededByNewNavigation),br;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new Eu(s.id,this.urlSerializer.serialize(s.rawUrl),c,Cg.IgnoredSameUrlNavigation)),s.resolve(!1),br}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return de(s).pipe(zr(c=>(this.events.next(new Dg(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?br:Promise.resolve(c))),function pX(t,e,n,r,i,o){return rn(s=>function cX(t,e,n,r,i,o,s="emptyOnly"){return new dX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Re(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dn(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects};const d=new nO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:c,extractedUrl:d,source:h,restoredState:p,extras:g}=s,y=new Dg(c,this.urlSerializer.serialize(d),h,p);this.events.next(y);const v=sO(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:v,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,de(r)}{const c="";return this.events.next(new Eu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Cg.IgnoredByUrlHandlingStrategy)),s.resolve(!1),br}}),Dn(s=>{const a=new sJ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Re(s=>(this.currentTransition=r={...s,guards:NJ(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function $J(t,e){return rn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?de({...n,guardsResult:!0}):function HJ(t,e,n,r){return $t(t).pipe(rn(i=>function KJ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const u=ud(e)??i,c=wu(a,u);return io(function BJ(t){return t&&fd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):Nn(u,()=>c(t,e,n,r))).pipe(Es())})).pipe(Du()):de(!0)}(i.component,i.route,n,e,r)),Es(i=>!0!==i,!0))}(s,r,i,t).pipe(rn(a=>a&&function OJ(t){return"boolean"==typeof t}(a)?function zJ(t,e,n,r){return $t(e).pipe(ed(i=>mw(function GJ(t,e){return null!==t&&e&&e(new hJ(t)),de(!0)}(i.route.parent,r),function qJ(t,e){return null!==t&&e&&e(new pJ(t)),de(!0)}(i.route,r),function QJ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function xJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>xk(()=>de(s.guards.map(u=>{const c=ud(s.node)??n,d=wu(u,c);return io(function LJ(t){return t&&fd(t.canActivateChild)}(d)?d.canActivateChild(r,t):Nn(c,()=>d(r,t))).pipe(Es())})).pipe(Du())));return de(o).pipe(Du())}(t,i.path,n),function WJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>xk(()=>{const s=ud(e)??n,a=wu(o,s);return io(function FJ(t){return t&&fd(t.canActivate)}(a)?a.canActivate(e,t):Nn(s,()=>a(e,t))).pipe(Es())}));return de(i).pipe(Du())}(t,i.route,n))),Es(i=>!0!==i,!0))}(r,o,t,e):de(a)),Re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Dn(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw Rg(0,s.guardsResult);const a=new aJ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),no(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",Kn.GuardRejected),!1)),Lw(s=>{if(0!==s.guards.canActivateChecks.length)return de(s).pipe(Dn(a=>{const u=new uJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),zr(a=>{let u=!1;return de(a).pipe(function gX(t,e){return rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of DO(u))s.add(c);let a=0;return $t(s).pipe(ed(u=>o.has(u)?function mX(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!cO(i)&&(o[nd]=i.title),function yX(t,e,n,r){const i=Ew(t);if(0===i.length)return de({});const o={};return $t(i).pipe(rn(s=>function _X(t,e,n,r){const i=ud(e)??r,o=wu(t,i);return io(o.resolve?o.resolve(e,n):Nn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(Es(),Dn(a=>{if(a instanceof kw)throw Rg(new mg,a);o[s]=a}))),_w(1),Re(()=>o),_u(s=>mO(s)?br:fg(s)))}(o,t,e,r).pipe(Re(s=>(t._resolvedData=s,t.data=Tg(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=Tg(u,u.parent,t).resolve,de(void 0))),Dn(()=>a++),_w(1),rn(u=>a===s.size?de(n):br))})}(this.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Kn.NoDataFromResolver)}}))}),Dn(a=>{const u=new cJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Lw(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Dn(d=>{u.component=d}),Re(()=>{})));for(const d of u.children)c.push(...a(d));return c};return gw(a(s.targetSnapshot.root)).pipe(pg(null),yu(1))}),Lw(()=>this.afterPreactivation()),zr(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?$t(u).pipe(Re(()=>r)):de(r)}),Re(s=>{const a=function bJ(t,e,n){const r=ld(t,e._root,n?n._root:void 0);return new oO(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.targetRouterState=a,r}),Dn(()=>{this.events.next(new Tw)}),((t,e,n,r)=>Re(i=>(new MJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),yu(1),Dn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),function SY(t){return Wt((e,n)=>{Hr(t).subscribe(Pt(n,()=>n.complete(),qy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Dn(s=>{throw s}))),vw(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Kn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),_u(s=>{if(this.destroyed)return r.resolve(!1),br;if(o=!0,pO(s))this.events.next(new Cs(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function AJ(t){return pO(t)&&Ds(t.url)}(s)?this.events.next(new bg(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new bw(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const u=Nn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(u instanceof kw))throw this.events.next(a),s;{const{message:c,cancellationCode:d}=Rg(0,u);this.events.next(new Cs(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new bg(u.redirectTo,u.navigationBehaviorOptions))}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return br}))}))}cancelNavigationTransition(n,r,i){const o=new Cs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bX(t){return t!==wg}let TX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(AX),providedIn:"root"})}return t})();class SX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let AX=(()=>{class t extends SX{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RO=(()=>{class t{urlSerializer=V(id);options=V(pd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(Kl);urlHandlingStrategy=V(jw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Is;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Is?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=sO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>V(RX),providedIn:"root"})}return t})(),RX=(()=>{class t extends RO{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Dg?this.updateStateMemento():n instanceof Eu?this.commitTransition(r):n instanceof nO?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tw?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Cs&&(n.code===Kn.GuardRejected||n.code===Kn.NoDataFromResolver)?this.restoreHistory(r):n instanceof bw?this.restoreHistory(r,!0):n instanceof bi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,u={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",u)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MO(t,e){t.events.pipe(no(n=>n instanceof bi||n instanceof Cs||n instanceof bw||n instanceof Eu),Re(n=>n instanceof bi||n instanceof Eu?0:n instanceof Cs&&(n.code===Kn.Redirect||n.code===Kn.SupersededByNewNavigation)?2:1),no(n=>2!==n),yu(1)).subscribe(()=>{e()})}const MX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(WE);stateManager=V(RO);options=V(pd,{optional:!0})||{};pendingTasks=V(is);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(Uw);urlSerializer=V(id);location=V(Kl);urlHandlingStrategy=V(jw);_events=new Sn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(TX);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(gd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(Ag,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new en;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Cs&&r.code!==Kn.Redirect&&r.code!==Kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bi)this.navigated=!0;else if(r instanceof bg){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||bX(i.source),...s};this.scheduleNavigation(a,wg,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function PX(t){return!(t instanceof Tw||t instanceof bg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=Kk(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return Zk(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ds(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wg,null,r)}navigate(n,r={skipLocationChange:!1}){return function xX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new F(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...MX}:!1===r?{...NX}:r,Ds(n))return jk(this.currentUrlTree,n,i);const o=this.parseUrl(n);return jk(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return MO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kX=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new OX(V(ur),window)})}return t})();class OX{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function VX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}let vd=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Sn;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ds(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function oR(t,e,n){return function rz(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?iR:rR}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:Ds(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)($(Ar),$(bs),function qc(t){return function K4(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(lA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(ve(),t)}("tabindex"),$(vi),$(Gn),$(vs))};static \u0275dir=ce({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&nn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gu],replaceUrl:[2,"replaceUrl","replaceUrl",gu],routerLink:"routerLink"},features:[mr]})}return t})();class UO{}let hee=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(no(n=>n instanceof bi),ed(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=wp(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $t(i).pipe(Xl())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):de(null);const o=i.pipe(rn(s=>null===s?de(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?$t([o,this.loader.loadComponent(r)]).pipe(Xl()):o})}static \u0275fac=function(r){return new(r||t)(se(Ar),se(pn),se(UO),se(Bw))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qw=new z("");let $O=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Eu&&n.code===Cg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function vM(){throw new Error("invalid")}()};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function HO(t){return t.routerState.root}function Wr(t,e){return{\u0275kind:t,\u0275providers:e}}function zO(){const t=V(St);return e=>{const n=t.get(Wn);if(e!==n.components[0])return;const r=t.get(Ar),i=t.get(qO);1===t.get(Gw)&&r.initialNavigation(),t.get(GO,null,_e.Optional)?.setUpPreloading(),t.get(qw,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const qO=new z("",{factory:()=>new Sn}),Gw=new z("",{providedIn:"root",factory:()=>1}),GO=new z("");function yee(t){return Wr(0,[{provide:GO,useExisting:hee},{provide:UO,useExisting:t}])}function vee(t){return kn("NgRouterViewTransitions"),Wr(9,[{provide:TO,useValue:DX},{provide:SO,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Eee=[Kl,{provide:id,useClass:mg},Ar,cd,{provide:bs,useFactory:HO,deps:[Ar]},Bw,[]];let Ww=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[Eee,[],{provide:gd,multi:!0,useValue:n},[],r?.errorHandler?{provide:AO,useValue:r.errorHandler}:[],{provide:pd,useValue:r||{}},r?.useHash?{provide:vs,useClass:fK}:{provide:vs,useClass:PP},{provide:qw,useFactory:()=>{const t=V(kX),e=V(Te),n=V(pd),r=V(Uw),i=V(id);return n.scrollOffset&&t.setOffset(n.scrollOffset),new $O(i,r,t,e,n)}},r?.preloadingStrategy?yee(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Cee(r):[],r?.bindToComponentInputs?Wr(8,[lO,{provide:Ag,useExisting:lO}]).\u0275providers:[],r?.enableViewTransitions?vee().\u0275providers:[],[{provide:WO,useFactory:zO},{provide:Xa,multi:!0,useExisting:WO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:gd,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Za({type:t});static \u0275inj=jo({})}return t})();function Cee(t){return["disabled"===t.initialNavigation?Wr(3,[D1(()=>{V(Ar).setUpLocationChangeListener()}),{provide:Gw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wr(2,[{provide:Gw,useValue:0},D1(()=>{const e=V(St);return e.get(PQ,Promise.resolve()).then(()=>new Promise(r=>{const i=e.get(Ar),o=e.get(qO);MO(i,()=>{r(!0)}),e.get(Uw).afterPreactivation=()=>(r(!0),o.closed?de(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const WO=new z("");let Tee=(()=>{class t{title="Contact Book";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=fs({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(le(0,"div",0),He(1,"router-outlet"),pe())},dependencies:[Jl,xw,Ww],encapsulation:2})}return t})();const QO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},KO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let p=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(p=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new Nee;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vg=function(t){return function(t){const e=QO(t);return KO.encodeByteArray(e,!0)}(t).replace(/\./g,"")};const Lg=()=>{try{return function YO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return KO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};function eV(t){return t.endsWith(".cloudworkstations.dev")}const Ed={};let tV=!1;function jee(t,e){if(typeof window>"u"||typeof document>"u"||!eV(window.location.host)||Ed[t]===e||Ed[t]||tV)return;function n(p){return`__firebase__banner__${p}`}Ed[t]=e;const r="__firebase__banner",o=function Lee(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ed))Ed[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function h(){const p=function Bee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),T=n("preprendIcon"),C=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const O=p.element;(function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"})(O),function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}(E,v);const H=function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{tV=!0,function s(){const p=document.getElementById(r);p&&p.remove()}()},p}();(function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"})(C,T),O.append(C,y,E,H),document.body.appendChild(O)}o?(y.innerText="Preview backend disconnected.",C.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(C.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h()}class bu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,bu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iV.prototype.create)}}class iV{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function qee(t,e){return t.replace(Gee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new bu(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Gee=/\{\$([^}]+)}/g;function Zn(t){return t&&t._delegate?t._delegate:t}class wd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jw=[];var Se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Se||{});const aV={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},ite=Se.INFO,ote={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},ste=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ote[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class uV{constructor(e){this.name=e,this._logLevel=ite,this._logHandler=ste,this._userLogHandler=null,Jw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?aV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}let cV,lV;const dV=new WeakMap,Xw=new WeakMap,hV=new WeakMap,eD=new WeakMap,tD=new WeakMap;let nD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Xw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pte(t){return"function"==typeof t?function fte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cte(){return lV||(lV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(rD(this),e),so(dV.get(this))}:function(...e){return so(t.apply(rD(this),e))}:function(e,...n){const r=t.call(rD(this),e,...n);return hV.set(r,e.sort?e.sort():[e]),so(r)}}(t):(t instanceof IDBTransaction&&function dte(t){if(Xw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xw.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function ute(){return cV||(cV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,nD):t)}function so(t){if(t instanceof IDBRequest)return function lte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(so(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&dV.set(n,t)}).catch(()=>{}),tD.set(e,t),e}(t);if(eD.has(t))return eD.get(t);const e=pte(t);return e!==t&&(eD.set(t,e),tD.set(e,t)),e}const rD=t=>tD.get(t),mte=["get","getKey","getAll","getAllKeys","count"],yte=["put","add","delete","clear"],iD=new Map;function fV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(iD.get(e))return iD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mte.includes(n))return;const o=function(){var s=L(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return iD.set(e,o),o}!function hte(t){nD=t(nD)}(t=>({...t,get:(e,n,r)=>fV(e,n)||t.get(e,n,r),has:(e,n)=>!!fV(e,n)||t.has(e,n)}));class _te{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function vte(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const jg="@firebase/app",Ti=new uV("@firebase/app"),Ete="@firebase/app-compat",Ite="@firebase/analytics-compat",wte="@firebase/analytics",Dte="@firebase/app-check-compat",Cte="@firebase/app-check",bte="@firebase/auth",Tte="@firebase/auth-compat",Ste="@firebase/database",Ate="@firebase/data-connect",Rte="@firebase/database-compat",Mte="@firebase/functions",Nte="@firebase/functions-compat",xte="@firebase/installations",Pte="@firebase/installations-compat",kte="@firebase/messaging",Ote="@firebase/messaging-compat",Vte="@firebase/performance",Fte="@firebase/performance-compat",Lte="@firebase/remote-config",Bte="@firebase/remote-config-compat",jte="@firebase/storage",Ute="@firebase/storage-compat",$te="@firebase/firestore",Hte="@firebase/vertexai",zte="@firebase/firestore-compat",qte="firebase",Wte={[jg]:"fire-core",[Ete]:"fire-core-compat",[wte]:"fire-analytics",[Ite]:"fire-analytics-compat",[Cte]:"fire-app-check",[Dte]:"fire-app-check-compat",[bte]:"fire-auth",[Tte]:"fire-auth-compat",[Ste]:"fire-rtdb",[Ate]:"fire-data-connect",[Rte]:"fire-rtdb-compat",[Mte]:"fire-fn",[Nte]:"fire-fn-compat",[xte]:"fire-iid",[Pte]:"fire-iid-compat",[kte]:"fire-fcm",[Ote]:"fire-fcm-compat",[Vte]:"fire-perf",[Fte]:"fire-perf-compat",[Lte]:"fire-rc",[Bte]:"fire-rc-compat",[jte]:"fire-gcs",[Ute]:"fire-gcs-compat",[$te]:"fire-fst",[zte]:"fire-fst-compat",[Hte]:"fire-vertex","fire-js":"fire-js",[qte]:"fire-js-all"},Ss=new Map,Dd=new Map,Cd=new Map;function pV(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $g(t){const e=t.name;if(Cd.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,t);for(const n of Ss.values())pV(n,t);for(const n of Dd.values())pV(n,t);return!0}const dr=new iV("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});function As(t,e,n){var r;let i=null!==(r=Wte[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ti.warn(a.join(" "))}$g(new wd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const bd="firebase-heartbeat-store";let aD=null;function _V(){return aD||(aD=function gte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=so(s);return r&&s.addEventListener("upgradeneeded",u=>{r(so(s.result),u.oldVersion,u.newVersion,so(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),aD}function uD(){return(uD=L(function*(t){try{const n=(yield _V()).transaction(bd),r=yield n.objectStore(bd).get(EV(t));return yield n.done,r}catch(e){if(e instanceof bu)Ti.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}})).apply(this,arguments)}function vV(t,e){return cD.apply(this,arguments)}function cD(){return(cD=L(function*(t,e){try{const r=(yield _V()).transaction(bd,"readwrite");yield r.objectStore(bd).put(e,EV(t)),yield r.done}catch(n){if(n instanceof bu)Ti.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(r.message)}}})).apply(this,arguments)}function EV(t){return`${t.name}!${t.options.appId}`}class une{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return L(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IV();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function dne(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){Ti.warn(i)}})()}getHeartbeatsHeader(){var e=this;return L(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=IV(),{heartbeatsToSend:i,unsentEntries:o}=function cne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Vg(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Ti.warn(r),""}})()}}function IV(){return(new Date).toISOString().substring(0,10)}class lne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(function*(){return!!function rV(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Hee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return L(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function one(t){return uD.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return L(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return vV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return L(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return vV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function wV(t){return Vg(JSON.stringify({version:2,heartbeats:t})).length}!function hne(t){$g(new wd("platform-logger",e=>new _te(e),"PRIVATE")),$g(new wd("heartbeat",e=>new une(e),"PRIVATE")),As(jg,"0.12.3",t),As(jg,"0.12.3","esm2017"),As("fire-js","")}(""),As("firebase","11.7.3","app");class vne extends en{constructor(e,n){super()}schedule(e,n=0){return this}}const Hg={setInterval(t,e,...n){const{delegate:r}=Hg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Hg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class TV extends vne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Hg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Hg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yh(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const SV={now:()=>(SV.delegate||Date).now(),delegate:void 0};class Td{constructor(e,n=Td.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Td.now=SV.now;class AV extends Td{constructor(e,n=Td.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const wne=new class Ine extends AV{}(class Ene extends TV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Dne=new AV(TV);var Tu=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Tu||{}),lD=eP()&&typeof Zone<"u"?Tu.WARN:Tu.SILENT;class RV{zone;delegate;constructor(e,n=wne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},n,r)}}let Tne=(()=>{class t{outsideAngular;insideAngular;constructor(){const n=V(Te);this.outsideAngular=n.runOutsideAngular(()=>new RV(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new RV(typeof Zone>"u"?void 0:Zone.current,Dne))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var MV=!1;function Rs(t){const e=V(Te,{optional:!0});return e?e.run(()=>t()):t()}const Rne=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Nn(n,()=>Rs(()=>t.apply(void 0,r)))),Ms=(t,e,n)=>(n||=e?Tu.WARN:Tu.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=V(Tne),s=V(Of),a=V(pn)}catch{return function Sne(t,e){!MV&&(lD>Tu.SILENT||!1)&&(MV=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lD>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}(t,n),t.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=Rs(()=>s.add())),i[c]=Rne(i[c],r,a));const u=function Ane(t){const e=V(Te,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}(()=>t.apply(this,i));return e?u instanceof ft?u.pipe(lg(o.outsideAngular),cg(o.insideAngular),function bV(t){void 0===t&&(Wo(),t=V(St));const e=t.get(Of);return n=>new ft(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):u instanceof Promise?Rs(()=>new Promise((c,d)=>{s.run(()=>u).then(h=>Nn(a,()=>Rs(()=>c(h))),h=>Nn(a,()=>Rs(()=>d(h))))})):"function"==typeof u&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Rs(()=>u):u instanceof ft?u.pipe(lg(o.outsideAngular),cg(o.insideAngular)):Rs(()=>u)});var ao,PV,NV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xV={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(b,I,D){D||(D=0);var S=Array(16);if("string"==typeof I)for(var A=0;16>A;++A)S[A]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(A=0;16>A;++A)S[A]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;var N=b.g[3],w=(I=b.g[0])+(N^(D=b.g[1])&((A=b.g[2])^N))+S[0]+3614090360&4294967295;w=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=(D=(A=(N=(I=D+(w<<7&4294967295|w>>>25))+((w=N+(A^I&(D^A))+S[1]+3905402710&4294967295)<<12&4294967295|w>>>20))+((w=A+(D^N&(I^D))+S[2]+606105819&4294967295)<<17&4294967295|w>>>15))+((w=D+(I^A&(N^I))+S[3]+3250441966&4294967295)<<22&4294967295|w>>>10))+((w=I+(N^D&(A^N))+S[4]+4118548399&4294967295)<<7&4294967295|w>>>25))+((w=N+(A^I&(D^A))+S[5]+1200080426&4294967295)<<12&4294967295|w>>>20))+((w=A+(D^N&(I^D))+S[6]+2821735955&4294967295)<<17&4294967295|w>>>15))+((w=D+(I^A&(N^I))+S[7]+4249261313&4294967295)<<22&4294967295|w>>>10))+((w=I+(N^D&(A^N))+S[8]+1770035416&4294967295)<<7&4294967295|w>>>25))+((w=N+(A^I&(D^A))+S[9]+2336552879&4294967295)<<12&4294967295|w>>>20))+((w=A+(D^N&(I^D))+S[10]+4294925233&4294967295)<<17&4294967295|w>>>15))+((w=D+(I^A&(N^I))+S[11]+2304563134&4294967295)<<22&4294967295|w>>>10))+((w=I+(N^D&(A^N))+S[12]+1804603682&4294967295)<<7&4294967295|w>>>25))+((w=N+(A^I&(D^A))+S[13]+4254626195&4294967295)<<12&4294967295|w>>>20))+((w=A+(D^N&(I^D))+S[14]+2792965006&4294967295)<<17&4294967295|w>>>15))+((w=D+(I^A&(N^I))+S[15]+1236535329&4294967295)<<22&4294967295|w>>>10))+((w=I+(A^N&(D^A))+S[1]+4129170786&4294967295)<<5&4294967295|w>>>27))+((w=N+(D^A&(I^D))+S[6]+3225465664&4294967295)<<9&4294967295|w>>>23))+((w=A+(I^D&(N^I))+S[11]+643717713&4294967295)<<14&4294967295|w>>>18))+((w=D+(N^I&(A^N))+S[0]+3921069994&4294967295)<<20&4294967295|w>>>12))+((w=I+(A^N&(D^A))+S[5]+3593408605&4294967295)<<5&4294967295|w>>>27))+((w=N+(D^A&(I^D))+S[10]+38016083&4294967295)<<9&4294967295|w>>>23))+((w=A+(I^D&(N^I))+S[15]+3634488961&4294967295)<<14&4294967295|w>>>18))+((w=D+(N^I&(A^N))+S[4]+3889429448&4294967295)<<20&4294967295|w>>>12))+((w=I+(A^N&(D^A))+S[9]+568446438&4294967295)<<5&4294967295|w>>>27))+((w=N+(D^A&(I^D))+S[14]+3275163606&4294967295)<<9&4294967295|w>>>23))+((w=A+(I^D&(N^I))+S[3]+4107603335&4294967295)<<14&4294967295|w>>>18))+((w=D+(N^I&(A^N))+S[8]+1163531501&4294967295)<<20&4294967295|w>>>12))+((w=I+(A^N&(D^A))+S[13]+2850285829&4294967295)<<5&4294967295|w>>>27))+((w=N+(D^A&(I^D))+S[2]+4243563512&4294967295)<<9&4294967295|w>>>23))+((w=A+(I^D&(N^I))+S[7]+1735328473&4294967295)<<14&4294967295|w>>>18))+((w=D+(N^I&(A^N))+S[12]+2368359562&4294967295)<<20&4294967295|w>>>12))+((w=I+(D^A^N)+S[5]+4294588738&4294967295)<<4&4294967295|w>>>28))+((w=N+(I^D^A)+S[8]+2272392833&4294967295)<<11&4294967295|w>>>21))+((w=A+(N^I^D)+S[11]+1839030562&4294967295)<<16&4294967295|w>>>16))+((w=D+(A^N^I)+S[14]+4259657740&4294967295)<<23&4294967295|w>>>9))+((w=I+(D^A^N)+S[1]+2763975236&4294967295)<<4&4294967295|w>>>28))+((w=N+(I^D^A)+S[4]+1272893353&4294967295)<<11&4294967295|w>>>21))+((w=A+(N^I^D)+S[7]+4139469664&4294967295)<<16&4294967295|w>>>16))+((w=D+(A^N^I)+S[10]+3200236656&4294967295)<<23&4294967295|w>>>9))+((w=I+(D^A^N)+S[13]+681279174&4294967295)<<4&4294967295|w>>>28))+((w=N+(I^D^A)+S[0]+3936430074&4294967295)<<11&4294967295|w>>>21))+((w=A+(N^I^D)+S[3]+3572445317&4294967295)<<16&4294967295|w>>>16))+((w=D+(A^N^I)+S[6]+76029189&4294967295)<<23&4294967295|w>>>9))+((w=I+(D^A^N)+S[9]+3654602809&4294967295)<<4&4294967295|w>>>28))+((w=N+(I^D^A)+S[12]+3873151461&4294967295)<<11&4294967295|w>>>21))+((w=A+(N^I^D)+S[15]+530742520&4294967295)<<16&4294967295|w>>>16))+((w=D+(A^N^I)+S[2]+3299628645&4294967295)<<23&4294967295|w>>>9))+((w=I+(A^(D|~N))+S[0]+4096336452&4294967295)<<6&4294967295|w>>>26))+((w=N+(D^(I|~A))+S[7]+1126891415&4294967295)<<10&4294967295|w>>>22))+((w=A+(I^(N|~D))+S[14]+2878612391&4294967295)<<15&4294967295|w>>>17))+((w=D+(N^(A|~I))+S[5]+4237533241&4294967295)<<21&4294967295|w>>>11))+((w=I+(A^(D|~N))+S[12]+1700485571&4294967295)<<6&4294967295|w>>>26))+((w=N+(D^(I|~A))+S[3]+2399980690&4294967295)<<10&4294967295|w>>>22))+((w=A+(I^(N|~D))+S[10]+4293915773&4294967295)<<15&4294967295|w>>>17))+((w=D+(N^(A|~I))+S[1]+2240044497&4294967295)<<21&4294967295|w>>>11))+((w=I+(A^(D|~N))+S[8]+1873313359&4294967295)<<6&4294967295|w>>>26))+((w=N+(D^(I|~A))+S[15]+4264355552&4294967295)<<10&4294967295|w>>>22))+((w=A+(I^(N|~D))+S[6]+2734768916&4294967295)<<15&4294967295|w>>>17))+((w=D+(N^(A|~I))+S[13]+1309151649&4294967295)<<21&4294967295|w>>>11))+((N=(I=D+((w=I+(A^(D|~N))+S[4]+4149444226&4294967295)<<6&4294967295|w>>>26))+((w=N+(D^(I|~A))+S[11]+3174756917&4294967295)<<10&4294967295|w>>>22))^((A=N+((w=A+(I^(N|~D))+S[2]+718787259&4294967295)<<15&4294967295|w>>>17))|~I))+S[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(A+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+N&4294967295}function s(b,I){this.h=I;for(var D=[],S=!0,A=b.length-1;0<=A;A--){var N=0|b[A];S&&N==I||(D[A]=N,S=!1)}this.g=D}(function e(b,I){function D(){}D.prototype=I.prototype,b.D=I.prototype,b.prototype=new D,b.prototype.constructor=b,b.C=function(S,A,N){for(var w=Array(arguments.length-2),Oi=2;Oi<arguments.length;Oi++)w[Oi-2]=arguments[Oi];return I.prototype[A].apply(S,w)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(b,I){void 0===I&&(I=b.length);for(var D=I-this.blockSize,S=this.B,A=this.h,N=0;N<I;){if(0==A)for(;N<=D;)i(this,b,N),N+=this.blockSize;if("string"==typeof b){for(;N<I;)if(S[A++]=b.charCodeAt(N++),A==this.blockSize){i(this,S),A=0;break}}else for(;N<I;)if(S[A++]=b[N++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var D=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=255&D,D/=256;for(this.u(b),b=Array(16),I=D=0;4>I;++I)for(var S=0;32>S;S+=8)b[D++]=this.g[I]>>>S&255;return b};var a={};function u(b){return-128<=b&&128>b?function o(b,I){var D=a;return Object.prototype.hasOwnProperty.call(D,b)?D[b]:D[b]=I(b)}(b,function(I){return new s([0|I],0>I?-1:0)}):new s([0|b],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return E(c(-b));for(var I=[],D=1,S=0;b>=D;S++)I[S]=b/D|0,D*=4294967296;return new s(I,0)}var h=u(0),p=u(1),g=u(16777216);function y(b){if(0!=b.h)return!1;for(var I=0;I<b.g.length;I++)if(0!=b.g[I])return!1;return!0}function v(b){return-1==b.h}function E(b){for(var I=b.g.length,D=[],S=0;S<I;S++)D[S]=~b.g[S];return new s(D,~b.h).add(p)}function T(b,I){return b.add(E(I))}function C(b,I){for(;(65535&b[I])!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function O(b,I){this.g=b,this.h=I}function H(b,I){if(y(I))throw Error("division by zero");if(y(b))return new O(h,h);if(v(b))return I=H(E(b),I),new O(E(I.g),E(I.h));if(v(I))return I=H(b,E(I)),new O(E(I.g),I.h);if(30<b.g.length){if(v(b)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var D=p,S=I;0>=S.l(b);)D=Q(D),S=Q(S);var A=re(D,1),N=re(S,1);for(S=re(S,2),D=re(D,2);!y(S);){var w=N.add(S);0>=w.l(b)&&(A=A.add(D),N=w),S=re(S,1),D=re(D,1)}return I=T(b,A.j(I)),new O(A,I)}for(A=h;0<=b.l(I);){for(D=Math.max(1,Math.floor(b.m()/I.m())),S=48>=(S=Math.ceil(Math.log(D)/Math.LN2))?1:Math.pow(2,S-48),w=(N=c(D)).j(I);v(w)||0<w.l(b);)w=(N=c(D-=S)).j(I);y(N)&&(N=p),A=A.add(N),b=T(b,w)}return new O(A,b)}function Q(b){for(var I=b.g.length+1,D=[],S=0;S<I;S++)D[S]=b.i(S)<<1|b.i(S-1)>>>31;return new s(D,b.h)}function re(b,I){var D=I>>5;I%=32;for(var S=b.g.length-D,A=[],N=0;N<S;N++)A[N]=0<I?b.i(N+D)>>>I|b.i(N+D+1)<<32-I:b.i(N+D);return new s(A,b.h)}(t=s.prototype).m=function(){if(v(this))return-E(this).m();for(var b=0,I=1,D=0;D<this.g.length;D++){var S=this.i(D);b+=(0<=S?S:4294967296+S)*I,I*=4294967296}return b},t.toString=function(b){if(2>(b=b||10)||36<b)throw Error("radix out of range: "+b);if(y(this))return"0";if(v(this))return"-"+E(this).toString(b);for(var I=c(Math.pow(b,6)),D=this,S="";;){var A=H(D,I).g,N=((0<(D=T(D,A.j(I))).g.length?D.g[0]:D.h)>>>0).toString(b);if(y(D=A))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h},t.l=function(b){return v(b=T(this,b))?-1:y(b)?0:1},t.abs=function(){return v(this)?E(this):this},t.add=function(b){for(var I=Math.max(this.g.length,b.g.length),D=[],S=0,A=0;A<=I;A++){var N=S+(65535&this.i(A))+(65535&b.i(A)),w=(N>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);S=w>>>16,D[A]=(w&=65535)<<16|(N&=65535)}return new s(D,-2147483648&D[D.length-1]?-1:0)},t.j=function(b){if(y(this)||y(b))return h;if(v(this))return v(b)?E(this).j(E(b)):E(E(this).j(b));if(v(b))return E(this.j(E(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var I=this.g.length+b.g.length,D=[],S=0;S<2*I;S++)D[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<b.g.length;A++){var N=this.i(S)>>>16,w=65535&this.i(S),Oi=b.i(A)>>>16,Dh=65535&b.i(A);D[2*S+2*A]+=w*Dh,C(D,2*S+2*A),D[2*S+2*A+1]+=N*Dh,C(D,2*S+2*A+1),D[2*S+2*A+1]+=w*Oi,C(D,2*S+2*A+1),D[2*S+2*A+2]+=N*Oi,C(D,2*S+2*A+2)}for(S=0;S<I;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=I;S<2*I;S++)D[S]=0;return new s(D,0)},t.A=function(b){return H(this,b).h},t.and=function(b){for(var I=Math.max(this.g.length,b.g.length),D=[],S=0;S<I;S++)D[S]=this.i(S)&b.i(S);return new s(D,this.h&b.h)},t.or=function(b){for(var I=Math.max(this.g.length,b.g.length),D=[],S=0;S<I;S++)D[S]=this.i(S)|b.i(S);return new s(D,this.h|b.h)},t.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),D=[],S=0;S<I;S++)D[S]=this.i(S)^b.i(S);return new s(D,this.h^b.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PV=xV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(b,I){if(0==b.length)throw Error("number format error: empty string");if(2>(I=I||10)||36<I)throw Error("radix out of range: "+I);if("-"==b.charAt(0))return E(d(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(I,8)),S=h,A=0;A<b.length;A+=8){var N=Math.min(8,b.length-A),w=parseInt(b.substring(A,A+N),I);8>N?(N=c(Math.pow(I,N)),S=S.j(N).add(c(w))):S=(S=S.j(D)).add(c(w))}return S},ao=xV.Integer=s}).apply(typeof NV<"u"?NV:typeof self<"u"?self:typeof window<"u"?window:{});var kV,Sd,OV,Gg,hD,VV,FV,LV,qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof qg&&qg];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var R=l[_];if(!(R in m))break e;m=m[R]}(f=f(_=m[l=l[l.length-1]]))!=_&&null!=f&&e(m,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var m=0,_=!1,R={next:function(){if(!_&&m<l.length){var k=m++;return{value:f(k,l[k]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,m){return l.call.apply(l.bind,arguments)}function h(l,f,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),l.apply(f,R)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,R,k){for(var G=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)G[Qe-2]=arguments[Qe];return f.prototype[R].apply(_,G)}}function v(l){const f=l.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=l[_];return m}return[]}function E(l,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(u(_)){const R=l.length||0,k=_.length||0;l.length=R+k;for(let G=0;G<k;G++)l[R+G]=_[G]}else l.push(_)}}function C(l){return/^[\s\xa0]*$/.test(l)}function O(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var Q=!(-1==O().indexOf("Gecko")||-1!=O().toLowerCase().indexOf("webkit")&&-1==O().indexOf("Edge")||-1!=O().indexOf("Trident")||-1!=O().indexOf("MSIE")||-1!=O().indexOf("Edge"));function re(l,f,m){for(const _ in l)f.call(m,l[_],_,l)}function I(l){const f={};for(const m in l)f[m]=l[m];return f}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,f){let m,_;for(let R=1;R<arguments.length;R++){for(m in _=arguments[R],_)l[m]=_[m];for(let k=0;k<D.length;k++)m=D[k],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function A(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function w(){var l=IT;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var Dh=new class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new iue,l=>l.reset());class iue{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ch,bh=!1,IT=new class Oi{constructor(){this.h=this.g=null}add(f,m){const _=Dh.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}},Jj=()=>{const l=a.Promise.resolve(void 0);Ch=()=>{l.then(oue)}};var oue=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(m){N(m)}var f=Dh;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}bh=!1};function No(){this.s=this.s,this.C=this.C}function ln(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}No.prototype.s=!1,No.prototype.ma=function(){this.s||(this.s=!0,this.N())},No.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ln.prototype.h=function(){this.defaultPrevented=!0};var sue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Th(l,f){if(ln.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Q){e:{try{H(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else"mouseover"==m?f=l.fromElement:"mouseout"==m&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:aue[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Th.aa.h.call(this)}}y(Th,ln);var aue={2:"touch",3:"pen",4:"mouse"};Th.prototype.h=function(){Th.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Sh="closure_listenable_"+(1e6*Math.random()|0),uue=0;function cue(l,f,m,_,R){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=R,this.key=++uue,this.da=this.fa=!1}function Iy(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function wy(l){this.src=l,this.g={},this.h=0}function wT(l,f){var m=f.type;if(m in l.g){var k,_=l.g[m],R=Array.prototype.indexOf.call(_,f,void 0);(k=0<=R)&&Array.prototype.splice.call(_,R,1),k&&(Iy(f),0==l.g[m].length&&(delete l.g[m],l.h--))}}function DT(l,f,m,_){for(var R=0;R<l.length;++R){var k=l[R];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==_)return R}return-1}wy.prototype.add=function(l,f,m,_,R){var k=l.toString();(l=this.g[k])||(l=this.g[k]=[],this.h++);var G=DT(l,f,_,R);return-1<G?(f=l[G],m||(f.fa=!1)):((f=new cue(f,this.src,k,!!_,R)).fa=m,l.push(f)),f};var CT="closure_lm_"+(1e6*Math.random()|0),bT={};function Xj(l,f,m,_,R){if(_&&_.once)return tU(l,f,m,_,R);if(Array.isArray(f)){for(var k=0;k<f.length;k++)Xj(l,f[k],m,_,R);return null}return m=RT(m),l&&l[Sh]?l.K(f,m,c(_)?!!_.capture:!!_,R):eU(l,f,m,!1,_,R)}function eU(l,f,m,_,R,k){if(!f)throw Error("Invalid event type");var G=c(R)?!!R.capture:!!R,Qe=ST(l);if(Qe||(l[CT]=Qe=new wy(l)),(m=Qe.add(f,m,_,G,k)).proxy)return m;if(_=function lue(){const f=due;return function l(m){return f.call(l.src,l.listener,m)}}(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)sue||(R=G),void 0===R&&(R=!1),l.addEventListener(f.toString(),_,R);else if(l.attachEvent)l.attachEvent(rU(f.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return m}function tU(l,f,m,_,R){if(Array.isArray(f)){for(var k=0;k<f.length;k++)tU(l,f[k],m,_,R);return null}return m=RT(m),l&&l[Sh]?l.L(f,m,c(_)?!!_.capture:!!_,R):eU(l,f,m,!0,_,R)}function nU(l,f,m,_,R){if(Array.isArray(f))for(var k=0;k<f.length;k++)nU(l,f[k],m,_,R);else _=c(_)?!!_.capture:!!_,m=RT(m),l&&l[Sh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(m=DT(k=l.g[f],m,_,R))&&(Iy(k[m]),Array.prototype.splice.call(k,m,1),0==k.length&&(delete l.g[f],l.h--))):l&&(l=ST(l))&&(f=l.g[f.toString()],l=-1,f&&(l=DT(f,m,_,R)),(m=-1<l?f[l]:null)&&TT(m))}function TT(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[Sh])wT(f.i,l);else{var m=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(m,_,l.capture):f.detachEvent?f.detachEvent(rU(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=ST(f))?(wT(m,l),0==m.h&&(m.src=null,f[CT]=null)):Iy(l)}}}function rU(l){return l in bT?bT[l]:bT[l]="on"+l}function due(l,f){if(l.da)l=!0;else{f=new Th(f,this);var m=l.listener,_=l.ha||l.src;l.fa&&TT(l),l=m.call(_,f)}return l}function ST(l){return(l=l[CT])instanceof wy?l:null}var AT="__closure_events_fn_"+(1e9*Math.random()>>>0);function RT(l){return"function"==typeof l?l:(l[AT]||(l[AT]=function(f){return l.handleEvent(f)}),l[AT])}function dn(){No.call(this),this.i=new wy(this),this.M=this,this.F=null}function bn(l,f){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=f.type||f,"string"==typeof f)f=new ln(f,l);else if(f instanceof ln)f.target=f.target||l;else{var R=f;S(f=new ln(_,l),R)}if(R=!0,m)for(var k=m.length-1;0<=k;k--){var G=f.g=m[k];R=Dy(G,_,!0,f)&&R}if(R=Dy(G=f.g=l,_,!0,f)&&R,R=Dy(G,_,!1,f)&&R,m)for(k=0;k<m.length;k++)R=Dy(G=f.g=m[k],_,!1,f)&&R}function Dy(l,f,m,_){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var R=!0,k=0;k<f.length;++k){var G=f[k];if(G&&!G.da&&G.capture==m){var Qe=G.listener,Xt=G.ha||G.src;G.fa&&wT(l.i,G),R=!1!==Qe.call(Xt,_)&&R}}return R&&!_.defaultPrevented}function iU(l,f,m){if("function"==typeof l)m&&(l=p(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function oU(l){l.g=iU(()=>{l.g=null,l.i&&(l.i=!1,oU(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}y(dn,No),dn.prototype[Sh]=!0,dn.prototype.removeEventListener=function(l,f,m,_){nU(this,l,f,m,_)},dn.prototype.N=function(){if(dn.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var m=l.g[f],_=0;_<m.length;_++)Iy(m[_]);delete l.g[f],l.h--}}this.F=null},dn.prototype.K=function(l,f,m,_){return this.i.add(String(l),f,!1,m,_)},dn.prototype.L=function(l,f,m,_){return this.i.add(String(l),f,!0,m,_)};class hue extends No{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:oU(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ah(l){No.call(this),this.h=l,this.g={}}y(Ah,No);var sU=[];function aU(l){re(l.g,function(f,m){this.g.hasOwnProperty(m)&&TT(f)},l),l.g={}}Ah.prototype.N=function(){Ah.aa.N.call(this),aU(this)},Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var MT=a.JSON.stringify,fue=a.JSON.parse,pue=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function NT(){}function cU(){}NT.prototype.h=null;var Rh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xT(){ln.call(this,"d")}function PT(){ln.call(this,"c")}y(xT,ln),y(PT,ln);var ra={},lU=null;function Cy(){return lU=lU||new dn}function dU(l){ln.call(this,ra.La,l)}function Mh(l){const f=Cy();bn(f,new dU(f))}function hU(l,f){ln.call(this,ra.STAT_EVENT,l),this.stat=f}function Tn(l){const f=Cy();bn(f,new hU(f,l))}function fU(l,f){ln.call(this,ra.Ma,l),this.size=f}function Nh(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function xh(){this.g=!0}function wc(l,f,m,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function _ue(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if("noop"!=k&&"stop"!=k&&"close"!=k)for(var G=1;G<R.length;G++)R[G]=""}}}return MT(m)}catch{return f}}(l,m)+(_?" "+_:"")})}ra.La="serverreachability",y(dU,ln),ra.STAT_EVENT="statevent",y(hU,ln),ra.Ma="timingevent",y(fU,ln),xh.prototype.xa=function(){this.g=!1},xh.prototype.info=function(){};var kT,by={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pU={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ty(){}function xo(l,f,m,_){this.j=l,this.i=f,this.l=m,this.R=_||1,this.U=new Ah(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gU}function gU(){this.i=null,this.g="",this.h=!1}y(Ty,NT),Ty.prototype.g=function(){return new XMLHttpRequest},Ty.prototype.i=function(){return{}},kT=new Ty;var mU={},OT={};function VT(l,f,m){l.L=1,l.v=My(Vi(f)),l.m=m,l.P=!0,yU(l,null)}function yU(l,f){l.F=Date.now(),Sy(l),l.A=Vi(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),NU(m.i,"t",_),l.C=0,m=l.j.J,l.h=new gU,l.g=KU(l.j,m?f:null,!l.m),0<l.O&&(l.M=new hue(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,_=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(sU[0]=R.toString()),R=sU);for(var k=0;k<R.length;k++){var G=Xj(m,R[k],_||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Mh(),function gue(l,f,m,_,R,k){l.info(function(){if(l.g)if(k)for(var G="",Qe=k.split("&"),Xt=0;Xt<Qe.length;Xt++){var Ne=Qe[Xt].split("=");if(1<Ne.length){var hn=Ne[0];Ne=Ne[1];var fn=hn.split("_");G=2<=fn.length&&"type"==fn[1]?G+(hn+"=")+Ne+"&":G+(hn+"=redacted&")}}else G=null;else G=k;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+f+"\n"+m+"\n"+G})}(l.i,l.u,l.A,l.l,l.R,l.m)}function _U(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function vue(l,f){var m=l.C,_=f.indexOf("\n",m);return-1==_?OT:(m=Number(f.substring(m,_)),isNaN(m)?mU:(_+=1)+m>f.length?OT:(f=f.slice(_,_+m),l.C=_+m,f))}function Sy(l){l.S=Date.now()+l.I,vU(l,l.I)}function vU(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Nh(p(l.ba,l),f)}function FT(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function Ph(l){0==l.j.G||l.J||qU(l.j,l)}function ia(l){FT(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,aU(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function LT(l,f){try{var m=l.j;if(0!=m.G&&(m.g==l||BT(m.h,l)))if(!l.K&&BT(m.h,l)&&3==m.G){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&3==_.length){var R=_;if(0==R[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;Oy(m),Py(m)}HT(m),Tn(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&0==m.v&&!m.C&&(m.C=Nh(p(m.Za,m),6e3));if(1>=wU(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else sa(m,11)}else if((l.K||m.g==l)&&Oy(m),!C(f))for(R=m.Da.g.parse(f),f=0;f<R.length;f++){let Ne=R[f];if(m.T=Ne[0],Ne=Ne[1],2==m.G)if("c"==Ne[0]){m.K=Ne[1],m.ia=Ne[2];const hn=Ne[3];null!=hn&&(m.la=hn,m.j.info("VER="+m.la));const fn=Ne[4];null!=fn&&(m.Aa=fn,m.j.info("SVER="+m.Aa));const bc=Ne[5];null!=bc&&"number"==typeof bc&&0<bc&&(m.L=_=1.5*bc,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Mr=l.g;if(Mr){const Fy=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fy){var k=_.h;k.g||-1==Fy.indexOf("spdy")&&-1==Fy.indexOf("quic")&&-1==Fy.indexOf("h2")||(k.j=k.l,k.g=new Set,k.h&&(jT(k,k.h),k.h=null))}if(_.D){const qT=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;qT&&(_.ya=qT,tt(_.I,_.D,qT))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var G=l;if((_=m).qa=QU(_,_.J?_.ia:null,_.W),G.K){DU(_.h,G);var Qe=G,Xt=_.L;Xt&&(Qe.I=Xt),Qe.B&&(FT(Qe),Sy(Qe)),_.g=G}else HU(_);0<m.i.length&&ky(m)}else"stop"!=Ne[0]&&"close"!=Ne[0]||sa(m,7);else 3==m.G&&("stop"==Ne[0]||"close"==Ne[0]?"stop"==Ne[0]?sa(m,7):$T(m):"noop"!=Ne[0]&&m.l&&m.l.ta(Ne),m.v=0)}Mh()}catch{}}xo.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==Fi(l)?f.j():this.Y(l)},xo.prototype.Y=function(l){try{if(l==this.g)e:{const fn=Fi(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>fn)&&(3!=fn||this.g&&(this.h.h||this.g.oa()||LU(this.g)))){this.J||4!=fn||7==f||Mh(),FT(this);var m=this.g.Z();this.X=m;t:if(_U(this)){var _=LU(this.g);l="";var R=_.length,k=4==Fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ia(this),Ph(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(k&&f==R-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=200==m,function mue(l,f,m,_,R,k,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+f+"\n"+m+"\n"+k+" "+G})}(this.i,this.u,this.A,this.l,this.R,fn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Xt=this.g;if((Qe=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Qe)){var Ne=Qe;break t}}Ne=null}if(!(m=Ne)){this.o=!1,this.s=3,Tn(12),ia(this),Ph(this);break e}wc(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LT(this,m)}if(this.P){let Mr;for(m=!0;!this.J&&this.C<G.length;){if(Mr=vue(this,G),Mr==OT){4==fn&&(this.s=4,Tn(14),m=!1),wc(this.i,this.l,null,"[Incomplete Response]");break}if(Mr==mU){this.s=4,Tn(15),wc(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}wc(this.i,this.l,Mr,null),LT(this,Mr)}if(_U(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=fn||0!=G.length||this.h.h||(this.s=1,Tn(16),m=!1),this.o=this.o&&m,m){if(0<G.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),zT(hn),hn.M=!0,Tn(11))}}else wc(this.i,this.l,G,"[Invalid Chunked Response]"),ia(this),Ph(this)}else wc(this.i,this.l,G,null),LT(this,G);4==fn&&ia(this),this.o&&!this.J&&(4==fn?qU(this.j,this):(this.o=!1,Sy(this)))}else(function Vue(l){const f={};l=(l.g&&2<=Fi(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(C(l[_]))continue;var m=A(l[_]);const R=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const k=f[R]||[];f[R]=k,k.push(m)}!function b(l,f){for(const m in l)f.call(void 0,l[m],m,l)}(f,function(_){return _.join(", ")})})(this.g),400==m&&0<G.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),ia(this),Ph(this)}}}catch{}},xo.prototype.cancel=function(){this.J=!0,ia(this)},xo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function yue(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(Mh(),Tn(17)),ia(this),this.s=2,Ph(this)):vU(this,this.S-l)};var Eue=class{constructor(l,f){this.g=l,this.map=f}};function EU(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function IU(l){return!!l.h||!!l.g&&l.g.size>=l.j}function wU(l){return l.h?1:l.g?l.g.size:0}function BT(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function jT(l,f){l.g?l.g.add(f):l.h=f}function DU(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function CU(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return v(l.i)}function bU(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var m=function wue(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const _ in l)f[m++]=_;return f}}}(l),_=function Iue(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],m=l.length,_=0;_<m;_++)f.push(l[_]);return f}for(_ in f=[],m=0,l)f[m++]=l[_];return f}(l),R=_.length,k=0;k<R;k++)f.call(void 0,_[k],m&&m[k],l)}EU.prototype.cancel=function(){if(this.i=CU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var TU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof oa){this.h=l.h,Ay(this,l.j),this.o=l.o,this.g=l.g,Ry(this,l.s),this.l=l.l;var f=l.i,m=new Vh;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),SU(this,m),this.m=l.m}else l&&(f=String(l).match(TU))?(this.h=!1,Ay(this,f[1]||"",!0),this.o=kh(f[2]||""),this.g=kh(f[3]||"",!0),Ry(this,f[4]),this.l=kh(f[5]||"",!0),SU(this,f[6]||"",!0),this.m=kh(f[7]||"")):(this.h=!1,this.i=new Vh(null,this.h))}function Vi(l){return new oa(l)}function Ay(l,f,m){l.j=m?kh(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ry(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function SU(l,f,m){f instanceof Vh?(l.i=f,function Rue(l,f){f&&!l.j&&(Po(l),l.i=null,l.g.forEach(function(m,_){var R=_.toLowerCase();_!=R&&(RU(this,_),NU(this,R,m))},l)),l.j=f}(l.i,l.h)):(m||(f=Oh(f,Sue)),l.i=new Vh(f,l.h))}function tt(l,f,m){l.i.set(f,m)}function My(l){return tt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function kh(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Oh(l,f,m){return"string"==typeof l?(l=encodeURI(l).replace(f,Cue),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Cue(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}oa.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Oh(f,AU,!0),":");var m=this.g;return(m||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(Oh(f,AU,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(Oh(m,"/"==m.charAt(0)?Tue:bue,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Oh(m,Aue)),l.join("")};var AU=/[#\/\?@]/g,bue=/[#\?:]/g,Tue=/[#\?]/g,Sue=/[#\?@]/g,Aue=/#/g;function Vh(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Po(l){l.g||(l.g=new Map,l.h=0,l.i&&function Due(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),R=null;if(0<=_){var k=l[m].substring(0,_);R=l[m].substring(_+1)}else k=l[m];f(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}function RU(l,f){Po(l),f=Dc(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function MU(l,f){return Po(l),f=Dc(l,f),l.g.has(f)}function NU(l,f,m){RU(l,f),0<m.length&&(l.i=null,l.g.set(Dc(l,f),v(m)),l.h+=m.length)}function Dc(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ko(l,f,m,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(m)}catch{}}function xue(){this.g=new pue}function Pue(l,f,m){const _=m||"";try{bU(l,function(R,k){let G=R;c(R)&&(G=MT(R)),f.push(_+k+"="+encodeURIComponent(G))})}catch(R){throw f.push(_+"type="+encodeURIComponent("_badmap")),R}}function Fh(l){this.l=l.Ub||null,this.j=l.eb||!1}function Ny(l,f){dn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function xU(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function Lh(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Bh(l)}function Bh(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function PU(l){let f="";return re(l,function(m,_){f+=_,f+=":",f+=m,f+="\r\n"}),f}function UT(l,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=PU(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):tt(l,f,m))}function Et(l){dn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Vh.prototype).add=function(l,f){Po(this),this.i=null,l=Dc(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this},t.forEach=function(l,f){Po(this),this.g.forEach(function(m,_){m.forEach(function(R){l.call(f,R,_,this)},this)},this)},t.na=function(){Po(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const R=l[_];for(let k=0;k<R.length;k++)m.push(f[_])}return m},t.V=function(l){Po(this);let f=[];if("string"==typeof l)MU(this,l)&&(f=f.concat(this.g.get(Dc(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return Po(this),this.i=null,MU(this,l=Dc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const k=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var R=k;""!==G[_]&&(R+="="+encodeURIComponent(String(G[_]))),l.push(R)}}return this.i=l.join("&")},y(Fh,NT),Fh.prototype.g=function(){return new Ny(this.l,this.j)},Fh.prototype.i=function(l){return function(){return l}}({}),y(Ny,dn),(t=Ny.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Bh(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lh(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Bh(this)),this.g&&(this.readyState=3,Bh(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xU(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Lh(this):Bh(this),3==this.readyState&&xU(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Lh(this))},t.Qa=function(l){this.g&&(this.response=l,Lh(this))},t.ga=function(){this.g&&Lh(this)},t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=f.next();return l.join("\r\n")},Object.defineProperty(Ny.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(Et,dn);var kue=/^https?$/i,Oue=["POST","PUT"];function kU(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,OU(l),xy(l)}function OU(l){l.A||(l.A=!0,bn(l,"complete"),bn(l,"error"))}function VU(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=Fi(l)||2!=l.Z()))if(l.u&&4==Fi(l))iU(l.Ea,0,l);else if(bn(l,"readystatechange"),4==Fi(l)){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=0===G){var R=String(l.D).match(TU)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),_=!kue.test(R?R.toLowerCase():"")}m=_}if(m)bn(l,"complete"),bn(l,"success");else{l.m=6;try{var k=2<Fi(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",OU(l)}}finally{xy(l)}}}function xy(l,f){if(l.g){FU(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||bn(l,"ready");try{m.onreadystatechange=_}catch{}}}function FU(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function Fi(l){return l.g?l.g.readyState:0}function LU(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function BU(l){this.Aa=0,this.i=[],this.j=new xh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jh("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jh("baseRetryDelayMs",5e3,l),this.cb=jh("retryDelaySeedMs",1e4,l),this.Wa=jh("forwardChannelMaxRetries",2,l),this.wa=jh("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new EU(l&&l.concurrentRequestLimit),this.Da=new xue,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $T(l){if(jU(l),3==l.G){var f=l.U++,m=Vi(l.I);if(tt(m,"SID",l.K),tt(m,"RID",f),tt(m,"TYPE","terminate"),Uh(l,m),(f=new xo(l,l.j,f)).L=2,f.v=My(Vi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=f.v,m=!0),m||(f.g=KU(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Sy(f)}WU(l)}function Py(l){l.g&&(zT(l),l.g.cancel(),l.g=null)}function jU(l){Py(l),l.u&&(a.clearTimeout(l.u),l.u=null),Oy(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function ky(l){if(!IU(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ch||Jj(),bh||(Ch(),bh=!0),IT.add(f,l),l.B=0}}function UU(l,f){var m;m=f?f.l:l.U++;const _=Vi(l.I);tt(_,"SID",l.K),tt(_,"RID",m),tt(_,"AID",l.T),Uh(l,_),l.m&&l.o&&UT(_,l.m,l.o),m=new xo(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=$U(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),jT(l.h,m),VT(m,_,f)}function Uh(l,f){l.H&&re(l.H,function(m,_){tt(f,_,m)}),l.l&&bU({},function(m,_){tt(f,_,m)})}function $U(l,f,m){m=Math.min(l.i.length,m);var _=l.l?p(l.l.Na,l.l,l):null;e:{var R=l.i;let k=-1;for(;;){const G=["count="+m];-1==k?0<m?(k=R[0].g,G.push("ofs="+k)):k=0:G.push("ofs="+k);let Qe=!0;for(let Xt=0;Xt<m;Xt++){let Ne=R[Xt].g;const hn=R[Xt].map;if(Ne-=k,0>Ne)k=Math.max(0,R[Xt].g-100),Qe=!1;else try{Pue(hn,G,"req"+Ne+"_")}catch{_&&_(hn)}}if(Qe){_=G.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,_}function HU(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ch||Jj(),bh||(Ch(),bh=!0),IT.add(f,l),l.v=0}}function HT(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=Nh(p(l.Fa,l),GU(l,l.v)),l.v++,0))}function zT(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function zU(l){l.g=new xo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=Vi(l.qa);tt(f,"RID","rpc"),tt(f,"SID",l.K),tt(f,"AID",l.T),tt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&tt(f,"TO",l.ja),tt(f,"TYPE","xmlhttp"),Uh(l,f),l.m&&l.o&&UT(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=My(Vi(f)),m.m=null,m.P=!0,yU(m,l)}function Oy(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function qU(l,f){var m=null;if(l.g==f){Oy(l),zT(l),l.g=null;var _=2}else{if(!BT(l.h,f))return;m=f.D,DU(l.h,f),_=1}if(0!=l.G)if(f.o)if(1==_){m=f.m?f.m.length:0,f=Date.now()-f.F;var R=l.B;bn(_=Cy(),new fU(_,m)),ky(l)}else HU(l);else if(3==(R=f.s)||0==R&&0<f.X||!(1==_&&function Fue(l,f){return!(wU(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=Nh(p(l.Ga,l,f),GU(l,l.B)),l.B++,0)))}(l,f)||2==_&&HT(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),R){case 1:sa(l,5);break;case 4:sa(l,10);break;case 3:sa(l,6);break;default:sa(l,2)}}function GU(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function sa(l,f){if(l.j.info("Error code "+f),2==f){var m=p(l.fb,l),_=l.Xa;const R=!_;_=new oa(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ay(_,"https"),My(_),R?function Mue(l,f){const m=new xh;if(a.Image){const _=new Image;_.onload=g(ko,m,"TestLoadImage: loaded",!0,f,_),_.onerror=g(ko,m,"TestLoadImage: error",!1,f,_),_.onabort=g(ko,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=g(ko,m,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}(_.toString(),m):function Nue(l,f){new xh;const _=new AbortController,R=setTimeout(()=>{_.abort(),ko(0,0,!1,f)},1e4);fetch(l,{signal:_.signal}).then(k=>{clearTimeout(R),ko(0,0,!!k.ok,f)}).catch(()=>{clearTimeout(R),ko(0,0,!1,f)})}(_.toString(),m)}else Tn(2);l.G=0,l.l&&l.l.sa(f),WU(l),jU(l)}function WU(l){if(l.G=0,l.ka=[],l.l){const f=CU(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function QU(l,f,m){var _=m instanceof oa?Vi(m):new oa(m);if(""!=_.g)f&&(_.g=f+"."+_.g),Ry(_,_.s);else{var R=a.location;_=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var k=new oa(null);_&&Ay(k,_),f&&(k.g=f),R&&Ry(k,R),m&&(k.l=m),_=k}return f=l.ya,(m=l.D)&&f&&tt(_,m,f),tt(_,"VER",l.la),Uh(l,_),_}function KU(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new Et(l.Ca&&!l.pa?new Fh({eb:m}):l.pa)).Ha(l.J),f}function ZU(){}function Vy(){}function er(l,f){dn.call(this),this.g=new BU(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!C(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Cc(this)}function YU(l){xT.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function JU(){PT.call(this),this.status=1}function Cc(l){this.g=l}(t=Et.prototype).Ha=function(l){this.J=l},t.ea=function(l,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kT.g(),this.v=function uU(l){return l.h||(l.h=l.i())}(this.o?this.o:kT),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(k){return void kU(this,k)}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)m.set(R,_[R]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const k of _.keys())m.set(k,_.get(k))}_=Array.from(m.keys()).find(k=>"content-type"==k.toLowerCase()),R=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Oue,f,void 0))||_||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,G]of m)this.g.setRequestHeader(k,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FU(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){kU(this,k)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bn(this,"complete"),bn(this,"abort"),xy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xy(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VU(this):this.bb())},t.bb=function(){VU(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),fue(f)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=BU.prototype).la=8,t.G=1,t.connect=function(l,f,m,_){Tn(0),this.W=l,this.H=f||{},m&&void 0!==_&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=QU(this,null,this.W),ky(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const R=new xo(this,this.j,l);let k=this.o;if(this.S&&(k?(k=I(k),S(k,this.S)):k=this.S),null!==this.m||this.O||(R.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){var _=this.i[m];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=m;break e}if(4096===f||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=$U(this,R,f),tt(m=Vi(this.I),"RID",l),tt(m,"CVER",22),this.D&&tt(m,"X-HTTP-Session-Id",this.D),Uh(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(PU(k)))+"&"+f:this.m&&UT(m,this.m,k)),jT(this.h,R),this.Ua&&tt(m,"TYPE","init"),this.P?(tt(m,"$req",f),tt(m,"SID","null"),R.T=!0,VT(R,m,null)):VT(R,m,f),this.G=2}}else 3==this.G&&(l?UU(this,l):0==this.i.length||IU(this.h)||UU(this))},t.Fa=function(){if(this.u=null,zU(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nh(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),Py(this),zU(this))},t.Za=function(){null!=this.C&&(this.C=null,Py(this),HT(this),Tn(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=ZU.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Vy.prototype.g=function(l,f){return new er(l,f)},y(er,dn),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){$T(this.g)},er.prototype.o=function(l){var f=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=MT(l),l=m);f.i.push(new Eue(f.Ya++,l)),3==f.G&&ky(f)},er.prototype.N=function(){this.g.l=null,delete this.j,$T(this.g),delete this.g,er.aa.N.call(this)},y(YU,xT),y(JU,PT),y(Cc,ZU),Cc.prototype.ua=function(){bn(this.g,"a")},Cc.prototype.ta=function(l){bn(this.g,new YU(l))},Cc.prototype.sa=function(l){bn(this.g,new JU)},Cc.prototype.ra=function(){bn(this.g,"b")},Vy.prototype.createWebChannel=Vy.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,LV=Si.createWebChannelTransport=function(){return new Vy},FV=Si.getStatEventTarget=function(){return Cy()},VV=Si.Event=ra,hD=Si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},by.NO_ERROR=0,by.TIMEOUT=8,by.HTTP_ERROR=6,Gg=Si.ErrorCode=by,pU.COMPLETE="complete",OV=Si.EventType=pU,cU.EventType=Rh,Rh.OPEN="a",Rh.CLOSE="b",Rh.ERROR="c",Rh.MESSAGE="d",dn.prototype.listen=dn.prototype.K,Sd=Si.WebChannel=cU,Si.FetchXmlHttpFactory=Fh,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,kV=Si.XhrIo=Et}).apply(typeof qg<"u"?qg:typeof self<"u"?self:typeof window<"u"?window:{});const BV="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Su="11.7.3";const uo=new uV("@firebase/firestore");function Au(){return uo.logLevel}function B(t,...e){if(uo.logLevel<=Se.DEBUG){const n=e.map(fD);uo.debug(`Firestore (${Su}): ${t}`,...n)}}function Ct(t,...e){if(uo.logLevel<=Se.ERROR){const n=e.map(fD);uo.error(`Firestore (${Su}): ${t}`,...n)}}function hr(t,...e){if(uo.logLevel<=Se.WARN){const n=e.map(fD);uo.warn(`Firestore (${Su}): ${t}`,...n)}}function fD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function K(t,e,n){let r="Unexpected state";"string"==typeof e?r=e:n=e,UV(t,r,n)}function UV(t,e,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ct(r),new Error(r)}function Y(t,e,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,t||UV(e,i,r)}function q(t,e){return t}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends bu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $V{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Lne{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;Y(void 0===this.o,42304);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(L(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken,31837,{l:r}),new $V(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e,2055,{h:e}),new Ht(e)}}class Bne{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bne(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Une{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,function Zte(t){return null!=t&&void 0!==t.settings}(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Y(void 0===this.o,3512);const r=o=>{null!=o.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y("string"==typeof n.token,44558,{tokenResult:n}),this.m=n.token,new pD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $ne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function gD(){return new TextEncoder}class HV{static newId(){const n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$ne(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function mD(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ne(r,i);{const o=gD(),s=Hne(o.encode(zV(t,n)),o.encode(zV(e,n)));return 0!==s?s:ne(r,i)}}n+=r>65535?2:1}return ne(t.length,e.length)}function zV(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Hne(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ne(t[n],e[n]);return ne(t.length,e.length)}function Ru(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const GV=-62135596800;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GV)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-GV).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new dt(0,0))}static max(){return new X(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yD="__name__";class Qr{constructor(e,n,r){void 0===n?n=0:n>e.length&&K(637,{offset:n,range:e.length}),void 0===r?r=e.length-n:r>e.length-n&&K(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Qr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Qr.compareSegments(e.get(i),n.get(i));if(0!==o)return o}return ne(e.length,n.length)}static compareSegments(e,n){const r=Qr.isNumericId(e),i=Qr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):mD(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class we extends Qr{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const zne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Qr{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return zne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===yD}static keyField(){return new st([yD])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new j(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(we.fromString(e))}static fromName(e){return new W(we.fromString(e).popFirst(5))}static empty(){return new W(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new we(e.slice()))}}class Yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yn(X.min(),W.empty(),-1)}static max(){return new Yn(X.max(),W.empty(),-1)}}function vD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=W.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}class YV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function co(t){return ED.apply(this,arguments)}function ED(){return(ED=L(function*(t){if(t.code!==x.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;B("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function lo(t){return"IndexedDbTransactionError"===t.name}let Xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ce&&this.ce(n),n}}return t.le=-1,t})();function Md(t){return null==t}function Nd(t){return 0===t&&1/t==-1/0}function Yne(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tF(t){return t+"\x01\x01"}const Pd="mutationQueues",Rr="mutations",ku="documentMutations",kd="remoteDocumentGlobal",Ou="targets",Vu="targetDocuments",Vs="targetGlobal",Od="collectionParents",Fu="clientMetadata",Xg="bundles",em="namedQueries";function fF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Je{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mF(this.data.getIterator())}getIteratorFrom(e){return new mF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class mF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Be(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class yF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yF("Invalid base64 string: "+o):o}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const Dre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Y(!!t,39018),"string"==typeof t){let e=0;const n=Dre.exec(t);if(Y(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ri(t){return"string"==typeof t?vt.fromBase64String(t):vt.fromUint8Array(t)}const _F="server_timestamp",vF="__type__",EF="__previous_value__",IF="__local_write_time__";function om(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[vF])||void 0===n?void 0:n.stringValue)===_F}function sm(t){const e=t.mapValue.fields[EF];return om(e)?sm(e):e}function Vd(t){const e=Ai(t.mapValue.fields[IF].timestampValue);return new dt(e.seconds,e.nanos)}class Cre{constructor(e,n,r,i,o,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Fd="(default)";class Fs{constructor(e,n){this.projectId=e,this.database=n||Fd}static empty(){return new Fs("","")}get isDefaultDatabase(){return this.database===Fd}isEqual(e){return e instanceof Fs&&e.projectId===this.projectId&&e.database===this.database}}const MD="__type__",wF="__max__",po_mapValue={fields:{__type__:{stringValue:wF}}},ND="__vector__",Bu="value";function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:SF(t)?9007199254740991:lm(t)?10:11:K(28295,{value:t})}function Yr(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vd(t).isEqual(Vd(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ai(i.timestampValue),a=Ai(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Ri(t.bytesValue).isEqual(Ri(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=at(i.doubleValue),a=at(o.doubleValue);return s===a?Nd(s)===Nd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ru(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fF(s)!==fF(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Yr(s[u],a[u])))return!1;return!0}(t,e);default:return K(52216,{left:t})}var o}function Ld(t,e){return void 0!==(t.values||[]).find(n=>Yr(n,e))}function mo(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=at(o.integerValue||o.doubleValue),u=at(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return DF(t.timestampValue,e.timestampValue);case 4:return DF(Vd(t),Vd(e));case 5:return mD(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ri(o),u=Ri(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ne(a[c],u[c]);if(0!==d)return d}return ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ne(at(o.latitude),at(s.latitude));return 0!==a?a:ne(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CF(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{})[Bu])||void 0===a?void 0:a.arrayValue,y=null===(u=(s.fields||{})[Bu])||void 0===u?void 0:u.arrayValue,v=ne((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=y?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:CF(g,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===po_mapValue&&s===po_mapValue)return 0;if(o===po_mapValue)return 1;if(s===po_mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=mD(u[h],d[h]);if(0!==p)return p;const g=mo(a[u[h]],c[d[h]]);if(0!==g)return g}return ne(u.length,d.length)}(t.mapValue,e.mapValue);default:throw K(23264,{Pe:n})}}function DF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=Ai(t),r=Ai(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function CF(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=mo(n[i],r[i]);if(o)return o}return ne(n.length,r.length)}function ju(t){return xD(t)}function xD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ri(t.bytesValue).toBase64():"referenceValue"in t?W.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=xD(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${xD(n.fields[s])}`;return i+"}"}(t.mapValue):K(61005,{value:t})}function um(t){switch(go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+um(o),0);case 10:case 11:return function(r){let i=0;return fo(r.fields,(o,s)=>{i+=o.length+um(s)}),i}(t.mapValue);default:throw K(13486,{value:t})}}function PD(t){return!!t&&"integerValue"in t}function Bd(t){return!!t&&"arrayValue"in t}function bF(t){return!!t&&"nullValue"in t}function TF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function lm(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[MD])||void 0===n?void 0:n.stringValue)===ND}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wF}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=jd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yt(jd(this.value))}}function NF(t){const e=[];return fo(t.fields,(n,r)=>{const i=new st([n]);if(cm(r)){const o=NF(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}class et{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new et(e,0,X.min(),X.min(),X.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new et(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new et(e,2,n,X.min(),X.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new et(e,3,n,X.min(),X.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yo{constructor(e,n){this.position=e,this.inclusive=n}}function xF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):mo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function PF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class kF{}class De extends kF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Are(e,n,r):"array-contains"===n?new Nre(e,r):"in"===n?new jF(e,r):"not-in"===n?new xre(e,r):"array-contains-any"===n?new Pre(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Rre(e,r):new Mre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&void 0===n.nullValue&&this.matchesComparison(mo(n,this.value)):null!==n&&go(this.value)===go(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class je extends kF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new je(e,n)}matches(e){return Uu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Uu(t){return"and"===t.op}function OD(t){return function OF(t){for(const e of t.filters)if(e instanceof je)return!1;return!0}(t)&&Uu(t)}function VD(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+ju(t.value);if(OD(t))return t.filters.map(e=>VD(e)).join(",");{const e=t.filters.map(n=>VD(n)).join(",");return`${t.op}(${e})`}}function VF(t,e){return t instanceof De?(r=t,(i=e)instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)):t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&VF(s,i.filters[a]),!0)}(t,e):void K(19439);var r,i}function LF(t){return t instanceof De?`${(n=t).field.canonicalString()} ${n.op} ${ju(n.value)}`:t instanceof je?function(n){return n.op.toString()+" {"+n.getFilters().map(LF).join(" ,")+"}"}(t):"Filter";var n}class Are extends De{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rre extends De{constructor(e,n){super(e,"in",n),this.keys=BF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mre extends De{constructor(e,n){super(e,"not-in",n),this.keys=BF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class Nre extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bd(n)&&Ld(n.arrayValue,this.value)}}class jF extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ld(this.value.arrayValue,n)}}class xre extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&void 0===n.nullValue&&!Ld(this.value.arrayValue,n)}}class Pre extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ld(this.value.arrayValue,r))}}class kre{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function FD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new kre(t,e,n,r,i,o,s)}function Bs(t){const e=q(t);if(null===e.Ie){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>VD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ju(r)).join(",")),e.Ie=n}return e.Ie}function $d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PF(t.startAt,e.startAt)&&PF(t.endAt,e.endAt)}function dm(t){return W.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null}}function $u(t){return new Mi(t)}function zF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Hu(t){const e=q(t);if(null===e.Ee){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Be(st.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ud(o,r))}),n.has(st.keyField().canonicalString())||e.Ee.push(new Ud(st.keyField(),r))}return e.Ee}function sn(t){const e=q(t);return e.de||(e.de=function GF(t,e){if("F"===t.limitType)return FD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ud(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yo(t.startAt.position,t.startAt.inclusive):null;return FD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Hu(t))),e.de}function fm(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return $d(sn(t),sn(e))&&t.limitType===e.limitType}function WF(t){return`${Bs(sn(t))}|lt:${t.limitType}`}function zu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LF(i)).join(", ")}]`),Md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ju(i)).join(",")),`Target(${r})`}(sn(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=xF(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Hu(r),i)||r.endAt&&!function(s,a,u){const c=xF(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Hu(r),i)));var r,i}function KF(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const o=Ore(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Ore(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?mo(u,c):K(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:t.dir})}}class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gF(this.inner)}size(){return this.innerSize}}const Vre=new Je(W.comparator);function Bn(){return Vre}const ZF=new Je(W.comparator);function qd(...t){let e=ZF;for(const n of t)e=e.insert(n.key,n);return e}function YF(t){let e=ZF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Gd()}function JF(){return Gd()}function Gd(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fre=new Je(W.comparator),Lre=new Be(W.comparator);function me(...t){let e=Lre;for(const n of t)e=e.add(n);return e}const Bre=new Be(ne);function UD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function XF(t){return{integerValue:""+t}}function eL(t,e){return function eF(t){return"number"==typeof t&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?XF(e):UD(t,e)}class pm{constructor(){this._=void 0}}function jre(t,e,n){return t instanceof qu?function(i,o){const s={fields:{[vF]:{stringValue:_F},[IF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&om(o)&&(o=sm(o)),o&&(s.fields[EF]=o),{mapValue:s}}(n,e):t instanceof js?nL(t,e):t instanceof Us?rL(t,e):function(i,o){const s=tL(i,o),a=iL(s)+iL(i.Re);return PD(s)&&PD(i.Re)?XF(a):UD(i.serializer,a)}(t,e)}function Ure(t,e,n){return t instanceof js?nL(t,e):t instanceof Us?rL(t,e):n}function tL(t,e){return t instanceof Gu?PD(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class qu extends pm{}class js extends pm{constructor(e){super(),this.elements=e}}function nL(t,e){const n=oL(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Us extends pm{constructor(e){super(),this.elements=e}}function rL(t,e){let n=oL(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class Gu extends pm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function iL(t){return at(t.integerValue||t.doubleValue)}function oL(t){return Bd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Hre{constructor(e,n){this.version=e,this.transformResults=n}}class ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ut}static exists(e){return new ut(void 0,e)}static updateTime(e){return new ut(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class mm{}function sL(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qu(t.key,ut.none()):new Wu(t.key,t.data,ut.none());{const n=t.data,r=Yt.empty();let i=new Be(st.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new xi(t.key,r,new Ln(i.toArray()),ut.none())}}function zre(t,e,n){t instanceof Wu?function(i,o,s){const a=i.value.clone(),u=cL(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xi?function(i,o,s){if(!gm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=cL(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(uL(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qd(t,e,n,r){return t instanceof Wu?function(o,s,a,u){if(!gm(o.precondition,s))return a;const c=o.value.clone(),d=lL(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof xi?function(o,s,a,u){if(!gm(o.precondition,s))return a;const c=lL(o.fieldTransforms,u,s),d=s.data;return d.setAll(uL(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,gm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tL(r.transform,i||null);null!=o&&(null===n&&(n=Yt.empty()),n.set(r.field,o))}return n||null}function aL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Ru(r,i,(o,s)=>function $re(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof js&&i instanceof js||r instanceof Us&&i instanceof Us?Ru(r.elements,i.elements,Yr):r instanceof Gu&&i instanceof Gu?Yr(r.Re,i.Re):r instanceof qu&&i instanceof qu);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Wu extends mm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xi extends mm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cL(t,e,n){const r=new Map;Y(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ure(s,a,n[i]))}return r}function lL(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jre(o,s,e))}return r}class Qu extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zre(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=sL(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(n,r)=>aL(n,r))&&Ru(this.baseMutations,e.baseMutations,(n,r)=>aL(n,r))}}class zD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Fre}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new zD(e,n,r,i)}}class qD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gre{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,Ae;function fL(t){if(void 0===t)return Ct("GRPC error has no .code"),x.UNKNOWN;switch(t){case xt.OK:return x.OK;case xt.CANCELLED:return x.CANCELLED;case xt.UNKNOWN:return x.UNKNOWN;case xt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case xt.INTERNAL:return x.INTERNAL;case xt.UNAVAILABLE:return x.UNAVAILABLE;case xt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case xt.NOT_FOUND:return x.NOT_FOUND;case xt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case xt.ABORTED:return x.ABORTED;case xt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case xt.DATA_LOSS:return x.DATA_LOSS;default:return K(39323,{code:t})}}(Ae=xt||(xt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";const Wre=new ao([4294967295,4294967295],0);function pL(t){const e=gD().encode(t),n=new PV;return n.update(e),new Uint8Array(n.digest())}function gL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ao([n,r],0),new ao([i,o],0)]}class GD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kd(`Invalid padding: ${n}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Kd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Kd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ao.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ao.fromNumber(r)));return 1===i.compare(Wre)&&(i=new ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const n=pL(e),[r,i]=gL(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new GD(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.pe)return;const n=pL(e),[r,i]=gL(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zd(X.min(),i,new Je(ne),Bn(),me())}}class Yd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,me(),me(),me())}}class _m{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class mL{constructor(e,n){this.targetId=e,this.Ce=n}}class yL{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _L{constructor(){this.Fe=0,this.Me=vL(),this.xe=vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=me(),n=me(),r=me();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new Yd(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=vL()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Y(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qre{constructor(e){this.ze=e,this.je=new Map,this.He=Bn(),this.Je=vm(),this.Ye=vm(),this.Ze=new Je(ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(dm(o))if(0===r){const s=new W(o.path);this.tt(n,s,et.newNoDocument(s,X.min()))}else Y(1===r,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),u=a?this.lt(a,e,s):1;0!==u&&(this.st(n),this.Ze=this.Ze.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ri(r).toUint8Array()}catch(u){if(u instanceof yF)return hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new GD(s,i,o)}catch(u){return hr(u instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.pe?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&dm(a.target)){const u=new W(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,et.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=me();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this._t(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new Zd(e,n,this.Ze,this.He,r);return this.He=Bn(),this.Je=vm(),this.Ye=vm(),this.Ze=new Je(ne),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new _L,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Be(ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Be(ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=null!==this._t(e);return n||B("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _L),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function vm(){return new Je(W.comparator)}function vL(){return new Je(W.comparator)}const Kre={asc:"ASCENDING",desc:"DESCENDING"},Zre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yre={and:"AND",or:"OR"};class Jre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function WD(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function Ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xre(t,e){return Ku(t,e.toTimestamp())}function bt(t){return Y(!!t,49232),X.fromTimestamp(function(n){const r=Ai(n);return new dt(r.seconds,r.nanos)}(t))}function QD(t,e){return KD(t,e).canonicalString()}function KD(t,e){const n=(i=t,new we(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function IL(t){const e=we.fromString(t);return Y(xL(e),10190,{key:e.toString()}),e}function Jd(t,e){return QD(t.databaseId,e.path)}function Xr(t,e){const n=IL(e);if(n.get(1)!==t.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(CL(n))}function wL(t,e){return QD(t.databaseId,e)}function ZD(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CL(t){return Y(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function bL(t,e,n){return{name:Jd(t,e),fields:n.value.mapValue.fields}}function SL(t,e){return{documents:[wL(t,e.path)]}}function Em(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wL(t,i);const o=function(c){if(0!==c.length)return NL(je.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:_o((p=d).field),direction:iie(p.dir)};var p})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=WD(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i};var c}function RL(t){let e=function DL(t){const e=IL(t);return 4===e.length?we.emptyPath():CL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(1===r,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=ML(h);return p instanceof je&&OD(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(p=>{return new Ud(Zu((y=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;n.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,Md(p)?null:p}(n.limit));let u=null;var h;n.startAt&&(u=new yo((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new yo(h.values||[],!h.before)}(n.endAt)),function HF(t,e,n,r,i,o,s,a){return new Mi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function ML(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zu(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zu(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zu(n.unaryFilter.field);return De.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zu(n.unaryFilter.field);return De.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(t):void 0!==t.fieldFilter?De.create(Zu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return je.create(n.compositeFilter.filters.map(r=>ML(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(t):K(30097,{filter:t});var n}function iie(t){return Kre[t]}function oie(t){return Zre[t]}function sie(t){return Yre[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Zu(t){return st.fromServerFormat(t.fieldPath)}function NL(t){return t instanceof De?function(n){if("=="===n.op){if(TF(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(bF(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(TF(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(bF(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:oie(n.op),value:n.value}}}(t):t instanceof je?function(n){const r=n.getFilters().map(i=>NL(i));return 1===r.length?r[0]:{compositeFilter:{op:sie(n.op),filters:r}}}(t):K(54877,{filter:t})}function aie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Pi{constructor(e,n,r,i,o=X.min(),s=X.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PL{constructor(e){this.wt=e}}function JD(t){const e=RL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fm(e,e.limit,"L"):e}class qs{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(at(e.integerValue));else if("doubleValue"in e){const r=at(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Nd(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),"string"==typeof r&&(r=Ai(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Ri(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?SF(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):lm(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):K(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;const o=e.fields||{};this.Mt(n,53);const s=Bu,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Mt(n,15),n.xt(at(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),W.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}qs.Wt=new qs;class mie{constructor(){this.yn=new iC}addToCollectionParentIndex(e,n){return this.yn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Yn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class iC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(we.comparator)).toArray()}}new Uint8Array(0);const KL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class Ws{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ws(0)}static ir(){return new Ws(-1)}}const t2="LruGarbageCollector";function r2([t,e],[n,r]){const i=ne(t,n);return 0===i?ne(e,r):i}class vie{constructor(e){this.cr=e,this.buffer=new Be(r2),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){var n=this;B(t2,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,L(function*(){n.Tr=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){lo(r)?B(t2,"Ignoring IndexedDB error during garbage collection: ",r):yield co(r)}yield n.Ir(3e5)}))}}class Eie{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return M.resolve(Xn.le);const r=new vie(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(KL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KL):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Au()<=Se.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class s2{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class d2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Qd(r.mutation,i,Ln.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qd();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Bn();const s=Gd(),a=Gd();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof xi)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Qd(d.mutation,c,d.mutation.getFieldMask(),dt.now())):s.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new Cie(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gd();let i=new Je((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||Ln.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=JF();d.forEach(p=>{if(!o.has(p)){const g=sL(n.get(p),r.get(p));null!==g&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return W.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function LD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Jr());let a=-1,u=o;return s.next(c=>M.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:a,changes:YF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qd();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const c=(h=n,p=u.child(o),new Mi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,et.newInvalidDocument(d)))});let a=qd();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Qd(d.mutation,c,Ln.empty(),dt.now()),zd(n,c)&&(a=a.insert(u,c))}),a})}}class bie{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return M.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,{id:(i=n).id,version:i.version,createTime:bt(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,{name:(i=n).name,query:JD(i.bundledQuery),readTime:bt(i.readTime)}),M.resolve();var i}}class Tie{constructor(){this.overlays=new Je(W.comparator),this.Or=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=Jr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Jr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return M.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qD(n,r));let o=this.Or.get(n);void 0===o&&(o=me(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}class Sie{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class oC{constructor(){this.Nr=new Be(qt.Br),this.Lr=new Be(qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new qt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new W(new we([])),r=new qt(n,e),i=new qt(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new W(new we([])),r=new qt(n,e),i=new qt(n,e+1);let o=me();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qt(e,0),r=this.Nr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return W.comparator(e.key,n.key)||ne(e.Gr,n.Gr)}static kr(e,n){return ne(e.Gr,n.Gr)||W.comparator(e.key,n.key)}}class Aie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Be(qt.Br)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Jn;this.Jn++;const s=new HD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.zr=this.zr.add(new qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Hr(n+1),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.Jn-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{const a=this.jr(s.Gr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(ne);return n.forEach(i=>{const o=new qt(i,0),s=new qt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),M.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new qt(new W(o),0);let a=new Be(ne);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Gr)),!0)},s),M.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Y(0===this.Yr(n.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.zr;return M.forEach(n.mutations,i=>{const o=new qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new qt(n,0),i=this.zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Rie{constructor(e){this.Zr=e,this.docs=new Je(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():et.newInvalidDocument(n))}getEntries(e,n){let r=Bn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():et.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Bn();const s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vD(new Yn((t=d).readTime,t.key,-1),r)<=0||(i.has(d.key)||zd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}var t;return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K(9500)}Xr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mie(this)}getSize(e){return M.resolve(this.size)}}class Mie extends s2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}class Nie{constructor(e){this.persistence=e,this.ei=new Ni(n=>Bs(n),$d),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.ti=0,this.ni=new oC,this.targetCount=0,this.ri=Ws.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),M.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.ar(n),M.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ni.containsKey(n))}}class sC{constructor(e,n){this.ii={},this.overlays={},this.si=new Xn(0),this.oi=!1,this.oi=!0,this._i=new Sie,this.referenceDelegate=e(this),this.ai=new Nie(this),this.indexManager=new mie,this.remoteDocumentCache=new Rie(r=>this.referenceDelegate.ui(r)),this.serializer=new PL(n),this.ci=new bie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Aie(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new xie(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return M.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class xie extends YV{constructor(e){super(),this.currentSequenceNumber=e}}class Am{constructor(e){this.persistence=e,this.Ti=new oC,this.Ii=null}static Ei(e){return new Am(e)}get di(){if(this.Ii)return this.Ii;throw K(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,r=>{const i=W.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return M.or([()=>M.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.Ri=new Ni(r=>function on(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tF(e)),e=Yne(t.get(n),e);return tF(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function o2(t,e){return new Eie(t,e)}(this,n)}static Ei(e,n){return new Rm(e,n)}li(){}hi(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return M.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}gr(e,n,r){return M.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return M.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=me(),i=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hC(e,n.fromCache,r,i)}}class kie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class p2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function nV(){return!function Uee(){var t;const e=null===(t=Lg())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function JV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(function oo(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new kie;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Au()<=Se.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),M.resolve()):(Au()<=Se.DEBUG&&B("QueryEngine","Query:",zu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Au()<=Se.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(n))):M.resolve())}Rs(e,n){if(zF(n))return M.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=fm(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=me(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,a);return this.ys(n,c,s,u.readTime)?this.Rs(e,fm(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,i){return zF(n)||i.isEqual(X.min())?M.resolve(null):this.As.getDocuments(e,r).next(o=>{const s=this.ps(n,o);return this.ys(n,s,r,i)?M.resolve(null):(Au()<=Se.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zu(n)),this.ws(e,s,n,function QV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new dt(n+1,0):new dt(n,r));return new Yn(i,W.empty(),e)}(i,-1)).next(a=>a))})}ps(e,n){let r=new Be(KF(e));return n.forEach((i,o)=>{zd(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return Au()<=Se.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",zu(n)),this.As.getDocumentsMatchingQuery(e,n,Yn.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}const fC="LocalStore";class Vie{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Je(ne),this.Ds=new Ni(o=>Bs(o),$d),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function m2(t,e){return pC.apply(this,arguments)}function pC(){return(pC=L(function*(t,e){const n=q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=me();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function y2(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Bie(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rc(t,e,n){return gC.apply(this,arguments)}function gC(){return(gC=L(function*(t,e,n){const r=q(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lo(s))throw s;B(fC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})).apply(this,arguments)}function Nm(t,e,n){const r=q(t);let i=X.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=q(u),p=h.Ds.get(d);return void 0!==p?M.resolve(h.Ss.get(p)):h.ai.getTargetData(c,d)}(r,s,sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:me())).next(a=>(function I2(t,e,n){let r=t.vs.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}(r,function QF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ns:o})))}class EC{constructor(){this.activeTargetIds=function jD(){return Bre}()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S2{constructor(){this.So=new EC,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new EC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $ie{vo(e){}shutdown(){}}const A2="ConnectivityMonitor";class R2{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){B(A2,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){B(A2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let km=null;function wC(){return null===km?km=268435456+Math.round(2147483648*Math.random()):km++,"0x"+km.toString(16)}const DC="RestConnection",Hie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zie{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Fd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){const s=wC(),a=this.$o(e,n.toUriEncodedString());B(DC,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);const{host:c}=new URL(a),d=eV(c);return this.Ko(e,a,u,r,d).then(h=>(B(DC,`Received RPC '${e}' ${s}: `,h),h),h=>{throw hr(DC,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){return`${this.Lo}/v1/${n}:${Hie[e]}`}terminate(){}}class qie{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const un="WebChannelConnection";class Gie extends zie{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){const s=wC();return new Promise((a,u)=>{const c=new kV;c.setWithCredentials(!0),c.listenOnce(OV.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gg.NO_ERROR:const h=c.getResponseJson();B(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Gg.TIMEOUT:B(un,`RPC '${e}' ${s} timed out`),u(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case Gg.HTTP_ERROR:const p=c.getStatus();if(B(un,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const v=function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(C)>=0?C:x.UNKNOWN}(y.status);u(new j(v,y.message))}else u(new j(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new j(x.UNAVAILABLE,"Connection failed."));break;default:K(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{B(un,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);B(un,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}a_(e,n,r){const i=wC(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=LV(),a=FV(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");B(un,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,g=!1;const y=new qie({Go:E=>{g?B(un,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(B(un,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),B(un,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},zo:()=>h.close()}),v=(E,T,C)=>{E.listen(T,O=>{try{C(O)}catch(H){setTimeout(()=>{throw H},0)}})};return v(h,Sd.EventType.OPEN,()=>{g||(B(un,`RPC '${e}' stream ${i} transport opened.`),y.t_())}),v(h,Sd.EventType.CLOSE,()=>{g||(g=!0,B(un,`RPC '${e}' stream ${i} transport closed`),y.r_())}),v(h,Sd.EventType.ERROR,E=>{g||(g=!0,hr(un,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),y.r_(new j(x.UNAVAILABLE,"The operation could not be completed")))}),v(h,Sd.EventType.MESSAGE,E=>{var T;if(!g){const C=E.data[0];Y(!!C,16349);const O=C,H=O?.error||(null===(T=O[0])||void 0===T?void 0:T.error);if(H){B(un,`RPC '${e}' stream ${i} received error:`,H);const Q=H.status;let re=function(D){const S=xt[D];if(void 0!==S)return fL(S)}(Q),b=H.message;void 0===re&&(re=x.INTERNAL,b="Unknown error status: "+Q+" with message "+H.message),g=!0,y.r_(new j(re,b)),h.close()}else B(un,`RPC '${e}' stream ${i} received:`,C),y.i_(C)}}),v(a,VV.STAT_EVENT,E=>{E.stat===hD.PROXY?B(un,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===hD.NOPROXY&&B(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.n_()},0),y}}function Om(){return typeof document<"u"?document:null}function ah(t){return new Jre(t,!0)}class CC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const N2="PersistentStream";class x2{constructor(e,n,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new CC(e,n)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}stop(){var e=this;return L(function*(){e.w_()&&(yield e.close(0))})()}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){var e=this;return L(function*(){if(e.b_())return e.close(0)})()}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){var r=this;return L(function*(){r.M_(),r.x_(),r.y_.cancel(),r.m_++,4!==e?r.y_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Ct(n.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),r.y_.I_()):n&&n.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.O_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zo(n)})()}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new j(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.p_?this.q_(i):this.onNext(i))})}S_(){var e=this;this.state=5,this.y_.E_(L(function*(){e.state=0,e.start()}))}L_(e){return B(N2,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(B(N2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wie extends x2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=function tie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:K(39313,{state:c}),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Y(void 0===d||"string"==typeof d,58123),vt.fromBase64String(d||"")):(Y(void 0===d||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?x.UNKNOWN:fL(c.code);return new j(d,c.message||"")}(s);n=new yL(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(t,r.document.name),o=bt(r.document.updateTime),s=r.document.createTime?bt(r.document.createTime):X.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=et.newFoundDocument(i,o,s,a);n=new _m(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(t,r.document),o=r.readTime?bt(r.readTime):X.min(),s=et.newNoDocument(i,o);n=new _m([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(t,r.document);n=new _m([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Gre(i,o);n=new mL(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?bt(s.readTime):X.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=ZD(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=dm(u)?{documents:SL(o,u)}:{query:Em(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EL(o,s.resumeToken);const c=WD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Ku(o,s.snapshotVersion.toTimestamp());const c=WD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function rie(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=ZD(this.serializer),n.removeTarget=e,this.F_(n)}}class Qie extends x2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Y(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Y(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){Y(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=function nie(t,e){return t&&t.length>0?(Y(void 0!==e,14353),t.map(n=>function(i,o){let s=bt(i.updateTime?i.updateTime:o);return s.isEqual(X.min())&&(s=bt(o)),new Hre(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=bt(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=ZD(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Xd(t,e){let n;if(e instanceof Wu)n={update:bL(t,e.key,e.value)};else if(e instanceof Qu)n={delete:Jd(t,e.key)};else if(e instanceof xi)n={update:bL(t,e.key,e.data),updateMask:aie(e.fieldMask)};else{if(!(e instanceof $D))return K(16599,{ft:e.type});n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Us)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw K(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Xre(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:K(27497)),n;var o}(this.serializer,r))};this.F_(n)}}class Kie{}class Zie extends Kie{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,KD(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(x.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,KD(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(x.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Yie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ct(n),this.ea=!1):B("OnlineStateTracker",n)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Ks="RemoteStore";class Jie{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(a=>{r.enqueueAndForget(L(function*(){var u;Do(s)&&(B(Ks,"Restarting streams for network reachability change."),yield(u=L(function*(d){const h=q(d);h.aa.add(4),yield ic(h),h.la.set("Unknown"),h.aa.delete(4),yield uh(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.la=new Yie(r,i)}}function uh(t){return bC.apply(this,arguments)}function bC(){return(bC=L(function*(t){if(Do(t))for(const e of t.ua)yield e(!0)})).apply(this,arguments)}function ic(t){return TC.apply(this,arguments)}function TC(){return(TC=L(function*(t){for(const e of t.ua)yield e(!1)})).apply(this,arguments)}function Vm(t,e){const n=q(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),RC(n)?AC(n):ac(n).b_()&&SC(n,e))}function oc(t,e){const n=q(t),r=ac(n);n._a.delete(e),r.b_()&&P2(n,e),0===n._a.size&&(r.b_()?r.v_():Do(n)&&n.la.set("Unknown"))}function SC(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).U_(e)}function P2(t,e){t.ha.Ke(e),ac(t).K_(e)}function AC(t){t.ha=new Qre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.la.ta()}function RC(t){return Do(t)&&!ac(t).w_()&&t._a.size>0}function Do(t){return 0===q(t).aa.size}function k2(t){t.ha=void 0}function Xie(t){return MC.apply(this,arguments)}function MC(){return(MC=L(function*(t){t.la.set("Online")})).apply(this,arguments)}function eoe(t){return NC.apply(this,arguments)}function NC(){return(NC=L(function*(t){t._a.forEach((e,n)=>{SC(t,e)})})).apply(this,arguments)}function toe(t,e){return xC.apply(this,arguments)}function xC(){return(xC=L(function*(t,e){k2(t),RC(t)?(t.la.ia(e),AC(t)):t.la.set("Unknown")})).apply(this,arguments)}function noe(t,e,n){return PC.apply(this,arguments)}function PC(){return PC=L(function*(t,e,n){if(t.la.set("Online"),e instanceof yL&&2===e.state&&e.cause)try{yield(r=L(function*(o,s){const a=s.cause;for(const u of s.targetIds)o._a.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o._a.delete(u),o.ha.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){B(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fm(t,r)}else if(e instanceof _m?t.ha.Xe(e):e instanceof mL?t.ha.ot(e):t.ha.nt(e),!n.isEqual(X.min()))try{const r=yield y2(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.ha.It(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o._a.get(c);d&&o._a.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o._a.get(u);if(!d)return;o._a.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),P2(o,u);const h=new Pi(d.target,u,c,d.sequenceNumber);SC(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B(Ks,"Failed to raise snapshot:",r),yield Fm(t,r)}var r}),PC.apply(this,arguments)}function Fm(t,e,n){return kC.apply(this,arguments)}function kC(){return(kC=L(function*(t,e,n){if(!lo(e))throw e;t.aa.add(1),yield ic(t),t.la.set("Offline"),n||(n=()=>y2(t.localStore)),t.asyncQueue.enqueueRetryable(L(function*(){B(Ks,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield uh(t)}))})).apply(this,arguments)}function O2(t,e){return e().catch(n=>Fm(t,n,e))}function sc(t){return OC.apply(this,arguments)}function OC(){return(OC=L(function*(t){const e=q(t),n=Co(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:-1;for(;roe(e);)try{const i=yield Bie(e.localStore,r);if(null===i){0===e.oa.length&&n.v_();break}r=i.batchId,ioe(e,i)}catch(i){yield Fm(e,i)}V2(e)&&F2(e)})).apply(this,arguments)}function roe(t){return Do(t)&&t.oa.length<10}function ioe(t,e){t.oa.push(e);const n=Co(t);n.b_()&&n.W_&&n.G_(e.mutations)}function V2(t){return Do(t)&&!Co(t).w_()&&t.oa.length>0}function F2(t){Co(t).start()}function ooe(t){return VC.apply(this,arguments)}function VC(){return(VC=L(function*(t){Co(t).H_()})).apply(this,arguments)}function soe(t){return FC.apply(this,arguments)}function FC(){return(FC=L(function*(t){const e=Co(t);for(const n of t.oa)e.G_(n.mutations)})).apply(this,arguments)}function aoe(t,e,n){return LC.apply(this,arguments)}function LC(){return(LC=L(function*(t,e,n){const r=t.oa.shift(),i=zD.from(r,e,n);yield O2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield sc(t)})).apply(this,arguments)}function uoe(t,e){return BC.apply(this,arguments)}function BC(){return BC=L(function*(t,e){var n;e&&Co(t).W_&&(yield(n=L(function*(i,o){if(function hL(t){switch(t){case x.OK:return K(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return K(15467,{code:t})}}(a=o.code)&&a!==x.ABORTED){const s=i.oa.shift();Co(i).D_(),yield O2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield sc(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),V2(t)&&F2(t)}),BC.apply(this,arguments)}function L2(t,e){return jC.apply(this,arguments)}function jC(){return(jC=L(function*(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),B(Ks,"RemoteStore received new credentials");const r=Do(n);n.aa.add(3),yield ic(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield uh(n)})).apply(this,arguments)}function $C(){return($C=L(function*(t,e){const n=q(t);e?(n.aa.delete(2),yield uh(n)):e||(n.aa.add(2),yield ic(n),n.la.set("Unknown"))})).apply(this,arguments)}function ac(t){return t.Pa||(t.Pa=function(n,r,i){const o=q(n);return o.Y_(),new Wie(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:Xie.bind(null,t),Jo:eoe.bind(null,t),Zo:toe.bind(null,t),Q_:noe.bind(null,t)}),t.ua.push(function(){var e=L(function*(n){n?(t.Pa.D_(),RC(t)?AC(t):t.la.set("Unknown")):(yield t.Pa.stop(),k2(t))});return function(n){return e.apply(this,arguments)}}())),t.Pa}function Co(t){return t.Ta||(t.Ta=function(n,r,i){const o=q(n);return o.Y_(),new Qie(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:ooe.bind(null,t),Zo:uoe.bind(null,t),z_:soe.bind(null,t),j_:aoe.bind(null,t)}),t.ua.push(function(){var e=L(function*(n){n?(t.Ta.D_(),yield sc(t)):(yield t.Ta.stop(),t.oa.length>0&&(B(Ks,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))});return function(n){return e.apply(this,arguments)}}())),t.Ta}class HC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new HC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(t,e){if(Ct("AsyncQueue",`${e}: ${t}`),lo(t))return new j(x.UNAVAILABLE,`${e}: ${t}`);throw t}class cc{static emptySet(e){return new cc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new Je(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new cc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class B2{constructor(){this.Ia=new Je(W.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?0!==e.type&&3===r.type?this.Ia=this.Ia.insert(n,e):3===e.type&&1!==r.type?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Ia=this.Ia.remove(n):1===e.type&&2===r.type?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):K(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class lc{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new lc(e,n,cc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class coe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class loe{constructor(){this.queries=j2(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(n,r){const i=q(n),o=i.queries;i.queries=j2(),o.forEach((s,a)=>{for(const u of a.Ra)u.onError(r)})}(this,new j(x.ABORTED,"Firestore shutting down"))}}function j2(){return new Ni(t=>WF(t),Hd)}function qC(){return(qC=L(function*(t,e){const n=q(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new coe,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=uc(s,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&QC(n)})).apply(this,arguments)}function WC(){return(WC=L(function*(t,e){const n=q(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),0===o.Ra.length?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function doe(t,e){const n=q(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&QC(n)}function hoe(t,e,n){const r=q(t),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(e)}function QC(t){t.fa.forEach(e=>{e.next()})}var KC,U2;(U2=KC||(KC={})).ya="default",U2.Cache="cache";class ZC{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){return!e.fromCache||!this.ma()||(!this.options.Fa||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Da(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ca(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==KC.Cache}}class z2{constructor(e){this.key=e}}class q2{constructor(e){this.key=e}}class G2{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=me(),this.mutatedKeys=me(),this.Ua=KF(e),this.Ka=new cc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new B2,i=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=zd(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?y!==v&&(r.track({type:3,doc:g}),E=!0):this.ja(p,g)||(r.track({type:2,doc:g}),E=!0,(u&&this.Ua(g,u)>0||c&&this.Ua(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort((d,h)=>function(g,y){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:E})}};return v(g)-v(y)}(d.type,h.type)||this.Ua(d.doc,h.doc)),this.Ha(r),i=null!=i&&i;const a=n&&!i?this.Ja():[],u=0===this.$a.size&&this.current&&!i?1:0,c=u!==this.Qa;return this.Qa=u,0!==s.length||c?{snapshot:new lc(this.query,e.Ka,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new B2,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new q2(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new z2(r))}),n}Xa(e){this.qa=e.Ns,this.$a=me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return lc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const bo="SyncEngine";class goe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class moe{constructor(e){this.key=e,this.tu=!1}}class yoe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Ni(a=>WF(a),Hd),this.iu=new Map,this.su=new Set,this.ou=new Je(W.comparator),this._u=new Map,this.au=new oC,this.uu={},this.cu=new Map,this.lu=Ws.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}function _oe(t,e){return YC.apply(this,arguments)}function YC(){return(YC=L(function*(t,e,n=!0){const r=Lm(t);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield W2(r,e,n,!0),i})).apply(this,arguments)}function voe(t,e){return JC.apply(this,arguments)}function JC(){return(JC=L(function*(t,e){const n=Lm(t);yield W2(n,e,!0,!1)})).apply(this,arguments)}function W2(t,e,n,r){return XC.apply(this,arguments)}function XC(){return(XC=L(function*(t,e,n,r){const i=yield function nc(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new Pi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}(t.localStore,sn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function eb(t,e,n,r,i){return tb.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&Vm(t.remoteStore,i),a})).apply(this,arguments)}function tb(){return tb=L(function*(t,e,n,r,i){t.Pu=(h,p,g)=>{return(y=L(function*(E,T,C,O){let H=T.view.Ga(C);H.ys&&(H=yield Nm(E.localStore,T.query,!1).then(({documents:I})=>T.view.Ga(I,H)));const Q=O&&O.targetChanges.get(T.targetId),re=O&&null!=O.targetMismatches.get(T.targetId),b=T.view.applyChanges(H,E.isPrimaryClient,Q,re);return hb(E,T.targetId,b.Ya),b.snapshot}),function v(E,T,C,O){return y.apply(this,arguments)})(t,h,p,g);var y};const o=yield Nm(t.localStore,e,!0),s=new G2(e,o.Ns),a=s.Ga(o.documents),u=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);hb(t,n,c.Ya);const d=new goe(e,n,s);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}),tb.apply(this,arguments)}function Eoe(t,e,n){return nb.apply(this,arguments)}function nb(){return(nb=L(function*(t,e,n){const r=q(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Hd(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oc(r.remoteStore,i.targetId),dc(r,i.targetId)}).catch(co))):(dc(r,i.targetId),yield rc(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Ioe(t,e){return rb.apply(this,arguments)}function rb(){return(rb=L(function*(t,e){const n=q(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oc(n.remoteStore,r.targetId))})).apply(this,arguments)}function ib(){return(ib=L(function*(t,e,n){const r=function Db(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Coe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=boe.bind(null,e),e}(t);try{const i=yield function(s,a){const u=q(s),c=dt.now(),d=a.reduce((g,y)=>g.add(y.key),me());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Bn(),v=me();return u.Cs.getEntries(g,d).next(E=>{y=E,y.forEach((T,C)=>{C.isValidDocument()||(v=v.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,y)).next(E=>{h=E;const T=[];for(const C of a){const O=qre(C,h.get(C.key).overlayedDocument);null!=O&&T.push(new xi(C.key,O,NF(O.value.mapValue),ut.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,T,a)}).next(E=>{p=E;const T=E.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,E.batchId,T)})}).then(()=>({batchId:p.batchId,changes:YF(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.uu[s.currentUser.toKey()];c||(c=new Je(ne)),c=c.insert(a,u),s.uu[s.currentUser.toKey()]=c}(r,i.batchId,n),yield ki(r,i.changes),yield sc(r.remoteStore)}catch(i){const o=uc(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function Q2(t,e){return ob.apply(this,arguments)}function ob(){return(ob=L(function*(t,e){const n=q(t);try{const r=yield function Lie(t,e){const n=q(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.ai.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.ai.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);var v,E,T;null!==e.targetMismatches.get(h)?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),E=g,T=d,(0===(v=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.ai.updateTargetData(o,g))});let u=Bn(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function _2(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Bn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(fC,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{xs:s,Os:i}})}(o,s,e.documentUpdates).next(d=>{u=d.xs,c=d.Os})),!r.isEqual(X.min())){const d=n.ai.getLastRemoteSnapshotVersion(o).next(h=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ss=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n._u.get(o);s&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Y(s.tu,14607):i.removedDocuments.size>0&&(Y(s.tu,42227),s.tu=!1))}),yield ki(n,r,e)}catch(r){yield co(r)}})).apply(this,arguments)}function K2(t,e,n){const r=q(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ru.forEach((o,s)=>{const a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=q(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.Ra)p.ga(a)&&(c=!0)}),c&&QC(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Doe(t,e,n){return sb.apply(this,arguments)}function sb(){return(sb=L(function*(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),o=i&&i.key;if(o){let s=new Je(W.comparator);s=s.insert(o,et.newNoDocument(o,X.min()));const a=me().add(o),u=new Zd(X.min(),new Map,new Je(ne),s,a);yield Q2(r,u),r.ou=r.ou.remove(o),r._u.delete(e),fb(r)}else yield rc(r.localStore,e,!1).then(()=>dc(r,e,n)).catch(co)})).apply(this,arguments)}function Coe(t,e){return ab.apply(this,arguments)}function ab(){return(ab=L(function*(t,e){const n=q(t),r=e.batch.batchId;try{const i=yield function Fie(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let g=M.resolve();return p.forEach(y=>{g=g.next(()=>d.getEntry(u,y)).next(v=>{const E=c.docVersions.get(y);Y(null!==E,48541),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);db(n,r,null),lb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ki(n,i)}catch(i){yield co(i)}})).apply(this,arguments)}function boe(t,e,n){return ub.apply(this,arguments)}function ub(){return(ub=L(function*(t,e,n){const r=q(t);try{const i=yield function(s,a){const u=q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Y(null!==h,37113),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);db(r,e,n),lb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ki(r,i)}catch(i){yield co(i)}})).apply(this,arguments)}function lb(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function db(t,e,n){const r=q(t);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function dc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Z2(t,r)})}function Z2(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);null!==n&&(oc(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),fb(t))}function hb(t,e,n){for(const r of n)r instanceof z2?(t.au.addReference(r.key,e),Soe(t,r)):r instanceof q2?(B(bo,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Z2(t,r.key)):K(19791,{Iu:r})}function Soe(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(B(bo,"New document in limbo: "+n),t.su.add(r),fb(t))}function fb(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new W(we.fromString(e)),r=t.lu.next();t._u.set(r,new moe(n)),t.ou=t.ou.insert(n,r),Vm(t.remoteStore,new Pi(sn($u(n.path)),r,"TargetPurposeLimboResolution",Xn.le))}}function ki(t,e,n){return pb.apply(this,arguments)}function pb(){return pb=L(function*(t,e,n){const r=q(t),i=[],o=[],s=[];var a;r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=hC.Ps(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.nu.Q_(i),yield(a=L(function*(c,d){const h=q(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,g=>M.forEach(g.ls,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>M.forEach(g.hs,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!lo(p))throw p;B(fC,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const y=h.Ss.get(g),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);h.Ss=h.Ss.insert(g,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),pb.apply(this,arguments)}function Aoe(t,e){return gb.apply(this,arguments)}function gb(){return(gb=L(function*(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){B(bo,"User change. New user:",e.toKey());const r=yield m2(n.localStore,e);n.currentUser=e,(o=n).cu.forEach(a=>{a.forEach(u=>{u.reject(new j(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.cu.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ki(n,r.Ms)}var o})).apply(this,arguments)}function Roe(t,e){const n=q(t),r=n._u.get(e);if(r&&r.tu)return me().add(r.key);{let i=me();const o=n.iu.get(e);if(!o)return i;for(const s of o){const a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function Lm(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Roe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Doe.bind(null,e),e.nu.Q_=doe.bind(null,e.eventManager),e.nu.Tu=hoe.bind(null,e.eventManager),e}let Bm=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return L(function*(){r.serializer=ah(n.databaseInfo.databaseId),r.sharedClientState=r.Au(n),r.persistence=r.Ru(n),yield r.persistence.start(),r.localStore=r.Vu(n),r.gcScheduler=r.mu(n,r.localStore),r.indexBackfillerScheduler=r.fu(n,r.localStore)})()}mu(n,r){return null}fu(n,r){return null}Vu(n){return function g2(t,e,n,r){return new Vie(t,e,n,r)}(this.persistence,new p2,n.initialUser,this.serializer)}Ru(n){return new sC(Am.Ei,this.serializer)}Au(n){return new S2}terminate(){var n=this;return L(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class Cb extends Bm{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){return Y(this.persistence.referenceDelegate instanceof Rm,46915),new i2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ru(e){const n=void 0!==this.cacheSizeBytes?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new sC(r=>Rm.Ei(r,n),this.serializer)}}let hc=(()=>{class t{initialize(n,r){var i=this;return L(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>K2(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Aoe.bind(null,i.syncEngine),yield function UC(t,e){return $C.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new loe}createDatastore(n){const r=ah(n.databaseInfo.databaseId),i=new Gie(n.databaseInfo);return new Zie(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>K2(this.syncEngine,r,0),u=R2.C()?new R2:new $ie,new Jie(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const p=new yoe(o,s,a,u,c,d);return h&&(p.hu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return L(function*(){var r,i,o;yield(o=L(function*(a){const u=q(a);B(Ks,"RemoteStore shutting down."),u.aa.add(5),yield ic(u),u.ca.shutdown(),u.la.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class jm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const To="FirestoreClient";class Uoe{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=HV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=L(function*(u){B(To,"Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(B(To,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(L(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=uc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Tb(t,e){return Sb.apply(this,arguments)}function Sb(){return Sb=L(function*(t,e){t.asyncQueue.verifyOperationInProgress(),B(To,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=L(function*(o){r.isEqual(o)||(yield m2(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Sb.apply(this,arguments)}function tB(t,e){return Ab.apply(this,arguments)}function Ab(){return(Ab=L(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Rb(t){return Mb.apply(this,arguments)}(t);B(To,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L2(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function Mb(){return(Mb=L(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(To,"Using user provided OfflineComponentProvider");try{yield Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;hr("Error using user provided cache. Falling back to memory cache: "+e),yield Tb(t,new Bm)}}else B(To,"Using default OfflineComponentProvider"),yield Tb(t,new Cb(void 0));var i;return t._offlineComponents})).apply(this,arguments)}function Um(t){return Nb.apply(this,arguments)}function Nb(){return(Nb=L(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(To,"Using user provided OnlineComponentProvider"),yield tB(t,t._uninitializedComponentsProvider._online)):(B(To,"Using default OnlineComponentProvider"),yield tB(t,new hc))),t._onlineComponents})).apply(this,arguments)}function pc(t){return Pb.apply(this,arguments)}function Pb(){return(Pb=L(function*(t){const e=yield Um(t),n=e.eventManager;return n.onListen=_oe.bind(null,e.syncEngine),n.onUnlisten=Eoe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=voe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ioe.bind(null,e.syncEngine),n})).apply(this,arguments)}function aB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const uB=new Map;function kb(t,e,n){if(!n)throw new j(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cB(t){if(!W.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lB(t){if(W.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $m(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":K(12329,{type:typeof t})}function Ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(t);throw new j(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class pB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xoe(t,e,n,r){if(!0===e&&!0===r)throw new j(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=aB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pB(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Vne;switch(r.type){case"firstParty":return new jne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,jee("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return L(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uB.get(n);r&&(B("ComponentProvider","Removing Datastore"),uB.delete(n),r.terminate())}(this),Promise.resolve()}}class Jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class ti extends Jt{constructor(e,n,r){super(e,n,$u(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new W(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function tse(t,e,...n){if(t=Zn(t),kb("collection","path",e),t instanceof ch){const r=we.fromString(e,...n);return lB(r),new ti(t,null,r)}{if(!(t instanceof Tt||t instanceof ti))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return lB(r),new ti(t.firestore,null,r)}}function gB(t,e,...n){if(t=Zn(t),1===arguments.length&&(e=HV.newId()),kb("doc","path",e),t instanceof ch){const r=we.fromString(e,...n);return cB(r),new Tt(t,null,new W(r))}{if(!(t instanceof Tt||t instanceof ti))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return cB(r),new Tt(t.firestore,t instanceof ti?t.converter:null,new W(r))}}const yB="AsyncQueue";class _B{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new CC(this,"async_queue_retry"),this.ju=()=>{const r=Om();r&&B(yB,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Om();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Om();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new zt;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){var e=this;return L(function*(){if(0!==e.Qu.length){try{yield e.Qu[0](),e.Qu.shift(),e.y_.reset()}catch(n){if(!lo(n))throw n;B(yB,"Operation failed with retryable error: "+n)}e.Qu.length>0&&e.y_.E_(()=>e.Zu())}})()}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ct("INTERNAL UNHANDLED ERROR: ",vB(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=HC.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&K(47125,{ec:vB(this.Ku)})}verifyOperationInProgress(){}tc(){var e=this;return L(function*(){let n;do{n=e.Hu,yield n}while(n!==e.Hu)})()}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function vB(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}function Ob(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class We extends ch{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _B,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return L(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new _B(n),e._firestoreClient=void 0,yield n}})()}}function ht(t){if(t._terminated)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function EB(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Cre(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aB(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Uoe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(vt.fromBase64String(e))}catch(n){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ys{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._methodName=e}}class Fb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}class Hm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const ise=/^__.*__$/;class ose{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}class wB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{oc:t})}}class zm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Wm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(DB(this.oc)&&ise.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class sse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}dc(e,n,r,i=!1){return new zm({oc:e,methodName:n,Ec:r,path:st.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Js(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new sse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qm(t,e,n,r,i,o={}){const s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);zb("Data must be an object, but it was:",s,r);const a=TB(r,s);let u,c;if(o.merge)u=new Ln(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=hh(e,h,n);if(!s.contains(p))throw new j(x.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);AB(d,p)||d.push(p)}u=new Ln(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new ose(new Yt(a),u,c)}class dh extends gc{_toFieldTransform(e){if(2!==e.oc)throw e.Tc(1===e.oc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function Xs(t,e){if(SB(t=Zn(t)))return zb("Unsupported field value:",e,t),TB(t,e);if(t instanceof gc)return function(r,i){if(!DB(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&4!==e.oc)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Xs(a,i.Pc(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Zn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return eL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:Ku(i.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,o)}}if(r instanceof Fb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zs)return{bytesValue:EL(i.serializer,r._byteString)};if(r instanceof Tt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hm)return s=r,a=i,{mapValue:{fields:{[MD]:{stringValue:ND},[Bu]:{arrayValue:{values:s.toArray().map(c=>{if("number"!=typeof c)throw a.Tc("VectorValues must only contain numeric values.");return UD(a.serializer,c)})}}}}};var s,a;throw i.Tc(`Unsupported field value: ${$m(r)}`)}(t,e)}function TB(t,e){const n={};return gF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,i)=>{const o=Xs(i,e.uc(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function SB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Fb||t instanceof Zs||t instanceof Tt||t instanceof gc||t instanceof Hm)}function zb(t,e,n){if(!SB(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=$m(n);throw e.Tc("an object"===r?t+" a custom object":t+" "+r)}var i}function hh(t,e,n){if((e=Zn(e))instanceof Ys)return e._internalPath;if("string"==typeof e)return Gm(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const ase=new RegExp("[~\\*/\\[\\]]");function Gm(t,e,n){if(e.search(ase)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ys(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(x.INVALID_ARGUMENT,a+t+u)}function AB(t,e){return t.some(n=>n.isEqual(e))}class fh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new use(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class use extends fh{data(){return super.data()}}function Qm(t,e){return"string"==typeof e?Gm(t,e):e instanceof Ys?e._internalPath:e._delegate._internalPath}class OB{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n[Bu].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>at(s.doubleValue));return new Hm(o)}convertGeoPoint(e){return new Fb(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);Y(xL(r),9688,{name:e});const i=new Fs(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Ct(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends fh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xm extends yc{data(e={}){return super.data(e)}}class _c{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ea(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xm(this._firestore,this._userDataWriter,r.key,r,new ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Xm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Xm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:dse(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}class So extends OB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function hse(t,e,n,...r){t=Ie(t,Tt);const i=Ie(t.firestore,We),o=Js(i);let s;return s="string"==typeof(e=Zn(e))||e instanceof Ys?function Hb(t,e,n,r,i,o){const s=t.dc(1,e,n),a=[hh(e,r,n)],u=[i];if(o.length%2!=0)throw new j(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(hh(e,o[p])),u.push(o[p+1]);const c=[],d=Yt.empty();for(let p=a.length-1;p>=0;--p)if(!AB(c,a[p])){const g=a[p];let y=u[p];y=Zn(y);const v=s.hc(g);if(y instanceof dh)c.push(g);else{const E=Xs(y,v);null!=E&&(c.push(g),d.set(g,E))}}const h=new Ln(c);return new wB(d,h,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function $b(t,e,n,r){const i=t.dc(1,e,n);zb("Data must be an object, but it was:",i,r);const o=[],s=Yt.empty();fo(r,(u,c)=>{const d=Gm(e,u,n);c=Zn(c);const h=i.hc(d);if(c instanceof dh)o.push(d);else{const p=Xs(c,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new Ln(o);return new wB(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),mh(i,[s.toMutation(t._key,ut.exists(!0))])}function fse(t){return mh(Ie(t.firestore,We),[new Qu(t._key,ut.none())])}function pse(t,e){const n=Ie(t.firestore,We),r=gB(t),i=function Jm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return mh(n,[qm(Js(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ut.exists(!1))]).then(()=>r)}function mh(t,e){return function(r,i){const o=new zt;return r.asyncQueue.enqueueAndForget(L(function*(){return function woe(t,e,n){return ib.apply(this,arguments)}(yield function xb(t){return Um(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(ht(t),e)}!function(e,n=!0){Su="11.7.3",$g(new wd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new We(new Lne(r.getProvider("auth-internal")),new Une(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),As(BV,"4.7.14",e),As(BV,"4.7.14","esm2017")}();var ty=function(){return ty=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ty.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Rse={includeMetadataChanges:!1};function Zb(t,e){return void 0===e&&(e=Rse),new ft(function(n){var r=function gse(t,...e){var n,r,i;t=Zn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||Ob(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ob(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(t instanceof Tt)c=Ie(t.firestore,We),d=$u(t._key.path),u={next:h=>{e[s]&&e[s](function Wb(t,e,n){const r=n.docs.get(e._key),i=new So(t);return new yc(t,i,e._key,r,new ea(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ie(t,Jt);c=Ie(h.firestore,We),d=h._query;const p=new So(c);u={next:g=>{e[s]&&e[s](new _c(c,p,h,g))},error:e[s+1],complete:e[s+2]},function RB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(p,g,y,v){const E=new jm(v),T=new ZC(g,E,y);return p.asyncQueue.enqueueAndForget(L(function*(){return function zC(t,e){return qC.apply(this,arguments)}(yield pc(p),T)})),()=>{E.yu(),p.asyncQueue.enqueueAndForget(L(function*(){return function GC(t,e){return WC.apply(this,arguments)}(yield pc(p),T)}))}}(ht(c),d,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Nse(t,e){return void 0===e&&(e={}),function Mse(t){return Zb(t,{includeMetadataChanges:!0})}(t).pipe(Re(function(n){return BB(n,e)}))}function BB(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?ty(ty({},r),((n={})[e.idField]=t.id,n)):r}function Fse(t,e){return void 0===e&&(e={}),function Vse(t){return Zb(t,{includeMetadataChanges:!0}).pipe(Re(function(e){return e.docs}))}(t).pipe(Re(function(n){return n.map(function(r){return BB(r,e)})}))}class ny{constructor(e){return e}}const zse=Ms(Fse,!0),qse=Ms(Nse,!0),Gse=Ms(pse,!0,2),zB=Ms(tse,!0,2),Wse=Ms(fse,!0,2),eT=Ms(gB,!0,2),Qse=Ms(hse,!0,2);let tT=(()=>{class t{firestore;constructor(n){this.firestore=n}getContacts(){const n=zB(this.firestore,"contacts");return zse(n,{idField:"id"})}getContactById(n){const r=eT(this.firestore,`contacts/${n}`);return qse(r,{idField:"id"})}addContact(n){var r=this;return L(function*(){const i=zB(r.firestore,"contacts");yield Gse(i,n)})()}updateContact(n){var r=this;return L(function*(){const i=eT(r.firestore,`contacts/${n.id}`);yield Qse(i,{name:n.name,email:n.email,phone:n.phone})})()}deleteContact(n){var r=this;return L(function*(){const i=eT(r.firestore,`contacts/${n}`);yield Wse(i)})()}static \u0275fac=function(r){return new(r||t)(se(ny))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Kse=t=>["/edit",t];function Zse(t,e){1&t&&(le(0,"span",20),He(1,"i",21),Oe(2," Work "),pe())}function Yse(t,e){1&t&&(le(0,"span",22),He(1,"i",4),Oe(2," Personal "),pe())}function Jse(t,e){1&t&&(le(0,"span",23),He(1,"i",24),Oe(2," Family "),pe())}function Xse(t,e){if(1&t&&(le(0,"a",25)(1,"button",26),He(2,"i",27),Oe(3," Edit "),pe()()),2&t){const n=Bp().$implicit;ar("routerLink",function Ex(t,e,n,r){return Ix(P(),_n(),t,e,n,r)}(1,Kse,n.id.toString()))}}function eae(t,e){if(1&t){const n=pI();le(0,"button",28),nn("click",function(){es(n);const i=Bp().$implicit;return ts(Bp().deleteContact(i.id.toString()))}),Oe(1," Delete "),pe()}}function tae(t,e){if(1&t&&(le(0,"tr")(1,"td"),He(2,"i",12),Oe(3),pe(),le(4,"td"),He(5,"i",13),Oe(6),pe(),le(7,"td"),He(8,"i",14),Oe(9),pe(),le(10,"td"),Ml(11,Zse,3,0,"span",15)(12,Yse,3,0,"span",16)(13,Jse,3,0,"span",17),pe(),le(14,"td"),Ml(15,Xse,4,3,"a",18)(16,eae,2,0,"button",19),pe()()),2&t){const n=e.$implicit;At(3),Yi(" ",n.name," "),At(3),Yi(" ",n.email," "),At(3),Yi(" ",n.phone," "),At(2),ar("ngIf","work"===n.type),At(),ar("ngIf","personal"===n.type),At(),ar("ngIf","family"===n.type),At(2),ar("ngIf",n.id),At(),ar("ngIf",n.id)}}let nae=(()=>{class t{contactService;contacts$;constructor(n){this.contactService=n,this.contacts$=this.contactService.getContacts()}deleteContact(n){confirm("Are you sure you want to delete this contact?")&&(this.contactService.deleteContact(n),this.contacts$=this.contactService.getContacts())}static \u0275fac=function(r){return new(r||t)($(tT))};static \u0275cmp=fs({type:t,selectors:[["app-contact-list"]],decls:27,vars:3,consts:[[1,"mb-4"],[1,"fas","fa-address-book","text-primary","me-2"],[1,"table","table-light"],[1,"table-light"],[1,"fas","fa-user","me-1"],[1,"fas","fa-envelope","me-1"],[1,"fas","fa-phone","me-1"],[1,"fas","fa-tag","me-1"],[1,"fas","fa-cog","me-1"],[4,"ngFor","ngForOf"],["routerLink","/add",1,"btn","btn-primary","mt-3"],[1,"fas","fa-plus-circle","me-1"],[1,"fas","fa-user-circle","me-2","text-secondary"],[1,"fas","fa-envelope-open-text","me-2","text-secondary"],[1,"fas","fa-mobile-alt","me-2","text-secondary"],["class","badge bg-primary",4,"ngIf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning text-dark",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"badge","bg-primary"],[1,"fas","fa-briefcase","me-1"],[1,"badge","bg-success"],[1,"badge","bg-warning","text-dark"],[1,"fas","fa-home","me-1"],[3,"routerLink"],[1,"btn","btn-sm","btn-outline-primary","me-2"],[1,"fas","fa-edit","me-1"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(r,i){1&r&&(le(0,"h2",0),He(1,"i",1),Oe(2,"Contact List\n"),pe(),le(3,"table",2)(4,"thead",3)(5,"tr")(6,"th"),He(7,"i",4),Oe(8," Name"),pe(),le(9,"th"),He(10,"i",5),Oe(11," Email"),pe(),le(12,"th"),He(13,"i",6),Oe(14," Phone"),pe(),le(15,"th"),He(16,"i",7),Oe(17," Type"),pe(),le(18,"th"),He(19,"i",8),Oe(20," Actions"),pe()()(),le(21,"tbody"),Ml(22,tae,17,8,"tr",9),function Tx(t,e){const n=oe();let r;const i=t+Z;n.firstCreatePass?(r=function xW(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ho(r.type)),a=Rn($);try{const u=Mf(!1),c=o();return Mf(u),function EI(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,P(),i,c),c}finally{Rn(a)}}(23,"async"),pe()(),le(24,"a",10),He(25,"i",11),Oe(26," Add New Contact\n"),pe()),2&r&&(At(22),ar("ngForOf",function Sx(t,e,n){const r=t+Z,i=P(),o=Jo(i,r);return function $l(t,e){return t[1].data[e].pure}(i,r)?Ix(i,_n(),e,o.transform,n,o):o.transform(n)}(23,1,i.contacts$)))},dependencies:[Jl,ok,ak,lk,Ww,vd],styles:["[_nghost-%COMP%]{display:block}.contact-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:100px;margin-bottom:30px}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #eee}.contact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#343a40;font-weight:600}.add-btn[_ngcontent-%COMP%]{background-color:#28a745;border:none;padding:10px 20px;font-size:1rem;border-radius:6px;color:#fff;transition:all .3s}.add-btn[_ngcontent-%COMP%]{background-color:#218838;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}"]})}return t})(),qB=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)($(vi),$(Gn))};static \u0275dir=ce({type:t})}return t})(),ta=(()=>{class t extends qB{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275dir=ce({type:t,features:[Le]})}return t})();const ni=new z(""),oae={provide:ni,useExisting:Ke(()=>ry),multi:!0},aae=new z("");let ry=(()=>{class t extends qB{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function sae(){const t=eo()?eo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)($(vi),$(Gn),$(aae,8))};static \u0275dir=ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&nn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[it([oae]),Le]})}return t})();function nT(t){return null==t||0===function rT(t){return null==t?null:Array.isArray(t)||"string"==typeof t?t.length:t instanceof Set?t.size:null}(t)}const cn=new z(""),Ro=new z("");function KB(t){return nT(t.value)?{required:!0}:null}function iy(t){return null}function tj(t){return null!=t}function nj(t){return xl(t)?$t(t):t}function rj(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function ij(t,e){return e.map(n=>n(t))}function oj(t){return t.map(e=>function cae(t){return!t.validate}(e)?e:n=>e.validate(n))}function iT(t){return null!=t?function sj(t){if(!t)return null;const e=t.filter(tj);return 0==e.length?null:function(n){return rj(ij(n,e))}}(oj(t)):null}function oT(t){return null!=t?function aj(t){if(!t)return null;const e=t.filter(tj);return 0==e.length?null:function(n){return function rae(...t){const e=Sk(t),{args:n,keys:r}=Ak(t),i=new ft(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;Hr(n[d]).subscribe(Pt(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?Mk(r,a):a),o.complete())}))}});return e?i.pipe(Rk(e)):i}(ij(n,e).map(nj)).pipe(Re(rj))}}(oj(t)):null}function uj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sT(t){return t?Array.isArray(t)?t:[t]:[]}function oy(t,e){return Array.isArray(t)?t.includes(e):t===e}function dj(t,e){const n=sT(e);return sT(t).forEach(i=>{oy(n,i)||n.push(i)}),n}function hj(t,e){return sT(e).filter(n=>!oy(t,n))}class fj{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Cn extends fj{name;get formDirective(){return null}get path(){return null}}class Mo extends fj{_parent=null;name=null;valueAccessor=null}class pj{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let gj=(()=>{class t extends pj{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)($(Mo,2))};static \u0275dir=ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&xp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Le]})}return t})(),mj=(()=>{class t extends pj{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)($(Cn,10))};static \u0275dir=ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&xp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Le]})}return t})();const yh="VALID",ay="INVALID",vc="PENDING",_h="DISABLED";class Ec{}class _j extends Ec{value;source;constructor(e,n){super(),this.value=e,this.source=n}}class cT extends Ec{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}}class lT extends Ec{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}}class uy extends Ec{status;source;constructor(e,n){super(),this.status=e,this.source=n}}class vj extends Ec{source;constructor(e){super(),this.source=e}}class Ej extends Ec{source;constructor(e){super(),this.source=e}}function dT(t){return(cy(t)?t.validators:t)||null}function hT(t,e){return(cy(e)?e.asyncValidators:t)||null}function cy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fT{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Rt(this.statusReactive)}set status(e){Rt(()=>this.statusReactive.set(e))}_status=Ii(()=>this.statusReactive());statusReactive=Or(void 0);get valid(){return this.status===yh}get invalid(){return this.status===ay}get pending(){return this.status==vc}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}errors;get pristine(){return Rt(this.pristineReactive)}set pristine(e){Rt(()=>this.pristineReactive.set(e))}_pristine=Ii(()=>this.pristineReactive());pristineReactive=Or(!0);get dirty(){return!this.pristine}get touched(){return Rt(this.touchedReactive)}set touched(e){Rt(()=>this.touchedReactive.set(e))}_touched=Ii(()=>this.touchedReactive());touchedReactive=Or(!1);get untouched(){return!this.touched}_events=new Sn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hj(e,this._rawAsyncValidators))}hasValidator(e){return oy(this._rawValidators,e)}hasAsyncValidator(e){return oy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new lT(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new lT(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new cT(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new cT(!0,r))}markAsPending(e={}){this.status=vc;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new uy(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_h,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new _j(this.value,r)),this._events.next(new uy(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=yh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yh||this.status===vc)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new _j(this.value,n)),this._events.next(new uy(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:yh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=vc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=nj(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new uy(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vc)?vc:this._anyControlsHaveStatus(ay)?ay:yh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new cT(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new lT(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mae(t){return Array.isArray(t)?iT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yae(t){return Array.isArray(t)?oT(t):t||null}(this._rawAsyncValidators)}}class pT extends fT{constructor(e,n,r){super(dT(n),hT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function wj(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new F(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Ij(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ic=new z("",{providedIn:"root",factory:()=>ly}),ly="always";function vh(t,e,n=ly){gT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Eae(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Dj(t,e)})}(t,e),function wae(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Iae(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Dj(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vae(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function fy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function gT(t,e){const n=function cj(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function lj(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();fy(e._rawValidators,i),fy(e._rawAsyncValidators,i)}function Dj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Sae={provide:Cn,useExisting:Ke(()=>Ih)},Eh=Promise.resolve();let Ih=(()=>{class t extends Cn{callSetDisabledState;get submitted(){return Rt(this.submittedReactive)}_submitted=Ii(()=>this.submittedReactive());submittedReactive=Or(!1);_directives=new Set;form;ngSubmit=new wt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new pT({},iT(n),oT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Eh.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),vh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Eh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Eh.then(()=>{const r=this._findContainer(n.path),i=new pT({});(function Cj(t,e){gT(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Eh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Eh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function bj(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new vj(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Ej(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)($(cn,10),$(Ro,10),$(Ic,8))};static \u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&nn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[it([Sae]),Le]})}return t})();function Tj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Aj=class extends fT{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(dT(n),hT(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Sj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Sj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},xae={provide:Mo,useExisting:Ke(()=>vT)},Rj=Promise.resolve();let vT=(()=>{class t extends Mo{_changeDetectorRef;callSetDisabledState;control=new Aj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function _T(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ry?n=o:function bae(t){return Object.getPrototypeOf(t.constructor)===ta}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function yT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Rj.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&gu(r);Rj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function dy(t,e){return[...e.path,t]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)($(Cn,9),$(cn,10),$(Ro,10),$(ni,10),$(Wl,8),$(Ic,8))};static \u0275dir=ce({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[it([xae]),Le,mr]})}return t})(),Mj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();const $ae={provide:ni,useExisting:Ke(()=>vy),multi:!0};function Lj(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vy=(()=>{class t extends ta{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;const i=Lj(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Hae(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275dir=ce({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&nn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[it([$ae]),Le]})}return t})(),Bj=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Lj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)($(Gn),$(vi),$(vy,9))};static \u0275dir=ce({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const zae={provide:ni,useExisting:Ke(()=>ET),multi:!0};function jj(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ET=(()=>{class t extends ta{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function qae(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275dir=ce({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&nn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[it([zae]),Le]})}return t})(),Uj=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(jj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(jj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)($(Gn),$(vi),$(ET,9))};static \u0275dir=ce({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),na=(()=>{class t{_validator=iy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):iy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ce({type:t,features:[mr]})}return t})();const Qae={provide:cn,useExisting:Ke(()=>Ey),multi:!0};let Ey=(()=>{class t extends na{required;inputName="required";normalizeInput=gu;createValidator=n=>KB;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jt(t)))(i||t)}})();static \u0275dir=ce({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&jr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[it([Qae]),Le]})}return t})(),eue=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Za({type:t});static \u0275inj=jo({})}return t})(),nue=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ic,useValue:n.callSetDisabledState??ly}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Za({type:t});static \u0275inj=jo({imports:[eue]})}return t})(),Yj=(()=>{class t{contact={id:0,name:"",email:"",phone:"",type:"personal"};submitContact=new wt;isEditMode=!1;ngOnInit(){this.isEditMode=!!this.contact?.id}onSubmit(){this.submitContact.emit(this.contact)}onCancel(){this.contact={id:0,name:"",email:"",phone:"",type:"personal"},this.isEditMode=!1}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=fs({type:t,selectors:[["app-contact-form"]],inputs:{contact:"contact"},outputs:{submitContact:"submitContact"},decls:52,vars:10,consts:[["contactForm","ngForm"],[1,"form-container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],[1,"fas","fa-signature","me-2"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],[1,"fas","fa-at","me-2"],[1,"fas","fa-envelope"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["for","phone",1,"form-label"],[1,"fas","fa-phone-alt","me-2"],[1,"fas","fa-mobile-alt"],["type","tel","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","type"],["id","type","name","type",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","personal"],["value","work"],["value","family"],[1,"d-flex","justify-content-between"],["type","button","routerLink","/",1,"btn","btn-outline-secondary"],[1,"fas","fa-arrow-left","me-1"],["type","reset",1,"btn","btn-outline-danger","me-2"],[1,"fas","fa-undo","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save","me-1"]],template:function(r,i){if(1&r){const o=pI();le(0,"div",1)(1,"h4",2),He(2,"i"),Oe(3),pe(),le(4,"form",3,0),nn("ngSubmit",function(){return es(o),ts(i.onSubmit())}),le(6,"div",4)(7,"label",5),He(8,"i",6),Oe(9,"Full Name "),pe(),le(10,"div",7)(11,"span",8),He(12,"i",9),pe(),le(13,"input",10),fu("ngModelChange",function(a){return es(o),jl(i.contact.name,a)||(i.contact.name=a),ts(a)}),pe()()(),le(14,"div",4)(15,"label",11),He(16,"i",12),Oe(17,"Email Address "),pe(),le(18,"div",7)(19,"span",8),He(20,"i",13),pe(),le(21,"input",14),fu("ngModelChange",function(a){return es(o),jl(i.contact.email,a)||(i.contact.email=a),ts(a)}),pe()()(),le(22,"div",15)(23,"label",16),He(24,"i",17),Oe(25,"Phone Number "),pe(),le(26,"div",7)(27,"span",8),He(28,"i",18),pe(),le(29,"input",19),fu("ngModelChange",function(a){return es(o),jl(i.contact.phone,a)||(i.contact.phone=a),ts(a)}),pe()()(),le(30,"label",20),Oe(31,"Contact Type"),pe(),le(32,"select",21),fu("ngModelChange",function(a){return es(o),jl(i.contact.type,a)||(i.contact.type=a),ts(a)}),le(33,"option",22),Oe(34,"Select type"),pe(),le(35,"option",23),Oe(36,"Personal"),pe(),le(37,"option",24),Oe(38,"Work"),pe(),le(39,"option",25),Oe(40,"Family"),pe()(),le(41,"div",26)(42,"button",27),He(43,"i",28),Oe(44," Back "),pe(),le(45,"div")(46,"button",29),He(47,"i",30),Oe(48," Reset "),pe(),le(49,"button",31),He(50,"i",32),Oe(51),pe()()()()()}if(2&r){const o=KN(5);At(2),iN("fas ",i.isEditMode?"fa-user-edit":"fa-user-plus"," me-2"),At(),Yi(" ",i.isEditMode?"Edit Contact":"Add New Contact"," "),At(10),hu("ngModel",i.contact.name),At(8),hu("ngModel",i.contact.email),At(8),hu("ngModel",i.contact.phone),At(3),hu("ngModel",i.contact.type),At(17),ar("disabled",!o.form.valid),At(2),Yi(" ",i.isEditMode?"Update":"Save"," ")}},dependencies:[Jl,nue,Mj,Bj,Uj,ry,vy,gj,mj,Ey,vT,Ih,Ww,vd],styles:["[_nghost-%COMP%]{display:block;padding:20px}.form-container[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 20px #00000014;padding:30px;max-width:600px;margin:40px auto}.form-title[_ngcontent-%COMP%]{margin-bottom:25px;color:#343a40;font-weight:600;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:6px;padding:10px 15px;width:100%;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40;outline:none}.btn-submit[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:6px;margin-right:10px;transition:all .3s}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0069d9;transform:translateY(-2px)}.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:6px;transition:all .3s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#5a6268;transform:translateY(-2px)}"]})}return t})();const rue=()=>({id:0,name:"",email:"",phone:""});(function sK(t,e){return $7({rootComponent:t,...QP(e)})})(Tee,{providers:[function fee(t,...e){return ji([{provide:gd,multi:!0,useValue:t},[],{provide:bs,useFactory:HO,deps:[Ar]},{provide:Xa,multi:!0,useFactory:zO},e.map(n=>n.\u0275providers)])}([{path:"",component:nae},{path:"add",component:(()=>{class t{contactService;router;constructor(n,r){this.contactService=n,this.router=r}onAddContact(n){this.contactService.addContact(n),this.router.navigate(["/"])}static \u0275fac=function(r){return new(r||t)($(tT),$(Ar))};static \u0275cmp=fs({type:t,selectors:[["app-add-contact"]],decls:3,vars:2,consts:[[1,"container","mt-4"],[3,"submitContact","contact"]],template:function(r,i){1&r&&(le(0,"h2",0),Oe(1,"Add New Contact"),pe(),le(2,"app-contact-form",1),nn("submitContact",function(s){return i.onAddContact(s)}),pe()),2&r&&(At(2),ar("contact",function vx(t,e,n){const r=_n()+t,i=P();return i[r]===fe?Br(i,r,n?e.call(n):e()):function Al(t,e){return t[e]}(i,r)}(1,rue)))},dependencies:[Jl,Yj],styles:[".add-contact-section[_ngcontent-%COMP%]{background-color:#f0f4f8;padding:30px;border-radius:12px;box-shadow:0 4px 12px #0000000d;margin-top:20px}.add-contact-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#343a40;font-weight:600;margin-bottom:20px}"]})}return t})()},{path:"edit/:id",component:(()=>{class t{contactService;route;router;contact={id:0,name:"",email:"",phone:""};constructor(n,r,i){this.contactService=n,this.route=r,this.router=i}ngOnInit(){const n=this.route.snapshot.paramMap.get("id");n?this.contactService.getContactById(n).subscribe(r=>{r?this.contact={...r}:this.router.navigate(["/"])}):this.router.navigate(["/"])}onUpdateContact(n){this.contactService.updateContact(n),this.router.navigate(["/"])}static \u0275fac=function(r){return new(r||t)($(tT),$(bs),$(Ar))};static \u0275cmp=fs({type:t,selectors:[["app-edit-contact"]],decls:3,vars:1,consts:[[1,"container","mt-4"],[3,"submitContact","contact"]],template:function(r,i){1&r&&(le(0,"h2",0),Oe(1,"Edit Contact"),pe(),le(2,"app-contact-form",1),nn("submitContact",function(s){return i.onUpdateContact(s)}),pe()),2&r&&(At(2),ar("contact",i.contact))},dependencies:[Jl,Yj],encapsulation:2})}return t})()}])]}).catch(t=>console.error(t))}},Tc=>{Tc(Tc.s=28)}]);